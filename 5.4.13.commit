53b9bd37af59 drm/i915/gen9: Clear residual context state on context switch
e1a17ea063a8 drm/i915/gt: Mark up virtual engine uabi_instance
843f6795576e drm/i915: Add Wa_1407352427:icl,ehl
4f1fa1164ddf drm/i915: Add Wa_1408615072 and Wa_1407596294 to icl,ehl
c35de2e005b2 drm/i915/execlists: Fix annotation for decoupling virtual request
f745d9713ece drm/i915/gvt: Fix cmd length check for MI_ATOMIC
818f1c7d82cd drm/i915/fbc: Disable fbc by default on all glk+
71d122629c04 drm/i915/fbdev: Restore physical addresses for fb_mmap()
d43e24533dc2 drm/i915: make pool objects read-only
c0fa92ec8902 drm/i915: Protect request peeking with RCU
2d691aeca4ae drm/i915/userptr: Try to acquire the page lock around set_page_dirty()
add3eeed3683 drm/i915/pmu: "Frequency" is reported as accumulated cycles
1aa4df7e41b6 drm/i915: Preload LUTs if the hw isn't currently using them
8ac495f624a4 drm/i915: Don't oops in dumb_create ioctl if we have no crtcs
37b49f31e800 Merge tag 'drm-fixes-2019-11-15' of git://anongit.freedesktop.org/drm/drm
1c602006d1dc drm/i915/tgl: MOCS table update
ed77d88752ae Revert "drm/i915/ehl: Update MOCS table for EHL"
31e8d62989a7 Merge tag 'gvt-fixes-2019-11-12' of https://github.com/intel/gvt-linux into drm-intel-fixes
2f216a850715 drm/i915: update rawclk also on resume
100d46bd72ec Merge Intel Gen8/Gen9 graphics fixes from Jon Bloomfield.
ea0b163b13ff drm/i915/cmdparser: Fix jump whitelist clearing
41d931459b53 drm/i915/gvt: fix dropping obj reference twice
7e34f4e4aad3 drm/i915/gen8+: Add RC6 CTX corruption WA
1d85a299c4db drm/i915: Lower RM timeout to avoid DSI hard hangs
926abff21a8f drm/i915/cmdparser: Ignore Length operands during command matching
f8c08d8faee5 drm/i915/cmdparser: Add support for backward jumps
0546a29cd884 drm/i915/cmdparser: Use explicit goto for error paths
0f2f39758341 drm/i915: Add gen9 BCS cmdparsing
435e8fc059db drm/i915: Allow parsing of unsized batches
4f7af1948abc drm/i915: Support ro ppgtt mapped cmdparser shadow buffers
311a50e76a33 drm/i915: Add support for mandatory cmdparsing
66d8aba1cd6d drm/i915: Remove Master tables from cmdparser
44157641d448 drm/i915: Disable Secure Batches for gen6+
0a2f661b6c21 drm/i915: Rename gen7 cmdparser tables
ee2c5ef8a9d6 drm/i915/dp: Do not switch aux to TBT mode for non-TC ports
1f1be49fb67a drm/i915: Avoid HPD poll detect triggering a new detect cycle
59cd826fb5e7 drm/i915: Fix PCH reference clock for FDI on HSW/BDW
dd7ebe678732 drm/i915/tgl: Fix doc not corresponding to code
0a544a2a728e drm/i915: Fixup preempt-to-busy vs resubmission of a virtual request
4f2a572eda67 drm/i915/userptr: Never allow userptr into the mappable GGTT
0336ab580878 drm/i915: Favor last VBT child device with conflicting AUX ch/DDC pin
128260a41eeb drm/i915/execlists: Refactor -EIO markup of hung requests
e137d3abdfca drm/i915/gt: execlists->active is serialised by the tasklet
749085a2131f drm/i915/execlists: Protect peeking at execlists->active
68184eb7b096 drm/i915: Fixup preempt-to-busy vs reset of a virtual request
a8385f0c3fd3 drm/i915: Only enqueue already completed requests
6535a4b34ed9 drm/i915/execlists: Drop redundant list_del_init(&rq->sched.link)
a8064d577dab drm/i915/cml: Add second PCH ID for CMP
b925708f28c2 drm/i915: Mark contents as dirty on a write fault
7d0eb51dd92c drm/i915: Prevent bonded requests from overtaking each other on preemption
dc7890995e04 drm/i915: Bump skl+ max plane width to 5k for linear/x-tiled
abf5cdcf235a drm/i915: Verify the engine after acquiring the active.lock
c73cdbf804cf drm/i915: Extend Haswell GT1 PSMI workaround to all
fda9fa19b090 drm/i915: Don't mix srcu tag and negative error codes
282b7fd5f5ab drm/i915: Whitelist COMMON_SLICE_CHICKEN2
6c76a93c4536 drm/i915: Perform GGTT restore much earlier during resume
93be1bae759e drm/i915/execlists: Remove incorrect BUG_ON for schedule-out
485f682be9fc Revert "drm/i915: Fix DP-MST crtc_mask"
eb0192fed016 drm/i915: Fix g4x sprite scaling stride check with GTT remapping
cffb4c3ea372 drm/i915/dp: Fix dsc bpp calculations, v5.
d7b0827f28ab Merge tag 'kbuild-v5.4' of git://git.kernel.org/pub/scm/linux/kernel/git/masahiroy/linux-kbuild
574cc4539762 Merge tag 'drm-next-2019-09-18' of git://anongit.freedesktop.org/drm/drm
592b8d8759ce Merge tag 'drm-fixes-2019-09-13' of git://anongit.freedesktop.org/drm/drm
505a8ec7e11a Revert "drm/i915/userptr: Acquire the page lock around set_page_dirty()"
2eb0964eec5f drm/i915: Restore relaxed padding (OCL_OOB_SUPPRES_ENABLE) for skl+
bb1a71f9c467 drm/i915: Limit MST to <= 8bpc once again
6e5c5272ca00 drm/i915: Use NOEVICT for first pass on attemping to pin a GGTT mmap
9e77f5001b98 drm/i915: to make vgpu ppgtt notificaiton as atomic operation
29326a167adb drm/i915: Flush the existing fence before GGTT read/write
ff36c5c4fd0b drm/i915: Hold irq-off for the entire fake lock period
0ac072cced08 Merge tag 'gvt-next-fixes-2019-09-06' of https://github.com/intel/gvt-linux into drm-intel-next-fixes
4a5322560aa2 drm/i915/gvt: update RING_START reg of vGPU when the context is submitted to i915
0a3242bdb477 drm/i915/gvt: update vgpu workload head pointer correctly
54b8ae66ae1a kbuild: change *FLAGS_<basetarget>.o to take the path relative to $(obj)
32f0a982650b drm/i915: Call dma_set_max_seg_size() in i915_driver_hw_probe()
5b6eefd66784 drm/i915/dp: Fix DSC enable code to use cpu_transcoder instead of encoder->type
0a3dfbb5cd90 drm/i915: Don't deballoon unused ggtt drm_mm_node in linux guest
ed5fa90660d6 drm/i915: Do not create a new max_bpc prop for MST connectors
c87237110f25 Merge tag 'drm-misc-next-2019-08-23' of git://anongit.freedesktop.org/drm/drm-misc into drm-next
be91233b1053 drm/i915: Update DRIVER_DATE to 20190822
3b2bf49e602e drm/i915: Kill the undead i915_gem_batch_pool.c
1f7fd484fff1 drm/i915: Replace i915_vma_put_fence()
b7d151ba4b29 drm/i915: Pull obj->userfault tracking under the ggtt->mutex
e2ccc50a3a6c drm/i915: Track ggtt fence reservations under its own mutex
8e458fe2ee05 drm/i915: Generalise the clflush dma-worker
829e8def7bd7 Merge drm/drm-next into drm-intel-next-queued
8e40983dec63 drm/i915/selftests: Fixup a couple of missing serialisation with vma
4776f3529d6b drm/i915: Don't deballoon unused ggtt drm_mm_node in linux guest
c71ccbe26376 drm/i915/gtt: Add some range asserts
1b9bd09630d4 drm/i915: Do not create a new max_bpc prop for MST connectors
a20ab592d1a8 drm/i915/execlists: Set priority hint prior to submission
6846895fde05 drm/i915: Replace PIN_NONFAULT with calls to PIN_NOEVICT
783877458f1f drm/i915/gtt: Include asm/smp.h
e63eacf76852 drm/i915/hdmi: make hdcp2_msg_data const
032048db1410 drm/i915/hdmi: stylistic cleanup around hdcp2_msg_data
e8465e1c6e26 drm/i915/dp: make hdcp2_dp_msg_data const
3be3a877cc22 drm/i915/dp: avoid shadowing variables
57bf7f43ba02 drm/i915/dp: stylistic cleanup around hdcp2_msg_data
ed19e3035c5a drm/i915: Fix HW readout for crtc_clock in HDMI mode
ff1750101351 drm/i915/gtt: Relax assertion for pt_used
5f680625d976 Merge tag 'drm-misc-next-2019-08-19' of git://anongit.freedesktop.org/drm/drm-misc into drm-next
4eaceea3a00f drm/i915: Fix DP-MST crtc_mask
d318cedf81e2 drm/i915/tgl: update DMC firmware to 2.04
9288d74f3f58 drm/i915/tgl: Move transcoders to pipes' powerwells
465242ee36eb drm/i915/tgl: add support for reading the timestamp frequency
ea6591b4dadb drm/i915/tgl: disable DDIC
d70898e4ea76 drm/i915: Update DRIVER_DATE to 20190820
6acbe9f63091 drm/i915/gtt: Relax pd_used assertion
1bcd8688bd9e drm/i915: Dynamically allocate s0ix struct for VLV
0aa5427a7fd3 drm/i915/tgl: Gen12 render context size
b41e63d88193 drm/i915/tgl: Updated Private PAT programming
13e53c5c5337 drm/i915/tgl: Introduce initial Tiger Lake workarounds
f4785682c9af drm/i915/tgl: Gen12 csb support
6d26d9bbf59a drm/i915/tgl: add GEN12_MAX_CONTEXT_HW_ID
487f471da34d drm/i915/tgl: add Gen12 default indirect ctx offset
bd3b3004b1d3 drm/i915/tgl: Report valid VDBoxes with SFC capability
2833ddccbdb4 drm/i915: Be defensive when starting vma activity
44c22f3f1a0a drm/i915: Serialize insertion into the file->mm.request_list
149d6deb880c drm/i915: Sanitize PHY state during display core uninit
2969a78aead3 drm/i915: Fix HW readout for crtc_clock in HDMI mode
64b95df91f44 drm/i915: Assume exclusive access to objects inside resume
cc3375607d79 drm/i915: Use 0 for the unordered context
96158346b59b drm/i915: Select DMABUF_SELFTESTS for the default i915.ko debug build
e1d7b66b815a drm/i915: i915_active.retire() is optional
5a6b7ef69e3d drm/i915/gen11: Allow usage of all GPIO pins
70d6894d1456 drm/i915: Serialize against vma moves
a1e37b0259e7 drm/i915: Only emit the 'send bug report' once for a GPU hang
d67739268cf0 drm/i915/gt: Mark up the nested engine-pm timeline lock as irqsafe
6a736ebf314a drm/i915: Always wrap the ring offset before resetting
ef4688497512 drm/i915: Propagate fence errors
a8dc0f6d187b drm/i915/uc: Never fail on HuC firmware errors
ee402140274e drm/i915/uc: Don't always fail on unavailable GuC firmware
1ce5ba970cb7 drm/i915/guc: Don't open log relay if GuC is not running
f2cb60e9a388 dma-fence: Store the timestamp in the same union as the cb_list
0075a20a6dd1 drm/i915/uc: Never fail on uC preparation step
4a600cb707e1 drm/i915/uc: Cleanup fw fetch on every GuC/HuC init failure
5bde5a4572e1 drm/i915/uc: Cleanup fw fetch only if it was successful
9559c8751385 drm/i915/selftests: Check the context size
eb7c022ddc0c drm/i915/gtt: Fold gen8 insertions into one
356c484822e6 drm/i915/uc: Add explicit DISABLED state for firmware
4cb3b44d6b71 drm/i915: Wrappers for display register waits
4e3f12d86609 drm/i915: Move gmbus definitions out of i915_reg.h
3d7b3039741d drm/i915: Move engine IDs out of i915_reg.h
3e5d0641e896 drm/i915: Move i915_power_well_id out of i915_reg.h
df403069029d drm/i915/execlists: Lift process_csb() out of the irq-off spinlock
25ffd4b11d06 drm/i915: Markup expected timeline locks for i915_active
6c69a45445af drm/i915/gt: Mark context->active_count as protected by timeline->mutex
f789fbb1eb16 drm/i915/wopcm: Fix SPDX tag location
0d12ed982bba drm/i915/wopcm: Update error messages
311482651d5e drm/i915/wopcm: Try to use already locked WOPCM layout
851dfec946b6 drm/i915/wopcm: Check WOPCM layout separately from calculations
1249dc171738 drm/i915/uc: Move FW size sanity check back to fetch
3ba09632ce8b drm/i915/buddy: use kmemleak_update_trace
665c1c2166d3 drm/i915/buddy: tidy up i915_buddy_fini
b016cd6ed4b7 dma-buf: Restore seqlock around dma_resv updates
6ac689d2e316 drm/i915: Use the associated uncore for the vm
8e7cb1799b4f drm/i915: Extract intel_frontbuffer active tracking
e5dadff4b093 drm/i915: Protect request retirement with timeline->mutex
ccb23d2dcc30 drm/i915/gt: Guard timeline pinning without relying on struct_mutex
338aade97c06 drm/i915/gt: Convert timeline tracking to spinlock
531958f6f357 drm/i915/gt: Track timeline activeness in enter/exit
62520e3361d2 drm/i915: Move tasklet kicking to __i915_request_queue caller
845f7f7ecb1f drm/i915/icl: Add gen11 specific render breadcrumbs
8a8b540a6dd2 drm/i915/icl: Add command cache invalidate
cfba6bd8b074 drm/i915/icl: Implement gen11 flush including tile cache
6f6333ba501e drm/i915/selftest/buddy: fixup igt_buddy_alloc_range
88f8065ca73f drm/i915: Convert a few more bland dmesg info to be device specific
f130b712ff25 drm/i915: Serialise read/write of the barrier's engine
b26496ae786d drm/i915: Print CCID for all renderCS
5f889b9a61dd drm/i915: Disregard drm_mode_config.fb_base
a4eb99a1d617 drm/i915: Include engine->mmio_base in the debug dump
0b08ae030154 drm/i915/guc: Remove client->submissions
be6133b8917f drm/i915: Update DRIVER_DATE to 20190813
270b9991cdb0 drm/i915: Add _TRANS2()
46c63d2499b1 drm/i915/bdw+: Move misc display IRQ handling to it own function
710bb9cfeeda Merge tag 'gvt-next-2019-08-13' of https://github.com/intel/gvt-linux into drm-intel-next-queued
3a0f1604888a drm/i915/gt: Save/restore interrupts around breadcrumb disable
a79ca656b648 drm/i915: Push the wakeref->count deferral to the backend
1cdd8705c7ac drm/i915/tgl: Fix missing parentheses on TGL_TRANS_DDI_FUNC_CTL_VAL_TO_PORT
daa37200d489 Merge tag 'gvt-fixes-2019-08-13' of https://github.com/intel/gvt-linux into drm-intel-fixes
220b65d8009d drm/i915/gvt: Double check batch buffer size after copy
00a33be40634 drm/i915/gvt: Add valid length check for MI variable commands
1e2adc0d0370 drm/i915/gvt: Add MI command valid length check
4f870f1fba34 drm/i915/gvt: Utility for valid command length check
8cfbca7848ff drm/i915/gvt: factor out tlb and mocs register offset table
f8871ec8fc73 drm/i915/gvt: no need to check return value of debugfs_create functions
e14006d939fe drm/i915/gvt: Fix typo of VBLANK_TIMER_PERIOD
abb042f310ff drm/i915/uc: Log fw status changes only under debug config
52791eeec1d9 dma-buf: rename reservation_object to dma_resv
5f15c1e6e181 drm/i915/guc: Use a local cancel_port_requests
478ffad6d690 drm/i915: drop engine_pin/unpin_breadcrumbs_irq
ee94e0c4598a drm/i915/guc: keep breadcrumb irq always enabled
a21ce8ad12d2 drm/i915/overlay: Switch to using i915_active tracking
3d6792cf0a93 drm/i915: Forgo last_fence active request tracking
cf1c97dcb96c drm/i915: Extract general GT interrupt handlers
d762043f7ab1 drm/i915: Extract GT powermanagement interrupt handling
4ecd20c929b8 drm/i915/gt: Use the local engine wakeref when checking RING registers
acb9488dcad8 drm/i915/selftests: Prevent the timeslice expiring during suppression tests
f597625d12ba drm/i915/execlists: Avoid sync calls during park
3ea580291054 drm/i915/uc: Update copyright and license
015341da9888 drm/i915/tgl: Fixing up list of PG3 power domains.
2e04dbceed68 drm/i915/icl: Remove DDI IO power domain from PG3 power domains
a5f978c3609f drm/i915/uc: Use -EIO code for GuC initialization failures
07587c343511 drm/i915/uc: Update messages from fw upload step
d8d6e5eb2bad drm/i915/uc: Include HuC firmware version in summary
ae7a3166a708 drm/i915/uc: Fail early if there is no GuC fw available
9f4dd137b20e drm/i915: Remove unused debugfs/i915_emon_status
6054f4ecdc11 Merge branch 'core-urgent-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip
14d1b9a6247c drm/i915: buddy allocator
05f219d709ec drm/i915/blt: support copying objects
aaa914cd1c63 drm/i915/gtt: disable 2M pages for pre-gen11
1feb7864b2cb drm/i915/gtt: enable GTT cache by default
18851edfa7db drm/i915/selftests: move gpu-write-dw into utils
dd7a7d1ff2f1 drm/i915: use new reservation_object_fences helper
554e330ceb9f drm/i915/blt: bump the size restriction
963ad1285b7c drm/i915/blt: don't assume pinned intel_context
e6a9522ac3ff drm/i915: Remove redundant user_access_end() from __copy_from_user() error path
0a9b26306d6a drm/i915: split out uncore_mmio_debug
72e67f046374 drm/i915: Stop reconfiguring our shmemfs mountpoint
75d0a7f31eec drm/i915: Lift timeline into intel_context
48ae397b6b93 drm/i915: Push the ring creation flags to the backend
4c60b1aaa255 drm/i915/gt: Make deferred context allocation explicit
72e277759340 drm/i915: Remove i915_gem_context_create_gvt()
3148310792b6 drm/i915: Drop the fudge warning on ring restart for ctg/elk
1a07e86cceac drm/i915: Generalise BSD default selection
6b86f90019cf drm/i915: Replace global bsd_dispatch_index with random seed
d5b2a3a4f85a drm/i915: Check for a second VCS engine more carefully
6cd34b10cd64 drm/i915/execlists: Backtrack along timeline
3aaf84662d31 drm/i915: Free the imported shmemfs file for phys objects
be80bc3658e8 drm/i915: extract i915_gem_shrinker.h from i915_drv.h
6401fafbec5a drm/i915: extract gem/i915_gem_stolen.h from i915_drv.h
9c9082b98228 drm/i915: extract i915_memcpy.h from i915_drv.h
bdd1510cc7c2 drm/i915: extract i915_suspend.h from i915_drv.h
be68261d815f drm/i915: extract i915_sysfs.h from i915_drv.h
db94e9f133a0 drm/i915: extract i915_perf.h from i915_drv.h
358c855cb60a drm/i915: move printing and load error inject to i915_utils.[ch]
0a2ecbe5a9a8 drm/i915: move I915_STATE_WARN() and _ON() to intel_display.h
e3adffe838ff drm/i915: move add_taint_for_CI() to i915_utils.h
1c780b617cc0 drm/i915: remove unused dev_priv->no_aux_handshake
cd3e05836fc6 drm/i915/kvmgt: Use struct_size() helper
eac4471d0882 drm/i915: Use after free in error path in intel_vgpu_create_workload()
b0383c0653c4 Merge tag 'drm-misc-next-2019-08-08' of git://anongit.freedesktop.org/drm/drm-misc into drm-next
5b5efdf79abf drm/i915: Make debugfs/per_file_stats scale better
c990b4c3597d drm/i915: Only include active engines in the capture state
c7302f204490 drm/i915: Defer final intel_wakeref_put to process context
cbb153c50ebe drm/i915/selftests: Fixup a missing legacy_idx
9749a5b6c09f drm/i915/tgl: Fix the read of the DDI that transcoder is attached to
6aa3bef15d65 drm/i915: Get transcoder power domain before reading its register
f1c4d157ab9b drm/i915: Fix up the inverse mapping for default ctx->engines[]
387758298bfd drm/i915: Allocate kernel_contexts directly
ca883c304f54 drm/i915/selftests: Pass intel_context to mock_request
32d38e6cf007 drm/i915/tgl/dsi: Enable blanking packets during BLLP for video mode
33365feca49e drm/i915/tgl: Add mipi dsi support for TGL
991d9557b0c4 drm/i915/tgl/dsi: Gate the ddi clocks after pll mapping
7b864f95886b drm/i915/tgl/dsi: Do not override TA_SURE
960e9836f721 drm/i915/tgl/dsi: Set latency PCS_DW1 for tgl
3522a33a2746 drm/i915/tgl/dsi: Program TRANS_VBLANK register
707d26dcc176 drm/i915: split out intel_pch.[ch] from i915_drv.[ch]
5e0a809af2a2 drm/i915/uc: Hardening firmware fetch
a0752c87080a drm/i915/uc: WOPCM programming errors are not always real
d4b2cfb8c29f drm/i915: Make wopcm_to_i915() private
7dbd03e28904 drm/i915: Don't try to partition WOPCM without GuC firmware
4157a962f59d drm/i915/uc: Don't fetch HuC fw if GuC fw fetch already failed
2399ab52da5f drm/i915/uc: HuC firmware can't be supported without GuC
12be4a4c75a2 drm/i915/uc: Prefer dev_info for reporting options
a37f08a882b0 drm/i915/perf: Refactor oa object to better manage resources
26f00514d944 drm/i915: Isolate i915_getparam_ioctl()
d71c4b034165 drm/i915: Include the DRIVER_DATE in the error state
ed29da7123a6 drm/i915: Fix some NULL vs IS_ERR() conditions
9ae06cad821b drm/i915: Use intel_engine_lookup_user for probing HAS_BSD etc
2edda80db3d0 drm/i915: Rename engines to match their user interface
4c2488cfaa99 drm/i915: stop using seqcount for fence pruning
fdde3097488e drm/i915: Drop expectations of VM_IO from our GGTT mmappings
071b68cceee7 drm/i915: abstract display suspend/resume operations
1c0023d4f5fd drm/i915: move property enums to intel_display_types.h
6da4a2c411e8 drm/i915: remove unnecessary includes of intel_display_types.h header
1d455f8de8e8 drm/i915: rename intel_drv.h to display/intel_display_types.h
a09d9a800236 drm/i915: avoid including intel_drv.h via i915_drv.h->i915_trace.h
d0d392a8deed drm/i915/tc: un-inline intel_tc_port_ref_held()
e15fd1bee2a9 drm/i915/mst: un-inline intel_dp_mst_encoder_active_links()
366b6200f76e drm/i915/bw: make intel_atomic_get_bw_state() static
d64575ee8d91 drm/i915/irq: un-inline functions to avoid i915_drv.h include
5b51f28fa7ba drm/i915/sprite: un-inline icl_is_hdr_plane()
3e1876251bc3 drm/i915: move intel_display.c function declarations
033a856c7368 drm/i915/dmc: Load DMC on TGL
750e76b4f9f6 drm/i915/gt: Move the [class][inst] lookup for engines onto the GT
c29579d2fabe drm/i915/gem: Make caps.scheduler static
361f9dc24368 drm/i915: Use drm_i915_private directly from drv_get_drvdata()
a41e71f4e788 drm/i915: update the hdcp state with uevent
d456512c39cc drm/i915: Attach content type property
7672dbba85d3 drm: Add Content protection type property
dce14e36aea2 Merge tag 'drm-intel-next-2019-07-30' of git://anongit.freedesktop.org/drm/drm-intel into drm-next
6c86e5ff2617 drm/i915/gt: Remove stale kerneldoc for internal MOCS functions
d9a910f5ed72 drm/i915/uc: Don't fail on HuC early init errors
34f0a20fa4ea drm/i915/uc: Remove redundant GuC support checks
2afc794c3ea0 drm/i915/huc: Prefer intel_huc_is_supported
c8be1a5fc5c6 drm/i915/guc: Prefer intel_guc_is_submission_supported
73a0ff0b30af drm/i915: Fix wrong escape clock divisor init for GLK
0584674d7fe4 drm/i915: fix possible memory leak in intel_hdcp_auth_downstream()
ce52ad5dd52c drm/i915: Fix wrong escape clock divisor init for GLK
b40d73784ffc drm/i915: Replace struct_mutex for batch pool serialisation
a4e57f9031cc drm/i915: Teach execbuffer to take the engine wakeref not GT
515b8b7e935e drm/i915: Flush the freed object list on file close
1aff1903d0ff drm/i915: Hide unshrinkable context objects from the shrinker
6bd0fbe156f1 drm/i915/wopcm: Don't fail on WOPCM partitioning failure
5d1ef2b4270d drm/i915/uc: Inject probe errors into intel_uc_init_hw
32ff76e80c24 drm/i915/uc: Move GuC error log to uc and release it on fini
3243bd096bb1 drm/i915/uc: Reorder firmware status codes
771051eaa746 drm/i915/uc: Do full sanitize instead of pure reset
50d84418f586 drm/i915: Add i915 to i915_inject_probe_failure
cd2a4eaf8c79 drm/i915: Report resv_obj allocation failure
e4661f144497 drm/i915: Fix documentation for __intel_wait_for_register_fw*
ae0f8f0f9a4b drm/i915/oa: update the generated files
d8af05ff38ae drm/i915: Allow sharing the idle-barrier from other kernel requests
576f05865581 drm/i915: Flush extra hard after writing relocations through the GTT
51fbd8de87dc drm/i915/pmu: Atomically acquire the gt_pm wakeref
518ea582cb6e drm/i915/pmu: Make get_rc6 take intel_gt
08ce5c64b25d drm/i915/pmu: Convert sampling to gt
28fba0961de4 drm/i915/pmu: Convert engine sampling to uncore mmio
908091c85003 drm/i915/pmu: Make more struct i915_pmu centric
2b92a82fe03b drm/i915/tgl: allow the reg_read ioctl to read the RCS TIMESTAMP register
5d571068f71e drm/i915/tgl: Add and use new DC5 and DC6 residency counter registers
01158da721c5 drm/i915/uc: Stop sanitizing enable_guc modparam
724df646c803 drm/i915/guc: Use dedicated flag to track submission mode
db81bc6eb9c0 drm/i915/uc: Consider enable_guc modparam during fw selection
57a68c350716 drm/i915/uc: Rename intel_uc_is_using* into intel_uc_supports*
9dfe3459ef41 drm/i915/gt: Introduce intel_gt_runtime_suspend/resume
6f76098fe0f3 drm/i915/uc: Move uC early functions inside the GT ones
6cf72db68d20 drm/i915/gt: Move gt_cleanup_early out of gem_cleanup_early
a1c9ca223c3d drm/i915: Remove lrc default desc from GEM context
8ef7e3409cec drm/i915/ehl: Don't forget to handle port C's hotplug interrupts
8ad4ca6e9a81 drm/i915/oa: add content to Makefile
4b9bb9728c91 drm/i915: Only recover active engines
b1fa6fd94fc6 drm/i915: Add a wakeref getter for iff the wakeref is already active
0de50e40fc68 drm/i915: Lift intel_engines_resume() to callers
de70fdd7d24c drm/i915: fix possible memory leak in intel_hdcp_auth_downstream()
10e36489abda drm/i915/execlists: Always clear pending&inflight requests on reset
c2052d6e242c drm/i915/ehl: Ungate DDIC and DDID
1b6c3c6d4607 drm/i915: Move MOCS setup to intel_mocs.c
a7a7a0e6ebde drm/i915/tgl: Tigerlake only has global MOCS registers
2ddf992179c4 drm/i915/tgl: Define MOCS entries for Tigerlake
23dea05191be drm/i915/tgl: stop using ERROR_GEN6 and DONE_REG
91b59cd98a97 drm/i915/tgl: Move fault registers to their new offset
900c9173ca69 drm/i915: remove dangling forward declaration
63064d822c96 drm/i915/uc: Move uC WOPCM setup in uc_init_hw
602776f96bfa drm/i915/uc: Don't enable communication twice on resume
f277bc0c98a4 drm/i915/selftests: Pass intel_context to igt_spinner
cb0c43f30ca6 drm/i915: Avoid ce->gem_context->i915
2e8de0879cf6 drm/i915: make i915_selftest.h self-contained
555233601407 drm/i915/tgl: handle DP aux interrupts
48ef15d32a77 drm/i915/tgl: Update north display hotplug detection to TGL connections
52dfdba0a987 drm/i915/tgl: Add hpd interrupt handling
e0e712fe42ef drm/i915: Update DRIVER_DATE to 20190730
f5d974f9d2a8 drm/i915/gt: Provide a local intel_context.vm
c082afac86cb drm/i915: Move aliasing_ppgtt underneath its i915_ggtt
a56277216637 drm/i915: Inline engine->init_context into its caller
1032a2af93f5 drm/i915: use upstream version of header tests
418741480809 drm/i915/gvt: Adding ppgtt to GVT GEM context after shadow pdps settled.
ef5b0b444e62 drm/i915/gvt: grab runtime pm first for forcewake use
7366aeb77cd8 drm/i915/gvt: fix incorrect cache entry for guest page mapping
2089a76ade90 drm/i915/gvt: Checking workload's gma earlier
c25144098bee drm/i915/gvt: Don't use ggtt_validdate_range() with size=0
d18fd0576e05 drm/i915/gvt: Warning for invalid ggtt access
c00f9c6b79f7 drm/i915/gvt: remove duplicate include of trace.h
301efe96f777 drm/i915/uc: Don't fail on HuC firmware failure
ed32f8d42cee Merge drm/drm-next into drm-intel-next-queued
60a4233a4952 drm/i915: Flush the i915_vm_release before ggtt shutdown
89f5752307cf drm/i915: Fix the TBT AUX power well enabling
0bbfdce345c8 drm/i915: Fix GEN8_MCR_SELECTOR programming
6d61f716a01e drm/i915/vbt: Fix VBT parsing for the PSR section
a8f196a0fa63 drm/i915: Make sure cdclk is high enough for DP audio on VLV/CHV
982b1d002f16 drm/i915: Lock the engine while dumping the active request
8f48de49795c drm/i915/perf: add missing delay for OA muxes configuration
06c12ae3b401 drm/i915/perf: ensure we keep a reference on the driver
aa56a292ce62 drm/i915/userptr: Acquire the page lock around set_page_dirty()
5f4c82c89ff0 drm/i915/gtt: Mark the freed page table entries with scratch
f691eaa48014 drm/i915/gtt: Defer the free for alloc error paths
d1b739f326b9 drm/i915: Deal with machines that expose less than three QGV points
fdcc789a4a0b drm/i915: Fix memleak in runtime wakeref tracking
cf8f9aa1eda7 drm/i915/icl: whitelist PS_(DEPTH|INVOCATION)_COUNT
6ce5bfe936ac drm/i915: whitelist PS_(DEPTH|INVOCATION)_COUNT
c270cac40828 drm/i915: fix whitelist selftests with readonly registers
7d3cd6626166 drm/i915: Fix various tracepoints for gen2
95eef14cdad1 drm/i915/perf: fix ICL perf register offsets
248f883db612 drm/i915: Disable SAMPLER_STATE prefetching on all Gen11 steppings.
ac65bdfef14a drm/i915: Keep rings pinned while the context is active
76c5399fe2e4 drm/i915/selftests: Careful not to flush hang_fini on error setups
62336cc666b0 drm/i915/uc: Fixup kerneldoc after params were flipped and renamed
aaf70b90a4f1 drm/i915/tgl: update ddi/tc clock_off bits
df16b6361d88 drm/i915/tgl: select correct bit for port select
98a5c2a3582a drm/i915/tgl: skip setting PORT_CL_DW12_* on initialization
08f0e4a7ecb9 drm/i915/uc: Remove redundant RSA offset definition
5de51fa0b939 drm/i915/uc: Remove redundant ucode offset definition
3a8c63d28a12 drm/i915/uc: Remove redundant header_offset/size definitions
340c4c8daad9 drm/i915/gt: Add to timeline requires the timeline mutex
f91bf7382856 drm/i915/uc: Don't sanitize guc_log_level modparam
3f99a61441e5 drm/i915: Do not rely on for loop caching the mask
5cca503817d0 drm/i915/perf: Initialise err to 0 before looping over ce->engines
edad25476ba3 drm/i915/guc: init submission structures as part of guc_init
2defb94edb44 drm/i915: Mark expected switch fall-throughs
97dee74bb34a drm/i915/uc: Reorder params in intel_uc_fw_fetch
79c7a28e1f3a drm/i915: Capture vma contents outside of spinlock
abf30f235390 drm/i915/uc: Move uc firmware layout definitions to dedicated file
199ddded380a drm/i915/uc: Update drawing for firmware layout
8d5682f66252 drm/i915/uc: Unify uC firmware upload
4ca8d2ef8dab drm/i915/uc: Plumb the gt through fw_upload
9cb279455705 drm/i915/huc: Copy huc rsa only once
90dd992260cc drm/i915/uc: Move xfer rsa logic to common function
91e55e545ab8 drm/i915/uc: Unify uc_fw status tracking
21a27d1cdd41 drm/i915/uc: Unify uC FW selection
305ceebd5284 drm/i915: Fix handling of non-supported uC
702668e606c0 drm/i915/uc: Unify uC platform check
2bf8fb39eb70 drm/i915/guc: Set GuC init params only once
906339a95e5a drm/i915: Use dev_get_drvdata
44c1ee17644c drm/i915/huc: fix status check
14f8a0eb0253 drm/i915: Squelch nop wait-for-idle trace
d8bf0e7627e6 drm/i915/selftests: Let igt_vma_partial et al breathe
de6a263400f2 drm/i915/uc: Sanitize uC when GT is sanitized
3fcba88188a8 drm/i915/uc: Gt-fy uc reset
aed7450b1536 drm/i915: Add HDCP capability info to i915_display_info.
3bdd4f848531 drm/i915: Rely on spinlock protection for GPU error capture
df8cf31e7497 drm/i915/gt: Hook up intel_context_fini()
f3bcb0cccd36 drm/i915: Remove obsolete engine cleanup
d808097627e5 drm/i915: Fix up broken merge
04364138ce9b drm/i915/gtt: Fix rounding for 36b
03b0f2ce735e Merge v5.3-rc1 into drm-misc-next
0cc35a9c8279 drm/i915/dsi: remove set but not used variable 'hfront_porch'
5cad0ddf4b78 drm/i915/gtt: Don't try to clear failed empty pd allocation
6b5f3cb1aa20 drm/i915/gtt: Correct unshifted 'from' for gen8_ppgtt_alloc errors
a0301020c568 Revert "drm/i915: Update description of i915.enable_guc modparam"
92508da7e3da Revert "drm/i915/guc: Turn on GuC/HuC auto mode"
b83a309a9889 drm/i915/icl: Add Wa_1409178092
935ba6f3bf0f drm/i915/icl: Verify engine workarounds in GEN8_L3SQCREG4
fa380486d5f9 drm/i915: Skip CS verification of L3 bank registers
6c2b0103ad92 drm/i915: Fix and improve MCR selection logic
7405cb77e008 drm/i915: Trust programmed MCR in read_subslice_reg
15160879d472 drm/i915: Fix GEN8_MCR_SELECTOR programming
0d392cb9eb58 drm/i915: Remove set but not used variable 'src_y'
7d6b60dbc6a0 drm/i915/execlists: Cancel breadcrumb on preempting the virtual engine
eec4844fae7c proc/sysctl: add shared variables for range check
b5ea9c933700 drm/i915/vbt: Fix VBT parsing for the PSR section
bdae33b8b82b drm/i915: Use maximum write flush for pwrite_gtt
d45a4dd52706 drm/i915: Drop wmb() inside pread_gtt
bffb31f73b29 drm/i915: Make sure cdclk is high enough for DP audio on VLV/CHV
9a36a6517d5c drm/i915/ehl: Use an id of 4 while accessing DPLL4's CR0 and CR1
5270130db8c8 drm/i915: Add gen8_de_pipe_fault_mask()
c30d5dc653cb drm/i915/gt: Push engine stopping into reset-prepare
fff8102aaed5 drm/i915/execlists: Process interrupted context on reset
0629d4da1f15 drm/i915: Update description of i915.enable_guc modparam
a9877da2d629 drm/i915/oa: Reconfigure contexts on the fly
bea5faf7be32 drm/i915/gtt: Tidy up ppgtt insertion for gen8
8a98e839601f drm/i915/gtt: Recursive ppgtt alloc for gen8
09975b861aa0 drm/i915/execlists: Disable preemption under GVT
cfe7288c276e drm/i915: Lock the engine while dumping the active request
fb4da215ed92 Merge tag 'pci-v5.3-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
be8454afc50f Merge tag 'drm-next-2019-07-16' of git://anongit.freedesktop.org/drm/drm
bb80c9255770 drm/i915: Enable hotplug retry
3944709df8e9 drm/i915: Add support for retrying hotplug
48cf0a1ec170 drm/i915/ehl: Map MCC pins based on PHY, not port
506927ec8bbb drm/i915/selftests: Ignore self-preemption suppression under gvt
a8120bc23eea drm/i915/uc: kill <g,h>uc_to_i915
2239e6dff206 drm/i915/guc: prefer intel_gt in guc interrupt functions
84b1ca2f0e68 drm/i915/uc: prefer intel_gt over i915 in GuC/HuC paths
ca7b2c1bbede drm/i915/uc: Move intel functions to intel_uc
8b5689d7e3ca drm/i915/uc: move GuC/HuC inside intel_gt under a new intel_uc
0f261b241d9c drm/i915/uc: move GuC and HuC files under gt/uc/
633023a4e618 drm/i915/guc: unify guc irq handling
9cbd51c2c0ed drm/i915/guc: move guc irq functions to intel_guc parameter
bb2881f8bdde drm/i915/uc: introduce intel_uc_fw_supported
e3f503f1c733 drm/i915/uc: replace uc init/fini misc
a30eff49d08c drm/i915/guc: Use system workqueue for log capture
39ceda5ce1b0 Merge tag 'kbuild-v5.3' of git://git.kernel.org/pub/scm/linux/kernel/git/masahiroy/linux-kbuild
cb823ed9915b drm/i915/gt: Use intel_gt as the primary object for handling resets
139ab811511c drm/i915/tgl: add modular FIA to device info
0caf62577730 drm/i915: Add modular FIA
4c2be3c5ebfd drm/i915/gtt: Recursive ppgtt clear for gen8
8b1e0f81fb6f mm/pgtable: drop pgtable_t variable from pte_fn_t functions
1eda701eace2 drm/i915/gtt: Recursive cleanup for gen8
801404632c4b drm/i915/display: Drop kerneldoc for 'intel_atomic_commit'
eaa2b31be152 drm/i915: Skip SINK_COUNT read on CH7511
f774f0964919 drm/i915/guc: Turn on GuC/HuC auto mode
87d855e8cfa4 drm/i915/guc: Don't enable GuC/HuC in auto mode on pre-Gen11
0b61b8b07f6b drm/i915: Propagate "_probe" function name suffix down
78dae1ac35dd drm/i915: Propagate "_remove" function name suffix down
3b58a9455136 drm/i915: Propagate "_release" function name suffix down
f2db53f14d3d drm/i915: Replace "_load" with "_probe" consequently
b01558e56f84 drm/i915: Rename "_load"/"_unload" to match PCI entry points
b5893ffc274b drm/i915: Drop extern qualifiers from header function prototypes
6239901c576d drm/i915/gtt: Use NULL to encode scratch shadow entries
c03cbe4c0a83 drm/i915/gtt: Convert vm->scratch into an array
277632645756 drm/i915/gtt: Compute the radix for gen8 page table levels
18c7962b8cf2 drm/i915/gtt: Markup i915_ppgtt height
a9abea97856b drm/i915/gtt: Reorder gen8 ppgtt free/clear/alloc
57a7e30546b2 drm/i915/gtt: Wrap page_table with page_directory
6eebfe8a10a6 drm/i915/gtt: Use shallow dma pages for scratch
3e1f0a518d22 drm/i915: Add engine name to workaround debug print
aee20aaed887 drm/i915: Implement read-only support in whitelist selftest
1e2b7f497c28 drm/i915: Add test for invalid flag bits in whitelist entries
a1c5f1510b3f drm/i915/tgl: Update DPLL clock reference register
36ca5335f202 drm/i915/tgl: Add DPLL registers
d757535e3116 drm/i915/tgl: Add vbt value mapping for DDC Bus pin
fb81cbe46988 drm/i915/tgl: port to ddc pin mapping
3fd53262f0dd drm/i915/tgl: Add gmbus gpio pin to port mapping
30fcc338bc66 drm/i915/gen12: MBUS B credit change
deea06b47574 drm/i915/tgl: apply Display WA #1178 to fix type C dongles
55cd5048e176 drm/i915/tgl: init ddi port A-C for Tiger Lake
5c71970889d7 drm/i915/tgl: Add additional PHYs for Tiger Lake
6c8337dafaa9 drm/i915/tgl: Add additional ports for Tiger Lake
c9014a2c7937 drm/i915/tgl: Add pll manager
68ff39c3f8c0 drm/i915/tgl: Add new pll ids
1db27a729119 drm/i915/tgl: Add power well to support 4th pipe
656409bbaf87 drm/i915/tgl: Add power well support
276199e6be6a drm/i915/tgl: rename TRANSCODER_EDP_VDSC to use on transcoder A
7ff0fca4964f drm/i915/tgl: Check if pipe D is fused
9747f0c2fb9e drm/i915/tgl: Add TGL PCI IDs
d8df6bec1a30 drm/i915/tgl: Add TGL PCH detection in virtualized environment
7f02889292e2 drm/i915/tgl: Introduce Tiger Lake PCH
abd3a0fe040d drm/i915/tgl: add initial Tiger Lake definitions
f1f1d4fa5869 drm/i915: Add 4th pipe and transcoder
ddb3d12afa92 drm/i915: Don't overestimate 4:2:0 link symbol clock
86c9640b3a1e drm/i915: Copy name string into ring buffer for intel_update/disable_plane tracepoints
ddafc0f75640 drm/i915/guc: Drop redundant ctx param from kerneldoc
b12d5944fc28 drm/i915: Don't pass stack garbage to pcode in the second data register
a85fb46777c0 drm/i915: Use intel_ types in intel_atomic_commit()
6a64e985d242 drm/i915: Use intel_ types in intel_{lock,modeset}_all_pipes()
e3b4089c68ed drm/i915: Polish intel_atomic_track_fbs()
13d723a1177d drm/i915: Polish intel_shared_dpll_swap_state()
afe0c21b6228 drm/i915: Simplify modeset_get_crtc_power_domains() arguments
88016a9fb741 drm/i915: Check crtc_state->wm.need_postvbl_update before grabbing wm.mutex
13ce609243c7 drm/i915: Use the "display core" power domain in vlv/chv set_cdclk()
f63dfc146438 drm/i915/selftests: Hold the vma manager lock while modifying mmap_offset
5a5efbf4ef50 drm/i915/sdvo: Fix handling if zero hbuf size
aebf052bb647 drm/i915/guc: Simplify guc client
71b0846c17b9 drm/i915/guc: Remove preemption support for current fw
bf1315b830a4 drm/i915/selftests: Ensure we don't clamp a random offset to 32b
47c4bdd6d3ea drm/i915/gt: Drop the duplicate icl workaround
719d24002602 drm/i915/ehl: Enable DDI-D
d8fe2ab6bb28 drm/i915: Transition port type checks to phy checks
dc867bc7d887 drm/i915/gen11: Convert combo PHY logic to use new 'enum phy' namespace
befa372b990a drm/i915/gen11: Program ICL_DPCLKA_CFGCR0 according to PHY
358633e71c07 drm/i915/gen11: Start distinguishing 'phy' from 'port'
9d44dcb9088a drm/i915: move intel_ddi_set_fia_lane_count to intel_tc.c
c99fd7b3908e drm/i915: fix include order in intel_tc.*
b41e434fdc42 drm/i915: make new intel_tc.c use uncore accessors
88c90e800675 Merge drm/drm-next into drm-intel-next-queued
caceff96d5b7 drm/i915/icl: Fixed Input CSC Co-efficients for BT601/709
9856bf7f779a drm/i915/icl: Fix Y pre-offset for Full Range YCbCr
27ee72477c9b drm/i915/icl: Handle YCbCr to RGB conversion for BT2020 case
14bfcd3e0dae drm/i915/perf: add missing delay for OA muxes configuration
58d1b427148a drm/i915/execlists: Record preemption for selftests
b33c61db7291 drm/i915: Remove unused i915_gem_context_lookup_engine
2a98f4e65bba drm/i915: add infrastructure to hold off preemption on a request
46c5847e3d97 drm/i915: enumerate scratch fields
a5af1df716c1 drm/i915/perf: ensure we keep a reference on the driver
681c774d3490 drm/i915/userptr: Don't mark readonly objects as dirty
f7ddc80ecb0e drm/i915/icl: Clear the shared port PLLs from the new crtc state
5c28e3a567fe drm/i915: Clear the shared PLL from the put_dplls() hook
a46f4e9e5ae9 drm/i915/sdvo: Add helpers to get the cmd/status string
7b8062ea60d9 drm/i915/sdvo: Shrink sdvo_cmd_names[] strings
8a9c8028399e drm/i915/sdvo: Remove duplicate SET_INPUT_TIMINGS_PART1 cmd name string
c598a66491cf drm/i915/sdvo: Use named initializers for the SDVO command names
f384e48d7641 drm/i915: Add icl mipi dsi properties
4fb76782ad01 drm/i915/hdcp: debug logs for sink related failures
4a5fdc962fc4 drm/i915/gt: Remove presumption of RCS0
7c6d6867e972 drm/i915/gt: Apply RCS workarounds to the render class
cbcec57e9dd7 drm/i915/selftests: Fill in a little more of the dummy fence
cb6d7c7dc7ff drm/i915/userptr: Acquire the page lock around set_page_dirty()
baf08ed50a61 drm/i915/selftests: Set igt_spinner.gt for early exit
a17ce803dffa drm/i915: Update DRIVER_DATE to 20190708
cf3bd1a0f53e drm/i915/selftests: Reorder error cleanup for whitelist checking
77adbd8fbf3a drm/i915: Explicitly track active fw_domain timers
15e7facb7b42 drm/i915: Pull assert_forcewake_active() underneath the lock
50b38bc4d39a drm/i915/gtt: Introduce release_pd_entry
73a8fdef5d6f drm/i915/gtt: Setup phys pages for 3lvl pdps
72230b874a20 drm/i915/gtt: Tear down setup and cleanup macros for page dma
f20f272f104f drm/i915/gtt: pde entry encoding is identical
3e27d70bcc46 drm/i915: Remove set but not used variable 'intel_dig_port'
9d1bc13e7fe1 drm/i915: Remove set but not used variable 'encoder'
badf1f2724d4 drm/i915: Order assert forcewake test
eef037ea0280 drm/i915/ehl: Add support for DPLL4 (v10)
3e69db291bda drm/i915: Clean up skl vs. icl plane formats
94e35ce22173 drm/i915: Cosmetic fix for skl+ plane switch statement
d56e823ac32a drm/i915: Deal with cpp==8 for g4x watermarks
94e15723df81 drm/i915: Program plane gamma ramps
423ee8e99aa5 drm/i915: Disable sprite gamma on ivb-bdw
26443a4bc448 drm/i915: Add windowing for primary planes on gen2/3 and chv
58820574f1e9 drm/i915: Move dev_priv->pm_i{m, e}r into intel_gt
f0818984fa5d drm/i915: Remove some legacy mmio accessors from interrupt handling
9b77011e4122 drm/i915: Rework some interrupt handling functions to take intel_gt
b8cade5959ac drm/i915: Show instdone for each engine in debugfs
8f856c743c77 drm/i915/selftests: Be engine agnostic
ec22f256a60c drm/i915/overlay: Stash the kernel context on initialisation
1ee2ae896bb4 drm/i915/hangcheck: Look at instdone for all engines
6582f4f613e3 drm/i915/selftests: Drain the freedlists between exec passes
e7539b79f703 drm/i915/gtt: Mark the freed page table entries with scratch
ab9e2f777682 drm/i915/gt: Pull engine w/a initialisation into common
4a54da351029 drm/i915: Dump w/a lists on all engines
2a46fbb25ae8 drm/i915/guc: Upgrade to GuC 33.0.0
ae1c5fd72dfc drm/i915/gtt: Handle double alloc failures
bf73fc0fa9cf drm/i915: Show support for accurate sw PMU busyness tracking
0c159ffef628 drm/i915/gem: Defer obj->base.resv fini until RCU callback
21de5a9e34fb drm/i915/gt: Ignore forcewake acquisition for posting_reads
313443b16ac2 drm/i915/gt: Assume we hold forcewake for execlists resume
56e0f78e47e4 drm/i915/gt: Use caller provided forcewake for intel_mocs_init_engine
b7dc9395c5db drm/i915: Check caller held wakerefs in assert_forcewakes_active
4fda44bf16b7 drm/i915: Flush the workqueue before draining
2006058e9988 drm/i915: Move the renderstate setup under gt/
068610895ebd drm/i915/gtt: Defer the free for alloc error paths
2c291417c164 drm/i915: Add N & CTS values for 10/12 bit deep color
4a49c2bf9ee4 drm/i915: Use port clock to set correct N value
56e9371bc3f3 drm/i915: Deal with machines that expose less than three QGV points
09480072e3ee drm/i915: Mark up vma->active as safe for use inside shrinkers
d650d1f5cfd7 drm/i915: Markup potential lock for i915_active
c03467ba40f7 drm/i915/gem: Free pages before rcu-freeing the object
ad9e3792b0c0 drm/i915/execlists: Hesitate before slicing
8221d21b0664 drm/i915/selftests: Lock the drm_mm while modifying
63251685c141 drm/i915/selftests: Common live setup/teardown
8e9ecb3e1e33 drm/i915/display: Handle lost primary_port across suspend
315ca4c408ed drm/i915: synchronize_irq() against the actual irq
096a93949b86 drm/i915/gtt: Don't check PPGTT presence on PPGTT-only platforms
a3389c14ba09 Revert "drm/i915: Introduce private PAT management"
c5f846eed2a1 drm/i915: Fix memleak in runtime wakeref tracking
c84c9029d782 drm/i915/ringbuffer: EMIT_INVALIDATE *before* switch context
3fe0107e45ab drm/i915/icl: whitelist PS_(DEPTH|INVOCATION)_COUNT
2c903da50f5a drm/i915: whitelist PS_(DEPTH|INVOCATION)_COUNT
361b69051326 drm/i915: fix whitelist selftests with readonly registers
afd1bcd4ad77 drm/i915: Report if i915_active is still busy upon waiting
8759aa4cc1d3 drm/i915/execlists: Refactor CSB state machine
f80c9a9a04d3 drm/i915/ehl: Don't program PHY_MISC on EHL PHY C
0e933162b042 drm/i915/ehl: Add third combo PHY offset
4a8134d57c6c drm/i915/icl: Drop port parameter to icl_get_combo_buf_trans()
f18819a3c8da drm/i915/guc: Avoid reclaim locks during reset
3ee2771e47b0 drm/i915: WARN about invalid lane reversal in TBT-alt/DP-alt modes
a171f8e7f466 drm/i915: Remove unneeded disconnect in TypeC legacy port mode
d5ce34da3145 drm/i915: Add state verification for the TypeC port mode
24a7bfe0c2d7 drm/i915: Keep the TypeC port mode fixed when the port is active
eea72c4c2161 drm/i915/icl: Reserve all required PLLs for TypeC ports
726ca99666db drm/i915/icl: Split getting the DPLLs to port type specific functions
01b24f50b67f drm/i915: Sanitize the shared DPLL find/reference interface
866955fa452e drm/i915: Sanitize the shared DPLL reserve/release interface
4f36afb26cbe drm/i915: Sanitize the TypeC FIA lane configuration decoding
8c10e2262663 drm/i915: Keep the TypeC port mode fixed for detect/AUX transfers
32691b58d157 drm/i915: Fix the TypeC port mode sanitization during loading/resume
1cd5ef6ee23c drm/i915: Sanitize the TypeC connect/detect sequences
424f109f5c5d drm/i915: Handle the TCCOLD power-down event
ddec362724f9 drm/i915: Wait for TypeC PHY complete flag to clear in safe mode
c905eb28bd3f drm/i915: Factor out common parts from TypeC port handling functions
ab7bc4e1a550 drm/i915: Unify the TypeC port notation in debug/error messages
dd7239c545b1 drm/i915: Use the correct AUX power domain in TypeC TBT-alt mode
29ae36abf08f drm/i915: Fix the TBT AUX power well enabling
3b2ed4313429 drm/i915: Don't enable the DDI-IO power in the TypeC TBT-alt mode
e9b7e1422d40 drm/i915: Sanitize the terminology used for TypeC port modes
bc85328ff431 drm/i915: Move the TypeC port handling code to a separate file
28212321622d drm/i915: Tune down WARNs about TBT AUX power well enabling
39a5883f8670 drm/i915/icl: Add support to read out the TBT PLL HW state
ec193640819e drm/i915: Use intel state as much as possible in wm code
4f25720b2c04 drm/i915: Pass intel state to plane functions as well
49743e1dfb2a drm/i915: Use intel_crtc_state in sanitize_watermarks() too
3b4bf24d27e0 drm/i915: Convert hw state verifier to take more intel state, v2.
855e0d684a3e drm/i915: Convert most of atomic commit to take more intel state
69f786aea946 drm/i915: Pass intel_crtc_state to needs_modeset()
501ec325f1ec drm/i915: rework reading pipe disable fuses
7218524d3ea0 drm/i915: Make i945gm_vblank_work_func static
b40cf94c7673 drm/i915: make intel_uc_fw.h self-contained
ba740cfc2f26 drm/i915: make intel_gvt.h self-contained
5e0cca98b4d1 drm/i915: make intel_guc_reg.h self-contained
72629d11d56c drm/i915: make intel_guc_fwif.h self-contained
016c1c8938b0 drm/i915: make intel_guc_ct.h self-contained
961ebc9dd1f5 drm/i915: make i915_vgpu.h self-contained
f8daf6418e30 drm/i915: make i915_pvinfo.h self-contained
f807d31a2174 drm/i915: make i915_globals.h self-contained
c75299aea22a drm/i915: make i915_fixed.h self-contained
7fcc7ca549d4 drm/i915: add header search path to subdir Makefiles
9ef424e58e21 drm/i915: prefix header search path with $(srctree)/
5ed7a0cf3394 drm/i915: Move OA files to separate folder
63c9dae71dc5 drm/i915/ehl: Add voltage level requirement table
6e63790efdf7 drm/i915/ehl: Remove unsupported cd clocks
9c811fce8a44 drm/i915/icl: Add new supported CD clocks
092be382a260 drm/i915: Lift intel_engines_resume() to callers
18398904ca9e drm/i915: Only recover active engines
de5147b8ce6d drm/i915: Add a wakeref getter for iff the wakeref is already active
7d23e5937603 drm/i915: Initialize drm_driver vblank funcs at compile time
b318b82455bd drm/i915: Nuke drm_driver irq vfuncs
08fa8fd0faa5 drm/i915: Switch to per-crtc vblank vfuncs
4c888e7bd26f drm/i915: Fix various tracepoints for gen2
faaa2902b5a9 drm/i915/selftests: Fixup atomic reset checking
1e5deb263265 drm/i915/selftests: Drop manual request wakerefs around hangcheck
d84747956654 drm/i915/selftests: Serialise nop reset with retirement
5ccf2027bb93 drm/i915: Check backlight type while doing eDP backlight initializaiton
b402375699ae drm/i915: remove irrelevant DRM_UNLOCKED flag
cba17e5d647b drm/i915/gt: Add some debug tracing for context pinning
f0ca820cc006 drm/i915/gt: Always call kref_init for the timeline
b38565faded7 drm/i915/gt: Drop stale commentary for timeline density
c8d84778e527 drm/i915/selftests: Hold ref on request across waits
5f22e5b3116c drm/i915: Rename intel_wakeref_[is]_active
0c91621cad49 drm/i915/gt: Pass intel_gt to pm routines
8e9c2f621893 drm/i915/guc: Add debug capture of GuC exception
07bfe6bf1052 drm/i915/execlists: Convert recursive defer_request() into iterative
9a6a644096a1 drm/i915/ehl: Add missing VECS engine
fc25441c7b9d drm/i915/ehl: Add one additional PCH ID to MCC
8dcfdfb45010 drm/i915/perf: fix ICL perf register offsets
f9a393875d3a drm/i915: Disable SAMPLER_STATE prefetching on all Gen11 steppings.
871918dffefc drm/i915/gem: Clear read/write domains for GPU clear
8db7933ee3d4 drm/i915/execlists: Always clear ring_pause if we do not submit
b2dbf8d982a4 drm/i915/blt: Remove recursive vma->lock
fb993aa7a404 drm/i915: Local debug BUG_ON for intel_wakeref
12c255b5dad1 drm/i915: Provide an i915_active.acquire callback
a93615f900bd drm/i915: Throw away the active object retirement complexity
5361db1a33c7 drm/i915: Track i915_active using debugobjects
9e9539800dd4 drm/i915: Remove waiting & retiring from shrinker paths
2ae70d28f27f drm/i915/guc: handle GuC messages received with CTB disabled
e29cc1d7e820 drm/i915/guc: reorder enable/disable communication steps
e4fa8457b219 drm/prime: Align gem_prime_export with obj_funcs.export
0424fdaf883a drm/prime: Actually remove DRIVER_PRIME everywhere
80fc1c1991cd drm/i915/gt: Fixup kerneldoc parameters
c6fe28b0c27d drm/i915/gt: Rename i915_gt_timelines
5f6730a46892 drm/i915: Prevent dereference of engine before NULL check in error capture
db56f974941b drm/i915: Eliminate dual personality of i915_scratch_offset
f0c02c1b9188 drm/i915: Rename i915_timeline to intel_timeline and move under gt
4c6d51ea2a68 drm/i915: Make timelines gt centric
ba4134a41931 drm/i915: Save trip via top-level i915 in a few more places
db45fb5bc1a0 drm/i915: Compartmentalize ring buffer creation
d8a4424839ee drm/i915: Store ggtt pointer in intel_gt
1d66377a76bd drm/i915: Compartmentalize i915_gem_init_ggtt
3b8966287fa9 drm/i915: Compartmentalize i915_ggtt_cleanup_hw
390c82055b74 drm/i915: Compartmentalize timeline_init/park/fini
baea429dc5ed drm/i915: Move i915_gem_chipset_flush to intel_gt
a1c8a09e0c7c drm/i915: Convert i915_gem_flush_ggtt_writes to intel_gt
68c754b85084 drm/i915: Compartmentalize i915_gem_suspend/restore_gtt_mappings
763c1e63125e drm/i915: Store intel_gt backpointer in vm
759e4a74f354 drm/i915: Make ggtt invalidation work on ggtt
8b5342f58d3c drm/i915: Compartmentalize i915_ggtt_init_hw
ee1de7dd7d33 drm/i915: Compartmentalize i915_ggtt_probe_hw
6b0a8dfdf27e drm/i915: Stop using I915_READ/WRITE in intel_wopcm_init_hw
8649187a9520 drm/i915: Move intel_engines_resume into common init
abc584f9aa04 drm/i915: Convert i915_gem_init_hw to intel_gt
28a1f7894f6b drm/i915: Consolidate some open coded mmio rmw
acb56d97d907 drm/i915: Convert i915_ppgtt_init_hw to intel_gt
20a7f2fc4d7a drm/i915: Convert intel_mocs_init_l3cc_table to intel_gt
f937f5613b6f drm/i915: Store backpointer to intel_gt in the engine
d10cfee4d81b drm/i915: Convert gt workarounds to intel_gt
cf6844b234e5 drm/i915: Convert init_unused_rings to intel_gt
f88709bd1c5e drm/i915: Use intel_uncore_rmw in intel_gt_init_swizzling
500bfa380e11 drm/i915: Convert i915_gem_init_swizzling to intel_gt
eaf522f62b74 drm/i915: Make i915_check_and_clear_faults take intel_gt
99f2eb966749 drm/i915: Move intel_gt_pm_init under intel_gt_init_early
724e9564c5ac drm/i915: Store some backpointers in struct intel_gt
24635c5152af drm/i915: Move intel_gt initialization to a separate file
e5be5c7a8ffa drm/i915: Introduce struct intel_gt as replacement for anonymous i915->gt
3cb4ce0024f1 drm/i915: Convert intel_vgt_(de)balloon to uncore
12fdaf19e05b drm/i915/execlists: Keep virtual context alive until after we kick
417f2544f48c Merge tag 'drm-intel-next-2019-06-19' of git://anongit.freedesktop.org/drm/drm-intel into drm-next
b32fa8111563 drm/i915/gtt: Defer address space cleanup to an RCU worker
683d672c425a drm/i915/ehl/dsi: Enable AFE over PPI strap
6a7bafe8fdb6 drm/i915/ehl/dsi: Set lane latency optimization for DW1
60a0933bff57 drm/i915/selftests: Use request managed wakerefs
cffa1eb8a223 drm/i915: Rings are always flushed
8ee36e048c98 drm/i915/execlists: Minimalistic timeslicing
22b7a426bbe1 drm/i915/execlists: Preempt-to-busy
9e138ea1bdb1 drm/i915/gvt: decouple check_vgpu() from uncore_init()
f833cdb06bf7 drm/i915: dynamically allocate forcewake domains
2e81bc61d4e3 drm/i915: skip forcewake actions on forcewake-less uncore
013857580bbe drm/i915: kill uncore_to_i915
19e0a8d454c3 drm/i915: kill uncore_sanitize
ccb2aceaaa5f drm/i915: use vfuncs for reg_read/write_fw_domains
09c5ab384f6f drm/i915: Keep rings pinned while the context is active
bdeb18dbcf82 drm/i915/ehl: Allow combo PHY A to drive a third external display
b87b6c0dfce7 drm/i915: Flush the execution-callbacks on retiring
ce94bef9354e drm/i915: Signal fence completion from i915_request_wait
475df5d0f3eb drm/i915: Don't clobber M/N values during fastset check
1ee008f240ad drm/i915: Update DRIVER_DATE to 20190619
2f5309452dc0 drm/i915: Stop passing I915_WAIT_LOCKED to i915_request_wait()
73591341014d drm/i915/execlists: Detect cross-contamination with GuC
44d89409a12e drm/i915: Make the semaphore saturation mask global
52d2d44eee80 Merge v5.2-rc5 into drm-next
f5633efcedb4 Merge tag 'gvt-fixes-2019-06-19' of https://github.com/intel/gvt-linux into drm-intel-fixes
381f8a20d2f6 drm/i915/psr: Force manual PSR exit in older gens
eca153603f2f drm/i915: Don't dereference request if it may have been retired when printing
1422768fa260 drm/i915/selftests: Flush live_evict
0bd6cb6b58f7 drm/i915: Skip shrinking already freed pages
767662bc62a4 drm/i915: Update workarounds selftest for read only regs
7b3d40631098 drm/i915: Add whitelist workarounds for ICL
ebd2de47a19f drm/i915: Support whitelist workarounds on all engines
5380d0b781c4 drm/i915: Support flags in whitlist WAs
7afc7f816870 drm/i915: Drop the _INCOMPLETE for has_infoframe
dde84833c325 drm/i915: Make pipe_config_err() vs. fastset less confusing
b124ea432af7 drm/i915: Constify intel_pipe_config_compare()
f0521558a2a8 drm/i915: Don't clobber M/N values during fastset check
ef78f7b18726 drm/i915: Use drm_gem_object.resv
7009db1475e9 drm/i915: Keep engine alive as we retire the context
4951dc0178ba drm/i915/guc: Reduce verbosity on log overflows
c6f7acb80abf drm/i915/ehl: Introduce Mule Creek Canyon PCH
32a196314827 drm/i915/gtt: Serialise both updates to PDE and our shadow
e93821146921 drm/i915/dmc: protect against loading wrong firmware
8132b8d182e3 drm/i915/dmc: remove redundant return in parse_csr_fw()
0703a53b818c drm/i915/dmc: add support to load dmc_header version 3
08f8984fd733 drm/i915/dmc: extract function to parse dmc_header
32fd773384af drm/i915/dmc: extract function to parse package_header
46fcbe4b5e40 drm/i915/dmc: extract function to parse css header
0bba84975b37 drm/i915/dmc: add support for package_header with version 2
56b206bcdada drm/i915/dmc: extract fw_info and table walk from intel_package_header
8a6f9d5c172d drm/i915/dmc: use kernel types
9ee7250384d8 drm/i915/gtt: Generalize alloc_pd
56ab674190b1 drm/i915/gtt: Introduce init_pd
4fba8764b6db drm/i915/gtt: Introduce init_pd_with_page
b5b7bef9ca9e drm/i915/gtt: Use a common type for page directories
7d82cc353ad4 drm/i915/gtt: No need to zero the table for page dirs
0780f3b6f054 drm/i915: no need to check return value of debugfs_create functions
df0566a641f9 drm/i915: move modesetting core code under display/
02ae8ba96640 drm/i915/icl: Add Multi-segmented gamma support
eec0778ec421 drm/i915: Rename ivb_load_lut_10_max
377c70edd486 drm/i915/icl: Add register definitions for Multi Segmented gamma
89a72304f2f3 drm/i915: Change gamma/degamma_lut_size data type to u32
83766cdef332 drm/i915: Nuke atomic set/get prop plane stubs
379bc100232a drm/i915: move modesetting output/encoder code under display/
ca851bae0f52 drm/i915: make intel_sdvo_regs.h self-contained
971afec3a537 drm/i915/gvt: ignore unexpected pvinfo write
f4071997f1de drm/i915/ehl: Update MOCS table for EHL
e846f0dc57f4 kbuild: add support for ensuring headers are self-contained
dfdeaff29396 drm/i915: Avoid tainting i915_gem_park() with wakeref.lock
151f4e2bdc7a docs: power: convert docs to ReST and rename to *.rst
422d7df4f090 drm/i915: Replace engine->timeline with a plain list
9db0c5caa747 drm/i915: Stop retiring along engine
ce476c80b8bf drm/i915: Keep contexts pinned until after the next kernel context switch
58a111f03a6e drm/i915: make intel_wakeref work on the rpm struct
c447ff7db348 drm/i915: update with_intel_runtime_pm to use the rpm structure
d858d5695f38 drm/i915: update rpm_get/put to use the rpm structure
69c663554452 drm/i915: move a few more functions to accept the rpm structure
1bf676cc2dba drm/i915: move and rename i915_runtime_pm
9102650fb975 drm/i915: make enable/disable rpm assert function use the rpm structure
87b391b95184 drm/i915: Remove rpm asserts that use i915
d5b6c275d04a drm/i915: prefer i915_runtime_pm in intel_runtime function
cc49abc2460f drm/i915: Add Wa_1409120013:icl,ehl
84383d2e8d7c drm/i915: Refine i915_reset.lock_map
6e4e9708614a drm/i915: Execute signal callbacks from no-op i915_request_wait
a09507682e45 drm/i915: Discard some redundant cache domain flushes
5e3fb2a5b528 drm/i915: Enable refcount debugging for default debug levels
6f3b62781bbd drm: Convert connector_helper_funcs->atomic_check to accept drm_atomic_state
0cf289bd5de3 drm/i915: Move fence register tracking from i915->mm to ggtt
70972f51819a drm/i915: kerneldoc warnings squelched
4f5fd91fb327 drm/i915: Remove I915_READ16 and I915_WRITE16
5a31d30b22c0 drm/i915: Remove I915_READ_NOTRACE
54ac6479737b drm/i915: Remove I915_WRITE_NOTRACE
e44d62d1dd29 drm/i915: Remove POSTING_READ16
e33a4be83a64 drm/i915: Remove I915_POSTING_READ_FW
c54f0bac7046 drm/i915: Remove I915_READ8
ecab9be174d9 drm/i915: Combine unbound/bound list tracking for objects
6ce1c33d6c36 drm/i915: Kill INTEL_SUBPLATFORM_AML
c3ad8d29db5e drm/i915: Add missing commas to the end of the subplatform ID arrays
86761789b38a drm/i915: Improve WRPLL reference clock readout on HSW/BDW
d1707a96b117 drm/i915: Assert that HSW/BDW LCPLL is using the non-SSC reference
0f52c097a25f drm/i915: Nuke LC_FREQ
4a95e36f0357 drm/i915: Rename HSW/BDW PLL bits
b16c7ed95caf drm/i915: Do not touch the PCH SSC reference if a PLL is using it
33df8a7697a0 drm/i915: Prevent lock-cycles between GPU waits and GPU resets
ea60f4bdc433 drm/i915: Add a label for config DRM_I915_SPIN_REQUEST
c5cc0bf870cf drm/i915/perf: fix whitelist on Gen10+
d74408f52826 drm/i915/sdvo: Implement proper HDMI audio support for SDVO
77ce94dbe586 drm/i915: Fix per-pixel alpha with CCS
326fb6dd1483 drm/i915/dmc: protect against reading random memory
f9a99131ce18 drm/i915/dsi: Use a fuzzy check for burst mode clock check
522d47cff112 drm/i915/skl: use ranges for voltage level lookup
63b1700b40d6 drm/i915/cnl: use ranges for voltage level lookup
4f338ac0b2fa drm/i915/icl: use ranges for voltage level lookup
09a32cb7b45f drm/i915: Make GuC GGTT reservation work on ggtt
9937e16b2820 drm/i915/guc: Move intel_guc_reserved_gtt_size to intel_wopcm_guc_size
ab53497b5757 drm/i915: Rename i915_hw_ppgtt to i915_ppgtt
e568ac3874be drm/i915: Pull kref into i915_address_space
a8cff4c8283a drm/i915: Promote i915->mm.obj_lock to be irqsafe
f4d57d838c48 drm/i915: Allow interrupts when taking the timeline->mutex
f398bbde9e97 drm/i915: Make read_subslice_reg take engine
6caed5c938f6 drm/i915: Remove I915_READ64 and I915_READ64_32x2
1cea02dbca84 drm/i915: Convert intel_read_wm_latency to uncore mmio accessors
7f1502d99614 drm/i915: Convert gem_record_fences to uncore mmio accessors
8500f14b6398 drm/i915: Convert icl_get_stolen_reserved to uncore mmio accessors
8ed3a6230482 drm/i915: Convert i915_reg_read_ioctl to use explicit mmio accessors
4d94961d7f28 drm/i915: Eliminate unused mmio accessors
bf210f6c9e6f drm/i915/perf: fix whitelist on Gen10+
6a8cc66ffe0f drm/i915: Move i915_check_and_clear_faults to intel_reset.c
cf20b411bb02 drm/i915: Grammar s/the its/its/
c57984478ba9 drm/i915/frontbuffer: remove obsolete comment about mark busy/idle
f59d6414a6d1 drm/i915: move more atomic plane declarations to intel_atomic_plane.h
a6617183b7d2 drm/i915: remove some unused declarations from intel_drv.h
d13616db8bac drm/i915: move pm related declarations to intel_pm.h
23529cbe9156 drm/i915/wopcm: update default size for gen11+
33ec6c9eb35e drm/i915/guc: always use Command Transport Buffers
9331b6740f86 Merge tag 'spdx-5.2-rc4' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/driver-core
6be306bee7dd drm/i915/dsi: Read back pclk set by GOP and use that as pclk (v3)
2def5ae7d7fb drm/i915/dsi: Move vlv/icl_dphy_param_init call out of intel_dsi_vbt_init (v2)
0e29eb9d9160 drm/i915/dsi: Move logging of DSI VBT parameters to a helper function
bca29283dcc0 drm/i915/sdvo: Actually print the reason why the SDVO command failed
7f668346e70f drm/i915/sdvo: Don't write stack garbage into the hbuf
700bbf83eabd drm/i915/sdvo: Don't unpack stack garbage
b5716a4efe5c drm/i915/sdvo: Check that we have space for the infoframe
dd6090f8780a drm/i915: Rename SDVO_AUDIO_ENABLE to HDMI_AUDIO_ENABLE
dc49a56bd43b drm/i915/sdvo: Implement proper HDMI audio support for SDVO
cc54d5e8d816 drm/i915/sdvo: Fix AVI infoframe TX rate readout
38f300410f3e drm/i915: Fix per-pixel alpha with CCS
0502a1af95a1 drm/i915: Drop pointless WARN_ON
97068c1b905d drm/i915: Move intel_dp->prepare_link_train assignment into ddi code
f6e903db89bc drm/i915: Tidy intel_execlists_submission_init
dbc651836372 drm/i915: Convert some more bits to use engine mmio accessors
bcc726bea2cd drm/i915: Unexport i915_gem_init/fini_aliasing_ppgtt
f736ae1b1031 drm/i915: Extract engine fault reset to a helper
77a302e04312 drm/i915: Make Gen6/7 RING_FAULT_REG access engine centric
7c53c48d01a3 drm/i915: Tidy engine mask types in hangcheck
b61ea001b2df drm/i915: Reset only affected engines when handling error capture
bc7b488b1d1c drm/i915/dmc: protect against reading random memory
e659b4122cf9 Merge tag 'drm-intel-fixes-2019-06-06' of git://anongit.freedesktop.org/drm/drm-intel into drm-fixes
ac543d7145bf drm/i915: Report an earlier wedged event when suspending the engines
1fe2d6f94f96 drm/i915: Skip context_barrier emission for unused contexts
155ab8836caa drm/i915: Move object close under its own lock
affa22b5f0f7 drm/i915: fix documentation build warnings
351212f69dc6 Merge tag 'drm-intel-fixes-2019-06-03' of git://anongit.freedesktop.org/drm/drm-intel into drm-fixes
b71438606343 drm/i915/ehl: Support HBR3 on EHL combo PHY
2c1c55252647 drm/i915/dsi: Use a fuzzy check for burst mode clock check
55716d26439f treewide: Replace GPLv2 boilerplate/reference with SPDX - rule 428
f41c615310d2 drm/i915/bios: add an enum for BDB block IDs
b77f9525a658 drm/i915/bios: add more LFP options
1434e1f613e8 drm/i915/bios: add VBT swing bit to child device definition
843444ed1301 drm/i915/bios: sort BDB block definitions using block ID
231dcffc234f drm/i915/bios: add BDB block comments before definitions
f87f6599c843 drm/i915/bios: reserve struct bdb_ prefix for BDB blocks
aafe16e38df2 drm/i915/bios: remove unused, obsolete VBT definitions
932cd1543156 drm/i915/bios: clean up VBT port info debug logging
a7475e5dae8e drm/i915/bios: use port info child pointer to determine LSPCON presence
c72deaa47f45 drm/i915/bios: use port info child pointer to determine HPD invert
cc21f01137a4 drm/i915/bios: refactor DDC pin and AUX CH sanitize functions
7679f9b8f6ee drm/i915/bios: store child device pointer in DDI port info
36a0f92020dc drm/i915/bios: make child device order the priority order
3633e5116dfb drm/i915: Enable intel_color_get_config()
2740e81aad0f drm/i915: Introduce vfunc read_luts() to create hw lut
fa2eb819ddf9 Merge tag 'gvt-fixes-2019-06-05' of https://github.com/intel/gvt-linux into drm-intel-fixes
1d1b5490b91c drm/i915/gtt: Replace struct_mutex serialisation for allocation
59ec84eca57a drm/i915: Use unchecked uncore writes to flush the GTT
1c8242c3a4b2 drm/i915: Use unchecked writes for setting up the fences
87d1372d1da3 drm/i915/selftests: Flush partial-tiling object once
10d75f5428fd drm/i915: Fix plane state dumps
926878fba5d8 drm/i915: Make state dumpers take a const state
2833920d0ea0 drm/i915: Dump failed crtc states during atomic check
64f6dbabf79a drm/i915: Include crtc_state.active in crtc state dumps
a0e701041c95 drm/i915: Move state dump to the end of atomic_check()
9a86a07c7e94 drm/i915: Use intel_ types in intel_atomic_check()
5643dd9c7af4 drm/i915: Use intel_ types in intel_modeset_checks()
f239b7998507 drm/i915: Don't pass the crtc to intel_modeset_pipe_config()
1b9994c78977 drm/i915: Don't pass the crtc to intel_dump_pipe_config()
bca0bfa31c1b drm/i915: Use intel_ types in haswell_mode_set_planes_workaround()
c3b1e6c67dd2 drm/i915: Use intel_ types in intel_modeset_clear_plls()
85829eb5ee1a drm/i915: Pass intel_atomic state to check_digital_port_conflicts()
3d51b48fd16b drm/i915: Clean up cdclk vfunc assignments
8b67896e3ba1 drm/i915: Pass intel_atomic_state to cdclk funcs
7d09888ead1d drm/i915: add i2c symlink under hdmi connector
79b4df6827fe drm/i915: move more defs in intel_display_power.h
7645b19d9bdd drm/i915: extract intel_display_power.h/c from intel_runtime_pm.h/c
15e7f52a4596 drm/i915/gvt: save RING_HEAD into vreg when vgpu switched out
3fcb01f8ab9d drm/i915/gvt: add F_CMD_ACCESS flag for wa regs
912348b64d09 drm/i915/icl: Ensure port A combo PHY HW state is correct
d82b4b26218d drm/i915: Report all objects with allocated pages to the shrinker
3b4fa9640ccd drm/i915: Track the purgeable objects on a separate eviction list
7ef5ef5cdead drm/i915: add force_probe module parameter to replace alpha_support
fd1e194f4869 drm/i915: fix use of uninitialized pointer vaddr
1fbf9d81429a drm/i915: Make default value for i915.mmio_debug a compile time option
f2d1315895ca drm/i915: Drop check for non-NULL entry in llist_for_each_entry_safe
afb286bcae85 Merge tag 'gvt-fixes-2019-05-30' of https://github.com/intel/gvt-linux into drm-intel-fixes
47bc28d7ee6d drm/i915: Split off pci_driver.remove() tail to drm_driver.release()
6501aa4e3a45 drm/i915: add in-kernel blitter client
0a4a6e74e733 drm/i915/gtt: grab wakeref in gen6_alloc_va_range
0b32e1974969 drm/i915/gvt: Assign NULL to the pointer after memory free.
27348cc9c8ec drm/i915/gvt: Check if cur_pt_type is valid
3035e8cd6c31 drm/i915/gvt: Fix cmd length of VEB_DI_IECP
5e0b3f3b2773 drm/i915/gvt: refine ggtt range validation
cb2808da74f0 drm/i915/gvt: Fix vGPU CSFE_CHICKEN1_REG mmio handler
888c0094b2e2 drm/i915/gvt: Fix GFX_MODE handling
1fd45b09b10f drm/i915/gvt: Update force-to-nonpriv register whitelist
387a4c2b5529 drm/i915/gvt: Initialize intel_gvt_gtt_entry in stack
bec7550cca10 Merge tag 'docs-5.2-fixes2' of git://git.lwn.net/linux
7f5f228008e4 drm/i915/gtt: Avoid overflowing the WC stash
a10f361d176c Revert "drm/i915: Expand subslice mask"
0c1f845772e5 drm/i915: Avoid refcount_inc on known zero count
81a04d2e9091 drm/i915: selftest_lrc: Check the correct variable
a6315005a2d4 drm/i915/icl: Add WaDisableBankHangMode
2e2f08d02dd2 drm/i915: Take a runtime pm wakeref for atomic commits
1ac159e23c2c drm/i915: Expand subslice mask
0040fd19e728 drm/i915: Refactor sseu helper functions
b5ab1abe8df2 drm/i915: Move calculation of subslices per slice to new function
135a63b68250 drm/i915: Add macro for SSEU stride calculation
bd41ca49a273 drm/i915: Use local variable for SSEU info in GETPARAM ioctl
be8a4b2d3199 drm/i915: Add debugs for the C8 vs. legacy LUT case
638d87c4a70e drm/i915: Update pipe gamma enable bits when C8 planes are getting enabled/disabled
c017cf6b1a5c drm/i915: Drop the deferred active reference
754f7a0b2a13 drm/i915: Rename intel_context.active to .inflight
446e2d16a131 drm/i915: Move GEM client throttling to its own file
3f43c8767ed7 drm/i915: Move GEM object busy checking to its own file
d45a1a533499 drm/i915: Move GEM object waiting to its own file
6951e5893b48 drm/i915: Move GEM object domain management from struct_mutex to local
37d63f8fdb49 drm/i915: Pull scatterlist utils out of i915_gem.h
10be98a77c55 drm/i915: Move more GEM objects under gem/
f0e4a0639752 drm/i915: Move GEM domain management to its own file
b414fcd5be0b drm/i915: Move mmap and friends to its own file
f033428db28b drm/i915: Move phys objects to its own file
8475355f7a26 drm/i915: Move shmem object setup to its own file
98932149aeb9 drm/i915: Move object->pages API to i915_gem_object.[ch]
afa1308596c9 drm/i915: Pull GEM ioctls interface to its own file
5e5d2e209e08 drm/i915: Split GEM object type definition to its own header
7f6cafb959fc drm/i915: Kill the undead intel_context.c zombie
b7bedf31252a drm/i915: Attach HDR metadata property to connector
b37f588e4f68 drm/i915: Add state readout for DRM infoframe
5a0200f69dfd drm/i915: Write HDR infoframe and send to panel
44b42ebfccfd drm/i915: Enable infoframes on GLK+ for HDR
c0560fab6d37 drm/i915: Add DRM Infoframe handling for BYT/CHT
86beaea13100 drm/i915: Enabled Modeset when HDR Infoframe changes
c9e0c8d91ead drm/i915/huc: Define HuC firmware version for Icelake
f4cc89992056 drm/i915/guc: Define GuC firmware version for Icelake
a18c3d5e4e42 drm/i915/guc: Enable GuC CTB communication on Gen11
440f136bd3b7 drm/i915/guc: Update GuC CTB response definition
54c52a841250 drm/i915/guc: Correctly handle GuC interrupts on Gen11
1e83e7a66d13 drm/i915/guc: Create vfuncs for the GuC interrupts control functions
7c5ae251b048 drm/i915/huc: New HuC status register for Gen11
2d4ed3a988e6 drm/i915/guc: New GuC scratch registers for Gen11
4a1f9dc11916 drm/i915/guc: New GuC interrupt register for Gen11
afac50928403 drm/i915/huc: Define HuC firmware version for Geminilake
415e7f0a7b89 drm/i915/guc: Define GuC firmware version for Geminilake
e958cc908792 drm/i915/guc: Always ask GuC to update power domain states
386e300fe9fa drm/i915/guc: Reset GuC ADS during sanitize
ffd5ce22faa4 drm/i915/guc: Updates for GuC 32.0.3 firmware
a2904ade3dc2 drm/i915/guc: Don't allow GuC submission
cc80b2ef2489 drm/i915/guc: Change platform default GuC mode
2491b544ff3a Merge drm/drm-next into drm-intel-next-queued
b27e35ae5b18 drm/i915: Keep user GGTT alive for a minimum of 250ms
14ee642c2ab0 Merge tag 'drm-intel-next-2019-05-24' of git://anongit.freedesktop.org/drm/drm-intel into drm-next
88cd7a2c1b29 Merge tag 'drm-misc-next-2019-05-24' of git://anongit.freedesktop.org/drm/drm-misc into drm-next
c457d9cf256e drm/i915: Make sure we have enough memory bandwidth on ICL
d284d5145eb8 drm/i915: Make sandybridge_pcode_read() deal with the second data register
4361ccac2810 drm/i915/icl: Fix AUX-B HW not done issue w/o AUX-A
591d4dc47290 drm/i915: make REG_BIT() and REG_GENMASK() work with variables
c2df2201b693 drm/i915/gtt: set err to -ENOMEM on memory allocation failure
5c27de1df850 drm/i915/dsi: Call drm_connector_cleanup on vlv_dsi_init error exit path
c0a74c732568 drm/i915: Update DRIVER_DATE to 20190524
a3b25d157d5a Merge tag 'drm-fixes-2019-05-24-1' of git://anongit.freedesktop.org/drm/drm
551bd3368a7b drm/i915: Maintain consistent documentation subsection ordering
397049a03022 drm/i915/gen11: enable support for headerless msgs
63e8dcdb4f8e drm/i915/gtt: Neuter the deferred unbind callback from gen6_ppgtt_cleanup
b3ca0d44917c drm/i915: remove unused IO_TLB_SEGPAGES which should be defined by swiotlb
eaf20e6933dc drm/i915/uc: Skip reset preparation if GuC is already dead
a2ce23147348 drm/i915/uc: Stop talking with GuC when resetting
0922f3459f6d drm/i915/uc: Skip GuC HW unwinding if GuC is already dead
f1e6b336bafa drm/i915/uc: Use GuC firmware status helper
89195bab5d8c drm/i915/uc: Explicitly sanitize GuC/HuC on failure and finish
78577e294bf2 drm/i915/guc: Rename intel_guc_is_alive to intel_guc_is_loaded
beca36ffbdb5 drm/i915/selftests: Use prepare/finish during atomic reset test
f6470c9bccab drm/i915/selftests: Split igt_atomic_reset testcase
932309fb030d drm/i915/selftests: Move some reset testcases to separate file
d3622099c76f drm/i915/gtt: Always acquire struct_mutex for gen6_ppgtt_cleanup
09a93ef3d60f drm/i915: remove duplicate typedef for intel_wakeref_t
cfc0e7bbf41b drm/i915: Update DRIVER_DATE to 20190523
47d0ccecc9fd drm/i915/dp: Support DP ports YUV 4:2:0 output to GEN11
16668f486ffb drm/i915/dp: Change a link bandwidth computation for DP
ec4401d3893c drm/i915/dp: Add a support of YCBCR 4:2:0 to DP MSA
3c053a96ef5f drm/i915/dp: Program VSC Header and DB for Pixel Encoding/Colorimetry Format
4d432f956d4f drm: Rename struct edp_vsc_psr to struct dp_sdp
8e9d645c6831 drm/i915/dp: Add a config function for YCBCR420 outputs
374ed5429346 Merge drm/drm-next into drm-misc-next
c5d3e39caa45 drm/i915: Engine discovery query
cbe3e1d10379 drm/i915/icl: Add WaDisableBankHangMode
fde938867b92 drm/i915/selftests: Verify context workarounds
a88b6e4cbafd drm/i915: Allow specification of parallel execbuf
ee1136908e9b drm/i915/execlists: Virtual engine bonding
f71e01a78bee drm/i915: Extend execution fence to support a callback
78e41ddd2198 drm/i915: Apply an execution_mask to the virtual_engine
6d06779e8672 drm/i915: Load balancing across a virtual engine
b81dde719439 drm/i915: Allow userspace to clone contexts on creation
8319f44c0525 drm/i915: Re-expose SINGLE_TIMELINE flags for context creation
e620f7b3a263 drm/i915: Extend I915_CONTEXT_PARAM_SSEU to support local ctx->engine[]
976b55f0e1db drm/i915: Allow a context to define its set of engines
7f3f317a66ca drm/i915: Restore control over ppgtt for context creation ABI
ec8f24b7faaf treewide: Add SPDX license identifier - Makefile/Kconfig
591c39ffac4a drm/i915/gvt: Fix an error code in ppgtt_populate_spt_by_guest_entry()
e175a2520c77 drm/i915/gvt: do not let TRTTE and 0x4dfc write passthrough to hardware
b62410020391 drm/i915/gvt: add 0x4dfc to gen9 save-restore list
39947afc6c06 drm/i915/gvt: Tiled Resources mmios are in-context mmios for gen9+
df2ea3c296b1 drm/i915/gvt: use cmd to restore in-context mmios to hw for gen9 platform
a8c2d5ab9e71 drm/i915/gvt: emit init breadcrumb for gvt request
a491cc8e1597 drm/i915: Truly bump ready tasks ahead of busywaits
c80274bb5882 drm/i915: Downgrade NEWCLIENT to non-preemptive
9981927cc9e1 drm/i915: Bump signaler priority on adding a waiter
f312c23ff923 drm/i915: Pass i915_sched_node around internally
06b2b1a40e3a drm/i915: Rearrange i915_scheduler.c
5c000fb33b76 drm/i915: Bump gen7+ fb size limits to 16kx16k
203301298223 drm/i915: Bump fb stride limit to 128KiB for gen4+ and 256KiB for gen7+
aa5ca8b7421c drm/i915: Align dumb buffer stride to 4k to allow for gtt remapping
54d4d719fa11 drm/i915: Overcome display engine stride limits via GTT remapping
a88c40ebb881 drm/i915: Shuffle stride checking code around
bb211c3d0c45 drm/i915/selftests: Add live vma selftest
e2e394bffa19 drm/i915/selftests: Add mock selftest for remapped vmas
1a74fc0b3f49 drm/i915: Add a new "remapped" gtt_view
b0f986b4b025 drm: Remove users of drm_format_info_plane_cpp
24c478ead0bf drm/fourcc: Pass the format_info pointer to drm_format_plane_cpp
4cc79cbb01ef drm/i915/execlists: Drop promotion on unsubmit
68fc728b01fc drm/i915: Downgrade NEWCLIENT to non-preemptive
6e7eb7a80769 drm/i915: Bump signaler priority on adding a waiter
af461ff3fa5e drm/i915/hdcp: Use both bits for device_count
96ac08137e1a drm/i915/dp: Initialise locals for static analysis
17db337f5098 drm/i915: Truly bump ready tasks ahead of busywaits
dba5a7f301d2 drm/i915: Mark semaphores as complete on unsubmit out if payload was started
cc7ce90153e7 Merge tag 'drm-next-2019-05-16' of git://anongit.freedesktop.org/drm/drm
dc28d5742b2b Merge tag 'drm-intel-next-fixes-2019-05-15' of git://anongit.freedesktop.org/drm/drm-intel into drm-next
e0654264c480 Merge tag 'backlight-next-5.2' of git://git.kernel.org/pub/scm/linux/kernel/git/lee/backlight
dfcd66604c1c mm/mmu_notifier: convert user range->blockable to helper function
4e309bafeb77 drm/i915: Assert that TypeC ports are not used for eDP
b4c7ea635475 drm/i915: Avoid taking the PPS lock for non-eDP/VLV/CHV
08d8e17005a3 drm/i915: Replace use of PLLS power domain with DISPLAY_CORE domain
6f08ebe779a3 drm/i915: Remove the unneeded AUX power ref from intel_dp_hpd_pulse()
6cfe7ec02e85 drm/i915: Remove the unneeded AUX power ref from intel_dp_detect()
ad5125d6ef2d drm/i915: WARN for eDP encoders in intel_dp_detect_dpcd()
f39194a7a8b9 drm/i915: Disable power asynchronously during DP AUX transfers
e0da2d63ab3a drm/i915: Add support for asynchronous display power disabling
ee70080a52f1 drm/i915: Verify power domains state during suspend in all cases
dbf99c1f8c7e drm/i915: Force printing wakeref tacking during pm_cleanup
4547c255f442 drm/i915: Add support for tracking wakerefs w/o power-on guarantee
e3c54da0fe86 drm/i915: Fix pixel clock and crtc clock config mismatch
30bd7efdf678 drm/i915: Fix pipe config mismatch for bpp, output format
8ae897435f0a drm/i915: Refactor bdw_get_pipemisc_bpp
3c23ed13112c drm/i915: Fix the pipe state timing mismatch warnings
190980187e2b drm/i915: Check for no-op priority changes first
52c76fb18a34 drm/i915: Pass i915_sched_node around internally
5ae87063c162 drm/i915: Rearrange i915_scheduler.c
c36beba6b296 drm/i915: Seal races between async GPU cancellation, retirement and signaling
da471250706e drm/i915: Fix fastset vs. pfit on/off on HSW EDP transcoder
396dd8143bdd drm/i915/fbc: disable framebuffer compression on GeminiLake
b1c19fa16c82 Merge tag 'drm-intel-next-fixes-2019-05-09' of git://anongit.freedesktop.org/drm/drm-intel into drm-next
dc0c0bfe112c drm/i915: Add readout and state check for pch_pfit.force_thru
13b7648b7eab drm/i915: Fix fastset vs. pfit on/off on HSW EDP transcoder
1d25724b41fa drm/i915/fbc: disable framebuffer compression on GeminiLake
752c4f3c1d19 Merge remote-tracking branch 'drm/drm-next' into drm-misc-next
f26ae6a652f2 drm/i915: SRM revocation check for HDCP1.4 and 2.2
0de655cae416 drm: generic fn converting be24 to cpu and vice versa
43318c0ae38f drm/i915: debugfs: HDCP2.2 capability read
a2d635decbfa Merge tag 'drm-next-2019-05-09' of git://anongit.freedesktop.org/drm/drm
eb85d03e01c3 Merge tag 'drm-misc-next-fixes-2019-05-08' of git://anongit.freedesktop.org/drm/drm-misc into drm-next
0152b3b3f49b drm/i915: Seal races between async GPU cancellation, retirement and signaling
519a019491b8 drm/i915/hangcheck: Replace hangcheck.seqno with RING_HEAD
18ecc6c55bcb drm/i915: Reboot CI if forcewake fails
d897166d8598 Merge branch 'work.file' of git://git.kernel.org/pub/scm/linux/kernel/git/viro/vfs
3fad10dbb688 drm/i915/icl: Fix setting 10 bit deep color mode
9ab91a30f2b9 drm/i915: Kill PCH_KBP
5a6ac10b17ff drm/i915/execlists: Don't apply priority boost for resets
25d851adbf4c drm/i915: Only reschedule the submission tasklet if preemption is possible
3970564940ba drm/i915: Stop spinning for DROP_IDLE (debugfs/i915_drop_caches)
1830374e1332 drm/i915: Cancel retire_worker on parking
ae2306315fe8 drm/i915: Remove delay for idle_work
ba0001657f95 drm/i915: Flush the switch-to-kernel-context harder for DROP_IDLE
23372cce8fe7 Merge tag 'gvt-next-fixes-2019-05-07' of https://github.com/intel/gvt-linux into drm-intel-next-fixes
05d9c8783bb2 drm/i915/icl: Set GCP_COLOR_INDICATION only for 10/12 bit deep color
dc58958d08bb drm/i915: Assert the local engine->wakeref is active
7ee280a75fd9 drm/i915: Prefer checking the wakeref itself rather than the counter
39f94a89a90b drm/i915: Assert breadcrumbs are correctly ordered in the signal handler
c8a0e2aef61f drm/i915: Acquire the signaler's timeline HWSP last
2564fe708b58 drm/i915: Disable semaphore busywaits on saturated systems
e766fde6511e drm/i915: Delay semaphore submission until the start of the signaler
dd4e5d6106b2 Merge tag 'arm64-mmiowb' of git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux
2c6a392cddac Merge branch 'core-stacktrace-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip
6ec62961e6de Merge branch 'core-objtool-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip
46034d2bb7c8 drm/i915: Move the hsw/bdw pc8 code to intel_runtime_pm.c
8f91cfd2e7ff drm/i915: Replace intel_ddi_pll_init()
c91a45f421e3 drm/i915: Move w/a 0477/WaDisableIPC:skl into intel_init_ipc()
5a7d202b1574 drm/i915: Drop WaIncreaseLatencyIPCEnabled/1140 for cnl
25312ef13600 drm/i915: Document that we implement WaIncreaseLatencyIPCEnabled
75fdb811d93c drm/i915/gvt: Add in context mmio 0x20D8 to gen9 mmio list
ca6e56f654e7 drm/i915: Disable semaphore busywaits on saturated systems
d492a29d8c93 drm/i915: Use mul_u32_u32() more
b7ffc4a839a5 drm/i915: Allow ICL pipe "HDR mode" when the cursor is visible
a832d35762a0 drm/i915: Move the PIPEMISC write the correct place
0d90ccb70211 drm/i915: Delay semaphore submission until the start of the signaler
f4107766a96e drm/i915/hangcheck: Track context changes
d69ebf4082e9 drm/i915: Leave engine parking to the engines
c34c5bca331a drm/i915/execlists: Flush the tasklet on parking
818f5cb3e8fb drm/i915/guc: Fix runtime suspend
3ce2ea6574be drm/i915: extract intel_gmbus.h from i915_drv.h and rename intel_i2c.c
b30ed4cc2e8a drm/i915: move more generic utils to i915_utils.h
cb3633046769 drm/i915: make i915_utils.h self-contained
fa03cc2e8cc3 drm/i915: move i915_vgacntrl_reg() where needed
2126d3e990a5 drm/i915: extract i915_debugfs.h from i915_drv.h
4e49d35c3892 drm/i915: extract intel_acpi.h from i915_drv.h
a2649b342d03 drm/i915: extract intel_lpe_audio.h from i915_drv.h
b1ad4c39bfa3 drm/i915: extract intel_dpio_phy.h from i915_drv.h
6176490e7eb3 drm/i915/csr: move CSR version macros to intel_csr.h
d28cea20bf22 drm/i915: remove unused/stale macros and comments from intel_drv.h
69f44d3b66a1 drm/i915: move ranges to intel_display.c
2162e103c859 drm/i915/dsi: move operation mode types to intel_dsi.h
5ece881d2f48 drm/i915/dvo: move DVO chip types to intel_dvo.c
c9fd91668dbd drm/i915: add single combo phy init/unit functions
263a8cf1ff5e drm/i915: Tune down WARN about incorrect VBT TC legacy flag
8c334f24e3b4 drm/i915: Include fence signaled bit in print_request()
cfda08cdac34 drm/i915/icl: Add missing combo PHY lane power setup
bd60a562906b drm/i915/icl: Factor out combo PHY lane power setup helper
3904fb78a80d drm/i915: hsw+ audio regs are per-transocder
abf4b8ed42e9 drm/i915: Don't skip audio enable if ELD is bogus
117aca43f717 drm/i915/csr: alpha_support doesn't depend on csr or vice versa
beb29980026f drm/i915: Corrupt DSI picture fix for GeminiLake
79ea35bc20a1 don't open-code file_count()
dc76e5764a46 drm/i915: Complete both freed-object passes before draining the workqueue
45b9c968c5b8 drm/i915: Move the engine->destroy() vfunc onto the engine
09b25812db10 drm/i915: Enable pipe HDR mode on ICL if only HDR planes are used
9b11215e40c5 drm/i915: Flatten and rename haswell_set_pipemisc()
8a9b36e2588b drm/i915: Wait for the struct_mutex on idling
d5f9db2c2a09 drm/i915: extract intel_combo_phy.h from i915_drv.h
ecbb5fb7f7ac drm/i915: move some leftovers to intel_pm.h from i915_drv.h
0d5adc5f2f01 drm/i915: extract intel_runtime_pm.h from intel_drv.h
12392a74ff58 drm/i915: extract intel_atomic.h from intel_drv.h
b9d0baaa3ab3 drm/i915: extract intel_dsi_dcs_backlight.h from intel_drv.h
46f2066eb6e0 drm/i915: extract intel_dp_mst.h from intel_drv.h
b375d0ef2589 drm/i915: extract intel_vdsc.h from intel_drv.h and i915_drv.h
05ca9306715c drm/i915: extract intel_overlay.h from intel_drv.h and i915_drv.h
220b92bf5709 drm/i915: extract intel_quirks.h from intel_drv.h
4d173e0c5916 drm/i915: extract intel_bios.h functions from i915_drv.h
dbeb38d93a6d drm/i915: extract intel_hotplug.h from intel_drv.h and i915_drv.h
440e2b3d8051 drm/i915: extract i915_irq.h from intel_drv.h and i915_drv.h
81afa278e641 drm/i915: extract intel_dp_aux_backlight.h from intel_drv.h
e075094fa318 drm/i915: extract intel_dp_link_training.h from intel_drv.h
8834e3659da8 drm/i915: extract intel_fifo_underrun.h from intel_drv.h
3db9de3b208c drm/i915: move dsi init functions to intel_dsi.h
f4be705f862a drm/i915: make intel_dpll_mgr.h self-contained
531747b8200a drm/i915/dvo: rename dvo.h to intel_dvo_dev.h and make self-contained
779bc1d0f30a drm/i915: make intel_bios.h self-contained
aab30b85c97a drm/i915: ensure more headers remain self-contained
da17223e8539 drm/i915: do not mix workaround with normal flow
323b0a82efbf drm/i915: reorder if chain to have last gen first
fcfec1fc98ff drm/i915/icl: fix step numbers in icl_display_core_init()
9628e15ca9d5 drm/i915/icl: Whitelist GEN9_SLICE_COMMON_ECO_CHICKEN1
0fc2273b9ab7 drm/i915/icl: Whitelist GEN9_SLICE_COMMON_ECO_CHICKEN1
487f3c7fb1a0 drm: Simplify stacktrace handling
62c8e423450d drm/i915: Skip unused contexts for context_barrier_task()
879a4e70f96a drm/i915: Fix ICL output CSC programming
8631fef7f203 drm/i915/gvt: Revert "drm/i915/gvt: Refine the snapshort range of I915 MCHBAR to optimize gvt-g boot time"
46472b3efb61 drm/i915: Move i915_request_alloc into selftests/
026844460743 drm/i915: Remove intel_context.active_link
5e2a0419ef7c drm/i915: Switch back to an array of logical per-engine HW contexts
11334c6aad95 drm/i915: Split engine setup/init into two phases
6b736de5746a drm/i915: Pass intel_context to intel_context_pin_lock()
1b1ae40721ea drm/i915/selftests: Pass around intel_context for sseu
f7f28de7e5b2 drm/i915/selftests: Use the real kernel context for sseu isolation tests
fa9f668141f4 drm/i915: Export intel_context_instance()
251d46b0875c drm/i915/gvt: Pin the per-engine GVT shadow contexts
b226c3491b28 Merge drm/drm-next into drm-intel-next-queued
f61a8f36c482 drm/i915: Clean up cherryview_load_luts()
d428ca17ea3d drm/i915: Fix ICL output CSC programming
43068cb7ba1f drm: prefix header search paths with $(srctree)/
9ce9bdb00dfc drm/i915: Enable render context support for gen4 (Broadwater to Cantiga)
1215d28e722c drm/i915: Enable render context support for Ironlake (gen5)
928f8f42310f drm/i915/ringbuffer: EMIT_INVALIDATE *before* switch context
e0516e83640e drm/i915: Move sandybride pcode access to intel_sideband.c
063203c013c5 drm/i915: Merge sandybridge_pcode_(read|write)
7531942861c8 drm/i915: Merge sbi read/write into a single accessor
56c5098ffcf8 drm/i915: Separate sideband declarations to intel_sideband.h
ebb5eb7d731c drm/i915: Replace pcu_lock with sb_lock
337fa6e04d40 drm/i915: Lift sideband locking for vlv_punit_(read|write)
221c78623ea5 drm/i915: Lift acquiring the vlv punit magic to a common sb-get
a75d035fedbd drm/i915: Disable preemption and sleeping while using the punit sideband
b3a39c798213 Merge tag 'drm-intel-fixes-2019-04-24' of git://anongit.freedesktop.org/drm/drm-intel into drm-fixes
842a07a7d044 drm/i915: Use the new __drm_atomic_helper_crtc_reset() helper.
930c8dfea4b8 drm/i915/gvt: Check if get_next_pt_type() always returns a valid value
4feeea1d8d77 drm/i915/gvt: Use snprintf() to prevent possible buffer overflow.
d9420241d09b drm/i915/gvt: Do not copy the uninitialized pointer from fb_info
0cf8f58d0a34 drm/i915/gvt: Remove typedef and let the enumeration starts from zero
4a6eccbcb9ea drm/i915/gvt: Change fb_info->size from pages to bytes
1f2b4a7edbc3 drm/i915: Allow multiple user handles to the same VM
8f2a1057d6ec drm/i915: Explicitly pin the logical context for execbuf
79ffac8599c4 drm/i915: Invert the GEM wakeref hierarchy
2ccdf6a1c3f7 drm/i915: Pass intel_context to i915_request_create()
6eee33e87f6d drm/i915: Introduce context->enter() and context->exit()
23c3c3d04fa7 drm/i915: Pull the GEM powermangement coupling into its own file
d91e657876a9 drm/i915: Introduce struct intel_wakeref
112ed2d31a46 drm/i915: Move GraphicsTechnology files under gt/
86554f48e511 drm/i915/selftests: Verify whitelist of context registers
09407579abf5 drm/i915: Store the default sseu setup on the engine
447811a686e8 drm/i915/icl: Fix MG_DP_MODE() register programming
929eec99f5fd drm/i915: Avoid use-after-free in reporting create.size
9fa246256e09 Revert "drm/i915/fbdev: Actually configure untiled displays"
8d8f6f704495 Merge tag 'drm-misc-next-2019-04-18' of git://anongit.freedesktop.org/drm/drm-misc into drm-next
b1c4f7feada5 Merge tag 'drm-intel-next-2019-04-17' of git://anongit.freedesktop.org/drm/drm-intel into drm-next
51eb1a1de7a9 drm/i915/icl: Fix clockgating issue when using scalers
372b9ffb5799 drm/i915: Fix skl+ max plane width
9c11b12184bb drm/i915/icl: Fix MG_DP_MODE() register programming
2d6692e642e7 drm/i915: Start writeback from the shrinker
f3c2b76ef25e drm/i915/selftests: Check that gpu reset is usable from atomic context
40d211ef62de Revert "drm/i915/guc: Disable global reset"
fc488b59034a drm/i915/uc: Place uC firmware in upper range of GGTT
911800765ef6 drm/i915/uc: Reserve upper range of GGTT
95ebcda3ef4f drm/i915/uc: Rename uC firmware init/fini functions
267e80ee6a34 drm/i915/gtt: Skip clearing the GGTT under gen6+ full-ppgtt
b972fffa114b drm/i915: remove DRM_AUTH from IOCTLs which also have DRM_RENDER_ALLOW
7ce99d24ed72 drm/i915: Expose the busyspin durations for i915_wait_request
91cbdb83d3ae drm/i915: Track HAS_RPS alongside HAS_RC6 in the device info
d69990e0c399 drm/i915: Use drm_dev_unplug()
844e33135d3a drm/i915: Remove unwarranted clamping for hsw/bdw
26ddc068de47 drm/i915: Setup the RCS ring prior to execution
dfe2c8ed23d7 drm/i915: Stop overwriting RING_IMR in rcs resume
995340234906 drm/i915: Avoid use-after-free in reporting create.size
769f0dab622c drm/i915: Make workaround verification *optional*
254e11864a36 drm/i915: Verify the engine workarounds stick on application
4f1cb5875ca0 drm/i915: Verify workarounds immediately after application
ad2c467aa92e drm/i915: Update DRIVER_DATE to 20190417
5b354966d0d4 drm/i915/ehl: inherit icl cdclk init/uninit
d1172ab3d443 drm/i915: Introduce struct class_instance for engines across the uAPI
b16b2a2f70b1 drm/i915: fully convert the IRQ initialization macros to intel_uncore
65f42cdc6e65 drm/i915: convert the IRQ initialization functions to intel_uncore
9d9523d8c122 drm/i915: add GEN2_ prefix to the I{E, I, M, S}R registers
2918c3caefc1 drm/i915: don't specify the IRQ register in the gen2 macros
68eb49b140c3 drm/i915: refactor the IRQ init/reset macros
e4eabf27ca90 Merge tag 'gvt-next-2019-04-16' of https://github.com/intel/gvt-linux into drm-intel-next-queued
adc674cebba7 drm/i915: Mark up ips for RCU protection
7a2a519a899b drm/i915: Drop bool return from breadcrumbs signaler
2bfc4975083a drm/i915/gvt: Fix incorrect mask of mmio 0x22028 in gen8/9 mmio list
ac071578286e drm/i915/gvt: addressed guest GPU hang with HWS index mode
95d002e0a34c Merge tag 'drm-intel-next-2019-04-04' into gvt-next
c856dbc887aa drm/i915: Nuke drm_crtc_state and use intel_atomic_state instead
f5c58ba18ab8 drm/i915: Restore correct bxt_ddi_phy_calc_lane_lat_optim_mask() calculation
5aae7832d1b4 drm/i915: Do not enable FEC without DSC
1ab494cc405c drm/i915/selftests: Skip live timeline/suspend tests if wedged
f06ddb53096b BackMerge v5.1-rc5 into drm-next
fa49e2eac9aa drm: Remove the ULONG_MAX stack trace hackery
5d75dc2b0810 drm/i915: Teach intel_workarounds to use uncore mmio access
39564ae86d51 drm/i915/ehl: Inherit Ice Lake conditional code
5ce5f61b70f9 drm/i915: Handle catastrophic error on engine reset
019d26004eba drm/i915: Shortcut readiness to reset check
e5604e2fb6d4 drm/i915: Suppress spurious combo PHY B warning
7a412b8f60cd drm/i915: Restore correct bxt_ddi_phy_calc_lane_lat_optim_mask() calculation
0edda1d6813b drm/i915: Flush the CSB pointer reset
fa9d38f65d39 drm/i915: Fix the inconsistent RMW in WA 827
2474028e4b9a drm/i915: Rename skl_wa_clkgating to the actual WA
6fd3134ae355 drm/i915: Do not enable FEC without DSC
2e1e5c5532ff drm/i915: Avoid reclaim taints from runtime-pm debug
1863e3020ab5 drm/i915/execlists: Always reset the context's RING registers
292ad25c22d9 drm/i915/guc: Implement reset locally
3936867dbc1e drm/i915: Disable read only ppgtt support for gen11
0c441cb6f3ee drm/i915: Call i915_sw_fence_fini on request cleanup
aefa95bacfbe drm/i915: Clean up DSC vs. not bpp handling
4e2056e05e6e drm/i915: Set DP min_bpp to 8*3 for non-RGB output formats
3f5f5d534bd4 Merge tag 'gvt-fixes-2019-04-11' of https://github.com/intel/gvt-linux into drm-intel-fixes
09ded8af57bc drm/i915/fbdev: Move intel_fb_initial_config() to fbdev helper
632c7ad6f450 drm/i915/icl: Switch to using 12 deep CSB status FIFO
7d4c75d9097a drm/i915: Prepare for larger CSB status FIFO size
917dc6b53c27 drm/i915: Use Engine1 instance for gen11 pm interrupts
1071d0f6877e drm/i915/icl: Disable video turbo mode for rp control
2ea7414159cd drm/i915/icl: Enable media sampler powergate
d105e9ad548d drm/i915/icl: Apply a recommended rc6 threshold
a79208de65fe drm/i915: Use dedicated rc6 enabling sequence for gen11
b7404c7ecb38 drm/i915: Bump ready tasks ahead of busywaits
cd7879f79f83 drm/i915/gvt: Roundup fb->height into tile's height at calucation fb->size
9726920b7ea2 drm/i915: Only reset the pinned kernel contexts on resume
feb8846b3a4f drm/i915/dp: Expose force_dsc_enable through debugfs
21635d731173 drm/i915/dp: revert back to max link rate and lane count on eDP
4690985e00ac drm/i915/icl: Fix port disable sequence for mipi-dsi
20eea462bf2f drm/i915/icl: Ungate ddi clocks before IO enable
8455dad7ba8c drm/i915/icl: Don't warn on spurious interrupts
a087bafeeac7 drm/i915/icl: Handle rps interrupts without irq lock
f11cb1c19ad0 drm/i915/dp: revert back to max link rate and lane count on eDP
942d1cf48eae drm/i915/icl: Fix port disable sequence for mipi-dsi
c5b81a325263 drm/i915/icl: Ungate ddi clocks before IO enable
174221e84915 drm/i915/guc: Replace preempt_client lookup with engine->preempt_context
bef42cb2029c drm/i915: Get power refs in encoder->get_power_domains()
6484775766e3 drm/i915/selftests: Mark live_forcewake_ops as unreliable
7ae6ad6fbd83 drm/i915/psr: Do not enable PSR in interlaced mode for all GENs
98c0d19ec72c drm/i915/psr: Initialize PSR mutex even when sink is not reliable
c0f6ffb2cd6a drm/i915: Remove unused VLV/CHV PSR registers
15b7dae0076b drm/i915/psr: Update PSR2 SU corruption workaround comment
de220cc21967 drm/i915: Consolidate the timeline->barrier
da23379f1508 drm/i915: Use static allocation for i915_globals_park()
bfd045331384 drm/i915/guc: Replace WARN with a DRM_ERROR
e1b7058ece71 drm/i915: Fix pipe_bpp readout for BXT/GLK DSI
99fa4bc26d74 drm/i915/icl: Simplify release of encoder power refs
3a52fb7e7953 drm/i915: Get power refs in encoder->get_power_domains()
fb24ea52f78e drivers: Remove explicit invocations of mmiowb()
93a643f29bcb drm/i915/cdclk: have only one init/uninit function
e7674ef682f2 drm/i915: extract intel_cdclk.h from intel_drv.h
f9a79f9aeeee drm/i915: extract intel_sprite.h from intel_drv.h
75a4639a9f9a drm/i915: extract intel_dvo.h from intel_drv.h
42406fdc282c drm/i915: extract intel_lvds.h from intel_drv.h
efe57eeae510 drm/i915: extract intel_tv.h from intel_drv.h
c6a35b9cf9e2 drm/i915: extract intel_pipe_crc.h from intel_drv.h
56dabc930252 drm/i915: extract intel_atomic_plane.h from intel_drv.h
0550691d58f9 drm/i915: extract intel_hdmi.h from intel_drv.h
27fec1f9734d drm/i915: extract intel_dp.h from intel_drv.h
6dfccb95cf17 drm/i915: extract intel_fbdev.h from intel_drv.h
696173b064c6 drm/i915: extract intel_pm.h from intel_drv.h
44c1220a441c drm/i915: extract intel_panel.h from intel_drv.h
408bd9178666 drm/i915: extract intel_hdcp.h from intel_drv.h
596fee14fbc9 drm/i915: extract intel_sdvo.h from intel_drv.h
f3e189479427 drm/i915: extract intel_lspcon.h from intel_drv.h
78c61320c542 drm/i915: extract intel_color.h from intel_drv.h
55367a275ada drm/i915: extract intel_psr.h from intel_drv.h
98afa316d1ed drm/i915: extract intel_fbc.h from intel_drv.h
174594db632a drm/i915: extract intel_csr.h from intel_drv.h
ec7f29ff0d14 drm/i915: extract intel_connector.h from intel_drv.h
fdc24cf30897 drm/i915: extract intel_ddi.h from intel_drv.h
d2ee2e8afeea drm/i915: extract intel_crt.h from intel_drv.h
331c201a0726 drm/i915: extract intel_audio.h from intel_drv.h
e1ef734eaec5 drm/i915: make intel_frontbuffer.h self-contained
499653501baf drm/i915: Fix pipe_bpp readout for BXT/GLK DSI
968a85b19d0a drm/i915/gvt: Prevent use-after-free in ppgtt_free_all_spt()
196a66275520 drm/i915/gvt: Annotate iomem usage
513a4c5589b4 drm/i915: Track the temporary wakerefs used for hsw_get_pipe_config
141f3767e7b8 drm/i915: Mark GEM wedged right after marking device unplugged
95007efbe608 drm/i915: Convert i915_reset.c over to using uncore mmio
fdc4e9267f9b drm/i915: Make use of 'engine->uncore'
6d4257284a87 drm/i915: Make RING_PDP relative to engine->mmio_base
e57ce4b193a3 drm/i915/selftests: Fix plain use of integer 0 as NULL
bac24f59f454 drm/i915/execlists: Enable coarse preemption boundaries for gen8
b66ea2c2cf59 drm/i915: Use lockdep_pin_lock() over the construction of the request
c2400ec3b6d1 drm/i915: add Makefile magic for testing headers are self-contained
8fb44c1d8258 drm/i915: Fixup kerneldoc for intel_cdclk_needs_cd2x_update
6960d9cfc721 drm/i915: Be precise in types for i915_gem_busy
28d618e9ab86 drm/i915: Update DRIVER_DATE to 20190404
57cbec02f9b1 Merge tag 'gvt-fixes-2019-04-04' of https://github.com/intel/gvt-linux into drm-intel-fixes
cf9ed66671ec drm/i915/gvt: Fix kerneldoc typo for intel_vgpu_emulate_hotplug
7f1a93b1f1d1 drm/i915/gvt: Correct the calculation of plane size
795f672b88ba drm/i915: Expose full 1024 LUT entries on ivb+
821062478ce4 drm/i915: Expose the legacy LUT via the GAMMA_LUT/GAMMA_LUT_SIZE props on gen2/3
e262568eb58f drm/i915: Add "10.6" LUT mode for i965+
514462caf757 drm/i915: Add 10bit LUT for ilk/snb
c21ce2effc52 drm/i915: Implement split/10bit gamma for ivb/hsw
5bda1aca5d94 drm/i915: Don't use split gamma when we don't have to
320d41b33ade drm/i915: Extract ilk_lut_10()
59f9e9cab3a1 drm/i915: Skip modeset for cdclk changes if possible
2b21dfbeee72 drm/i915: Remove redundant store of logical CDCLK state
48d9f87ddd21 drm/i915: Save the old CDCLK atomic state
905801fe7237 drm/i915: Force 2*96 MHz cdclk on glk/cnl when audio power is enabled
4c6ce5c99084 drm/i915: Move the decision to use the breadcrumb tasklet to the backend
8c5dc8d9f19c video: backlight: Remove useless BACKLIGHT_LCD_SUPPORT kernel symbol
640cde65b48a drm/i915: Fix uninitialized mask in intel_device_info_subplatform_init
3de6f8529461 drm/i915: rename init/fini/prune uncore functions
6cbe88303621 drm/i915: add intel_uncore_init_early
8f4faed01e30 i915, uaccess: Fix redundant CLAC
f722b8c1e2a2 drm/i915/ehl: All EHL ports are combo phys
7881e6057586 drm/i915: Only emit one semaphore per request
8b74594aa455 drm/i915: Split out i915_priolist_types into its own header
3a891a626794 drm/i915: Move intel_engine_mask_t around for use by i915_request_types.h
b01720bfcdf9 drm/i915: Prefault before locking pages in shmem_pwrite
a145b5b0e487 drm/i915: Always backoff after a drm_modeset_lock() deadlock
805446c8347c drm/i915: Introduce concept of a sub-platform
e08891a5b7e6 drm/i915: Remove redundant device id from IS_IRONLAKE_M macro
86d35d4e7625 drm/i915: Split Pineview device info into desktop and mobile
ee8efa80799f drm/i915: Check domains for userptr on release
cde5f7edd511 drm/i915: Avoid using ctx->file_priv during construction
52b832606038 drm/i915/guc: Retry GuC load for all load failures
ee6df5694a9a drm/i915: Always backoff after a drm_modeset_lock() deadlock
502da13a72da drm/i915: Program EXT2 GC MAX registers
61eae851c92b drm/i915: Fix GCMAX color register programming
e15be4298f35 drm/i915: fix i9xx irq enable/disable
f6ac993fb0ca drm/i915: move the edram detection out of uncore init
b4e4538a0ab5 Merge tag 'drm-misc-next-2019-03-28-1' of git://anongit.freedesktop.org/drm/drm-misc into drm-next
d57b39e3ee3c drm/i915/gvt: Enable async flip on plane surface mmio writes
d39af942822f drm/i915/gvt: Enable synchronous flip on handling MI_DISPLAY_FLIP
aee183baaa3a drm/i915/gvt: Add macro define for mmio 0x50080 and gvt flip event
43226e6fe798 drm/i915/gvt: replaced register address with name
663a50ceac75 drm/i915/gvt: do not let pin count of shadow mm go negative
dade58ed5af6 drm/i915/gvt: do not deliver a workload if its creation fails
c4128ce7d59e drm/i915: Skip the linear degamma LUT load on ICL+
c25abff511ad drm/i915: Drop the pointless linear legacy LUT load on CHV
f65d5528c023 drm/i915: Extract ilk_color_check()
1eb631561120 drm/i915: Extract bdw_color_check()
fbeb4f362213 drm/i915: Extract glk_color_check()
1b386cf84931 drm/i915: Extract icl_color_check()
3cdd5174cfc6 drm/i915: Extract chv_color_check()
e98f35624ca4 drm/i915: Extract i9xx_color_check()
9d9cb9c18c70 drm/i915: Turn intel_color_check() into a vfunc
e0510da05192 drm/i915: Extract check_luts()
26cdaac4793c drm/i915/icl: Fix VEBOX mismatch BUG_ON()
a01b2c6f47d8 drm/i915: Update DRIVER_DATE to 20190328
4828d64e7f38 drm/i915: Update DRIVER_DATE to 20190328
a24dac922fda drm/i915: Update DRIVER_DATE to 20190328
e9a88dc28766 drm/i915: Reject rotation for some hdr formats
546f0f655067 drm/i915: Reject Yf tiling for HDR formats, v2.
3bd02fa4be3a drm/i915: Handle YUV subpixel support better
0e2f54f88b8b Merge drm/drm-next into drm-intel-next-queued
96fd2c6633b0 drm/i915: Drop new chunks of context creation ABI (for now)
a2deb87396b0 drm/i915: Disable semaphore on vGPU for now
5aa2c9ae9371 drm/i915: Update TRANS_MSA_MISC for fastsets
5ca0ef8a56b8 drm/i915: Add max_bpc property for DP MST
f1477219869c drm/i915: Remove the 8bpc shackles from DP MST
765bdb0b3948 drm/i915: Expose the force_audio property with DP MST
37aa52bff2bc drm/i915: Add broadcast RGB property for DP MST
35f51863e30d drm: Kill drm_display_info.name
547fcf9b1c60 drm/i915/icl: Fix VEBOX mismatch BUG_ON()
7a0f9ef9703d drm/i915: Use drm_fb_helper_fill_info
71cd6cb23487 drm/i915/selftests: Fix an IS_ERR() vs NULL check
98721b84bc83 drm/i915: fix i386 build of 64b raw_uncore functions
9511cb6481af drm/i915: Adding missing '; ' to ENGINE_INSTANCES
e163484afa8d drm/i915: Update size upon return from GEM_CREATE
baba6e572b38 drm/i915: take a reference to uncore in the engine and use it
97a04e0d07c4 drm/i915: switch intel_wait_for_register to uncore
d2d551c06f81 drm/i915: intel_wait_for_register_fw to uncore
4319382e9b1b drm/i915: switch intel_uncore_forcewake_for_reg to intel_uncore
a2b4abfc626b drm/i915: switch uncore mmio funcs to use intel_uncore
eb17af67eb1e drm/i915: take a ref to the rpm in the uncore structure
2cf7bf6f2f20 drm/i915: add uncore flags for unclaimed mmio
5a0ba777098a drm/i915: add HAS_FORCEWAKE flag to uncore
6cc5ca768825 drm/i915: rename raw reg access functions
077973c8c37f drm/i915/icl: reduce pll_id scope and use enum type
02c99d26f520 drm/i915/icl: use previous pll hw readout
5e65216d8dd1 drm/i915/cnl: use previous pll hw readout
47c9877e9be3 drm/i915/bxt: make bxt_calc_pll_link() similar to skl
947f44174684 drm/i915/skl: use previous pll hw readout
8782c647aec4 drm/fbdev: Make skip_vt_switch the default
602cbe8efc52 drm/i915/selftests: Fix an IS_ERR() vs NULL check
4b9a3932e7ba drm/i915: Mark AML 0x87CA as ULX
97ee6e925552 drm/i915: stop storing the media fuse
b024ab9b2d3a drm/i915/bios: iterate over child devices to initialize ddi_port_info
0bec6219e5a0 Merge tag 'drm-misc-next-2019-03-21' of git://anongit.freedesktop.org/drm/drm-misc into drm-next
32c13bcd3544 drm/i915: Report the correct errno from i915_gem_context_open()
0df3f09d00ae drm/i915: Use vblank_disable_immediate on gen2
d938da6b132a drm/i915: Disable C3 when enabling vblank interrupts on i945gm
57b1c4460dc4 drm/i915: Mark AML 0x87CA as ULX
dd19f6bf9245 drm/i915: Remove defunct intel_suspend_gt_powersave()
47c3b5e9b38b drm/i915/guc: Support for extended GuC notification messages
ddad5babb05e drm/i915: always pin hw_id for GVT context
4b225248dadd drm/i915/ehl: Add Support for DMC on EHL
9b7598a99ab4 drm/i915/ehl: Set proper eu slice/subslice parameters for EHL
759c9ab55b5b drm/i915/ehl: EHL outputs are different from ICL
e547f2a2fc13 drm/i915/ehl: Add dpll mgr
897f296152c7 drm/i915/ehl: Add ElkhartLake platform
29f3863d33d1 drm/i915/ehl: Add EHL platform info and PCI IDs
abf1aae8259e drm/i915: Clean up EDID downclock mode lookup
9f6fbe22be90 drm/i915: Stop hand rolling drm_mode_match()
dee2370ce3d1 drm/i915: Adjust DSI fixed mode handling
325710d3d4a3 drm/i915: Refactor VBT fixed mode handling
8f49673ef919 drm/i915: Pick the first mode from EDID as the fixed mode when there is no preferred mode
0dc927eb9496 drm/i915: Refactor EDID fixed mode search
6086e47b35e1 drm/i915: Really calculate the cursor ddb based on the highest enabled wm level
ea593dbba4c8 drm/i915: Allow contexts to share a single timeline across all engines
b91715417244 drm/i915: Extend CONTEXT_CREATE to set parameters upon construction
e0695db7298e drm/i915: Create/destroy VM (ppGTT) for use with contexts
9d1305ef80b9 drm/i915: Introduce the i915_user_extension_method
b9d52d381e14 drm/i915/guc: GuC suspend path cleanup
e70d3d804041 drm/i915/selftests: Mark up preemption tests for hang detection
d067994cc425 drm/i915/selftests: Calculate maximum ring size for preemption chain
69903dfae031 drm/i915/icl: Fix the TRANS_DDI_FUNC_CTL2 bitfield macro
76444b6e62ed Merge tag 'gvt-fixes-2019-03-21' of https://github.com/intel/gvt-linux into drm-intel-fixes
754a25442705 drm/i915: Skip object locking around a no-op set-domain ioctl
a679f58d0510 drm/i915: Flush pages on acquisition
4daffb664a69 drm/i915: Stop storing the context name as the timeline name
3e05531243d0 drm/i915: Stop storing ctx->user_handle
7dc40713618c drm/i915: Introduce a mutex for file_priv->context_idr
3aa9945a528e drm/i915: Separate GEM context construction and registration to userspace
401f147b16d9 drm/i915/selftests: fix NULL vs IS_ERR() check in mock_context_barrier()
ab7529f24417 drm/i915: Use __is_constexpr()
ff01e6971ecd drm/fourcc: Fix conflicting Y41x definitions
6ebc9692a7ad drm/i915: make raw access function work on uncore
25286aaca9ce drm/i915: move regs pointer inside the uncore structure
272c7e52302e drm/i915: reduce the dev_priv->uncore dance in uncore.c
cb7ee69015aa drm/i915: make find_fw_domain work on intel_uncore
f7de50278e5c drm/i915: make more uncore function work on intel_uncore
3ceea6a1b4d2 drm/i915: use intel_uncore for all forcewake get/put
f568eeee5355 drm/i915: use intel_uncore in fw get/put internal paths
159367bb9e74 drm/i915: always use masks on FW regs
7264aebb81d1 drm/i915/icl: Fix the TRANS_DDI_FUNC_CTL2 bitfield macro
6e514e371757 drm/i915: Switch to bitmap_zalloc()
8cac9fd9bc79 drm/i915: Inline skl_update_pipe_wm() into its only caller
96cb7cde1a30 drm/i915: Don't pass pipe_wm around so much
5e6037c88ad5 drm/i915: Move some variables to tighter scope
a301cb0fca2d drm/i915: Keep plane watermarks enabled more aggressively
10a7e07b68b9 drm/i915: Make sure cursor has enough ddb for the selected wm level
df331de3f8aa drm/i915: Allocate enough DDB for the cursor
c92558aa4172 drm/i915: Extract skl_compute_wm_params()
67155a699684 drm/i915: Don't pass plane state to skl_compute_plane_wm()
3cf963cfe3a9 drm/i915: Accept alloc_size == blocks
4677faf65fd1 drm/i915: Use HPLLVCO_MOBILE for all PNVs
f3e304852242 drm/i915: Introduce i915_has_asle()
9e7d569924d9 drm/i915: Introduce i9xx_has_pps()
b7c8093fac15 drm/i915: Introduce i9xx_has_pfit()
5c227869839b drm/i915: Reorder gen3/4 swizzle detection logic
fd79d93985e0 drm/i915/selftests: add test to verify get/put fw domains
d315d4faf820 drm/i915/selftests: Provide stub reset functions
1284ec985572 drm/i915: Update DRIVER_DATE to 20190320
729ae330a0f2 drm/i915/cml: Introduce Comet Lake PCH
a7b4deeb02b9 drm/i915/cml: Add CML PCI IDS
06dd94cccdd1 drm/i915: Fix PSR2 selective update corruption after PSR1 setup
d2daff2c0988 drm/i915: Pass dev_priv to intel_is_dual_link_lvds()
17be49428a4f drm/i915: Polish intel_get_lvds_encoder()
27b680f917e7 drm/i915: Add some missing curly braces
4631dc3b7c7f drm/i915: Remove the fragile array index -> link rate mapping
ad40f8b314ad drm/i915: Nuke icl_calc_dp_combo_pll_link()
2ee7fd1efe62 drm/i915: Fix readout for cnl DPLL kdiv==3
dc41e918d159 drm/i915: Remove redundant on stack dpll_hw_state from icl_get_dpll()
3d1ed35182a0 drm/i915: Pass crtc_state down to icl dpll funcs
2cf9cd820a29 drm/i915: Remove redundant on stack dpll_hw_state from cnl_get_dpll()
e7251d71d4d4 drm/i915: Pass crtc_state down to cnl dpll funcs
67de42e8d522 drm/i915: Remove redundant on stack dpll_hw_state from bxt_get_dpll()
e40396d015bb drm/i915: Pass crtc_state down to bxt dpll funcs
15dc88a87765 drm/i915: Remove redundant on stack dpll_hw_state from skl_get_dpll()
98b6072c2a3a drm/i915: Pass crtc_state down to skl dpll funcs
cc089e8abeac drm/i915: Don't pass crtc to intel_get_shared_dpll() and .get_dpll()
da3739070c99 drm/i915: Don't pass crtc to intel_find_shared_dpll()
4c5896dc4c67 drm/i915: Hold a reference to the active HW context
206c2f812fee drm/i915: Lock the gem_context->active_list while dropping the link
73e97d43666a drm/i915/psr: remove drmP.h include that crept in
126d0a94c945 drm/i915: stick to kernel fixed size types
65baf0ef046b drm/i915: Hold a ref to the ring while retiring
000c4f90e3f0 drm/i915: Sanity check mmap length against object size
65f26e978d7c drm/i915: Fix off-by-one in reporting hanging process
6e0473633af0 drm/i915/bios: assume eDP is present on port A when there is no VBT
54939ea0bd85 drm/i915: Switch to use HWS indices rather than addresses
7c1200456cb0 drm/i915: Turn off the CUS when turning off a HDR plane
5a0404408d32 drm/i915: Fix legacy gamma mode for ICL
8cbd0c70da3d Merge tag 'topic/hdr-formats-2019-03-13' of git://anongit.freedesktop.org/drm/drm-misc into drm-intel-next-queued
baa09e7d2f42 drm/i915: use REG_FIELD_PREP() to define register bitfield values
78b36b106a84 drm/i915: deprecate _SHIFT in favor of _MASK passed to accessors
09b434d4f6d2 drm/i915: introduce REG_BIT() and REG_GENMASK() to define register contents
6cffeb83c763 drm/i915: Stop needlessly acquiring wakeref for debugfs/drop_caches_set
794a11cb6720 drm/i915: Sanity check mmap length against object size
535d8d27c0e2 drm/i915: do not pass dev_priv to low-level forcewake functions
9073e5b26743 drm/i915: Fix off-by-one in reporting hanging process
8264fd046a08 Merge tag 'drm-next-2019-03-15' of git://anongit.freedesktop.org/drm/drm
f19d90eed648 drm/i915: Split ilk vs. icl csc matrix handling
b281264f8b81 drm/i915: Clean the csc limited range/identity programming
c9e235aa0f9d drm/i915: Extract ilk_csc_convert_ctm()
d2c19b06d6ea drm/i915: Clean up ilk/icl pipe/output CSC programming
386ba08fb595 drm/i915: Extract ilk_csc_limited_range()
9fdfb8e7308b drm/i915: Precompute/readout/check CHV CGM mode
a1f1e61bfb0a drm/i915: Readout and check csc_mode
daeaaef5ef3b drm/i915/icl: remove intel_dpll_is_combophy()
2f3ee43cb9f3 drm/i915/icl: split combo and tbt pll funcs
9be8644a14c6 drm/i915/icl: split combo and mg pll disable
036f8d567b6c drm/i915/icl: split pll enable in three steps
d2ab5ebf46b4 drm/i915/icl: split combo and mg pll enable
41a1bde36715 drm/i915: Always kick the execlists tasklet after reset
2ebd000abc3f drm/i915/gtt: Refactor common ppgtt initialisation
a9fe9ca44c91 drm/i915/gtt: Rename i915_vm_is_48b to i915_vm_is_4lvl
51d623b675b6 drm/i915: Drop address size from ppgtt_type
cbecbccaa120 drm/i915: Record platform specific ppGTT size in intel_device_info
ca6ac684de5d drm/i915: Mark up vGPU support for full-ppgtt
29b43ae2a61d drm/i915: Also use new comparative stuff for more ICP+ stuff
67d4119c07a7 drm/i915: Refactor to common helpers for prepare/finish between reset & wedge
d2eeaf2bc049 drm/i915/selftests: Disable preemption while setting up fence-timers
628ac441e854 drm/i915/guc: Preparing for GuC reset along with engine reset
ad7ad48e0987 Merge tag 'drm-intel-next-fixes-2019-03-12' of git://anongit.freedesktop.org/drm/drm-intel into drm-next
74cd45fa90a2 Merge tag 'drm-misc-next-fixes-2019-03-13' of git://anongit.freedesktop.org/drm/drm-misc into drm-next
8a9a5608a31b drm/i915/icl+: Always use TPS2 or TPS3 when exiting PSR1
1e0c05c09037 drm/i915/psr: Move logic to get TPS registers values to another function
88a0d9606aff drm/i915/vbt: Parse and use the new field with PSR2 TP2/3 wakeup time
c6c30b917d40 drm/i915: Start using comparative INTEL_PCH_TYPE
fba84ad28e3b drm/i915: Move PCH_NOP to -1
2dd24a9c2c8d drm/i915/gen11+: First assume next platforms will inherit stuff
f435fe83d56b Merge tag 'topic/hdr-formats-2019-03-13' of git://anongit.freedesktop.org/drm/drm-misc into drm-misc-next
2131bc0ced60 drm/i915/bios: assume eDP is present on port A when there is no VBT
a94bed60cb73 drm/i915/icl: Implement half float formats
42fd20edf68c drm/i915: Refactor icl_is_hdr_plane
22acf9fc18e6 drm/i915/selftests: Improve error detection of reset failure
4b378c0672cc drm/i915: Consolidate reset-request debug message
3461cbfd3406 Merge tag 'topic/hdr-formats-2019-03-07' of git://anongit.freedesktop.org/drm/drm-misc into drm-intel-next-queued
26eeea150683 drm/i915/icl: Fix CRC mismatch error for DP link layer compliance
f4ecb8ae70de drm/i915: Update DRIVER_DATE to 20190311
9c1c8416fc37 drm/i915/gvt: remove the unused sreg
85fddf0b0027 drm/i915: Introduce a context barrier callback
831ebf18d63f drm/i915: Suppress the "Failed to idle" warning for gem_eio
8f6e87d6d561 drm/i915: Enable PSR2 by default
88e05aff355e drm/i915: Force PSR1 exit when getting pipe CRC
9f952664e38c drm/i915: Drop redundant checks to update PSR state
618cf883becd drm/i915: Disable PSR2 while getting pipe CRC
a8ebf6075b5d drm/i915/crc: Make IPS workaround generic
458e09775194 drm/i915/psr: Drop test for EDP in CRTC when forcing commit
d168da8cfc7c drm/i915: Compute and commit color features in fastsets
54da1d43c609 drm/i915/psr: Only lookup for enabled CRTCs when forcing a fastset
eec6d8121770 drm/i915/psr: Remove PSR2 FIXME
ca22f32a6296 drm/i915: Relax mmap VMA check
c8c16f59b3d8 drm/i915: Fix atomic state leak when resetting HDMI link
a89c09624f61 drm/i915: Acquire breadcrumb ref before cancelling
339cc6ae0f9d drm/i915/selftests: Always free spinner on __sseu_prepare error
7b1366b48c1f drm/i915: Reacquire priolist cache after dropping the engine lock
df069367f3b1 drm/i915: Protect i915_active iterators from the shrinker
08f68752cefc drm/i915: HDCP state handling in ddi_update_pipe
851ca779d110 Merge tag 'drm-next-2019-03-06' of git://anongit.freedesktop.org/drm/drm
d26f9c7f888d Merge tag 'topic/hdr-formats-2019-03-07' of git://anongit.freedesktop.org/drm/drm-misc into drm-misc-next
0881954965e3 drm/i915: Introduce intel_context.pin_mutex for pin management
9dbfea98d70b drm/i915: Track the pinned kernel contexts on each engine
95f697eb024d drm/i915: Make context pinning part of intel_context_ops
c4d52feb2c46 drm/i915: Move over to intel_context_lookup()
4dc84b77b077 drm/i915: Store the intel_context_ops in the intel_engine_cs
39e2f501c1b4 drm/i915: Split struct intel_context definition to its own header
7e3d9a59410d drm/i915: Track active engines within a context
ab3517c1eb01 drm/i915/dp: use single point of truth for PPS divisor register
1b61c4a3eea2 drm/i915/dp: deconflate PPS unlock from divisor register
7d6ce55887a4 drm/i915: Remove has-kernel-context
c6eeb4797eb9 drm/i915: Reduce presumption of request ordering for barriers
604c37d76689 drm/i915: Refactor common code to load initial power context
5861b013e2c7 drm/i915: Do a synchronous switch-to-kernel-context on idling
3123ada8eb5d drm/i915/selftests: Check preemption support on each engine
209d73530d7e drm/i915/icl: Prevent incorrect DBuf enabling
2835f4f36b6a drm/i915/selftests: Improve switch-to-kernel-context checking
b185a35216c0 drm/i915: Read out memory type
6d9c1e920385 drm/i915: Extract DIMM info on cnl+
30a533e5774b drm/i915: Clean up intel_get_dram_info() a bit
1d55967dc1cf drm/i914: s/l_info/dimm_l/ etc.
d75434bc341e drm/i915: Generalize intel_is_dram_symmetric()
198b8dd91b79 drm/i915: Use dram_dimm_info more
331ecded7e6c drm/i915: Extract DIMM info on GLK too
8860343cc9a7 drm/i915: Fix DRAM size reporting for BXT
a62819a301d8 drm/i915: Extract BXT DIMM helpers
54561b238b19 drm/i915: Polish skl_is_16gb_dimm()
ea411e6b85df drm/i915: Extract functions to derive SKL+ DIMM info
80373fb6be96 drm/i915: Store DIMM rank information as a number
2909bf056269 drm/i915/icl: Remove alpha support protection
50b022af5d6b drm/i915: Force GPU idle on suspend
3d6062491658 drm/i915: Make I915_GEM_IDLE_TIMEOUT into a macro
c6b38fbbde91 drm: move i915_kick_out_vgacon to vgaarb
45763bf4bc1e Merge tag 'char-misc-5.1-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/char-misc
ef8006846a3a Merge tag 'pm-5.1-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm
37fbbd49054b drm/i915: Populate pipe_offsets[] & co. accurately
171d156257ee drm/i915: Simplify i830 DVO 2x clock handling
7ca60367dd52 drm/i915: Do not temporarily disable the DPLL on i830
cd7d3a1bb42e Merge drm/drm-next into drm-misc-next
a90e1948efb6 drm/i915: Relax mmap VMA check
b218a80b1715 drm/i915/selftests: Upgrade printing test/subtest name to pr_info
161996a8003f drm/i915/selftests: Fix MI_STORE_DWORD_IMM alignment
b146e5efe660 drm/i915: Pass around the intel_context
103b76eeff2e drm/i915: Use i915_global_register()
70b44595eafe mm, compaction: use free lists to quickly locate a migration source
d846325ad0e5 drm/i915/icl: Default to Thread Group preemption for compute workloads
dbfbe717ccbb drm/dsc: Split DSC PPS and SDP header initialisations
06d7cecdb611 drm/dsc: Add native 420 and 422 support to compute_rc_params
dc43332b7af6 drm/i915: Move dsc rate params compute into drm
cf4331dd3975 drm/i915: Move find_active_request() to the engine
fb251a72d630 drm/i915/gtt: Mark ALL_ENGINES as dirty on ppGTT modification
8a68d464366e drm/i915: Store the BIT(engine->id) as the engine's mask
c8b502422bfe drm/i915: Remove last traces of exec-id (GEM_BUSY)
62acc7e892ef drm/i915: Stop capturing semaphore registers for gen6/7 GPU hangs
f14c0d9fd871 drm/i915: Just check the vebox IIR regardless
a2ac437bc0fe drm/i915/gtt: Store scratch page size alongside not in the common struct
296e9b19eff6 drm/i915/icl: Enabling Y2xx and Y4xx (xx:10/12/16) formats for universal planes
696fa001524a drm/i915/icl: Add Y2xx and Y4xx (xx:10/12/16) plane control definitions
095b1d0706b9 drm/i915: Enable P010, P012, P016 formats for primary and sprite planes
df7d4156fe76 drm/i915: Preparations for enabling P010, P012, P016 formats
e13122115525 drm/i915: Add P010, P012, P016 plane control definitions
4f1836453e42 drm/i915/gtt: Use optimised memset32/64 for clearing PTE
f139da139057 drm/i915: Fix bit name in PP_STATUS register
bc7e35252eac drm/i915: allow platforms without eDP transcoder
062de72bc0c7 drm/i915: refactor transcoders reporting on error state
b8fe992a0817 drm/i915: Forcing a modeset when resetting HDMI link
3e5ebcddd103 drm/i915: Don't manually add connectors and planes state
a551cd66bc0a drm/i915: Fix atomic state leak when resetting HDMI link
3e1d87ddcf62 drm/i915: Fix the state checker for ICL Y planes
993298af26b1 drm/i915: Yet another if/else sort of newer to older platforms.
e781a7a3235e drm/i915: Acquire breadcrumb ref before cancelling
72aabfb862e4 drm/i915/gvt: Add mutual lock for ppgtt mm LRU list
1e18d5e6731d drm/i915/gvt: Only assign ppgtt root at dispatch time
2c3cd66f4c66 Merge v5.0 into drm-next
9d17210fa218 drm/i915: extract AUX mask assignment to separate function
510a75a5d2b8 drm/i915/icl: move MG pll hw_state readout
4aa909707bdb drm/i915: Re-arrange execbuf so context is known before engine
f9e9e9de58c7 drm/i915: Prioritise non-busywait semaphore workloads
e88619646971 drm/i915: Use HW semaphores for inter-engine synchronisation on gen8+
ebece7539242 drm/i915: Keep timeline HWSP allocated until idle across the system
1e3f697e47f6 drm/i915/execlists: Suppress redundant preemption
34ae8455f4d3 drm/i915/selftests: Check that whitelisted registers are accessible
c384afe35200 drm/i915: Finalize Wa_1408961008:icl
3ef7114982b8 drm/i915: Introduce i915_timeline.mutex
f552e7bd028f drm/i915/gvt: Don't submit request for error workload dispatch
9f4984773240 drm/i915/gvt: stop scheduling workload when vgpu is inactive
b5773a3616d1 drm/i915/execlists: Suppress mere WAIT preemption
bd5d6781a0f1 drm/i915: Use __ffs() in for_each_priolist for more compact code
d9948a10b902 drm/i915: Remove second level open-coded rcu work
13f1bfd3b332 drm/i915: Make object/vma allocation caches global
32eb6bcfdda9 drm/i915: Make request allocation caches global
bd2be1418659 drm/i915: Report engines are idle if already parked
44f8b8022d4c Revert "drm/i915: Avoid waking the engines just to check if they are idle"
2d5eaad007d9 drm/i915: Compute the global scheduler caps
0b702dca2658 drm/i915: Avoid waking the engines just to check if they are idle
babfb1b55ca3 drm/i915: Skip scanning for signalers if we are already inflight
69e89032b2a5 drm/i915: Include infoframes in the crtc state dump
6454cb9feb83 drm/i915: Check infoframe state in intel_pipe_config_compare()
0d567f1eaea7 drm/i915/sdvo: Read out HDMI infoframes
769be632d42b drm/i915/sdvo: Precompute HDMI infoframes
f2a10d61ca78 drm/i915: Read out HDMI infoframes
fbf08556ed43 drm/i915: Precompute HDMI infoframes
e5e70d4a37f6 drm/i915: Store mask of enabled infoframes in the crtc state
509efa2b5497 drm/i915: Return the mask of enabled infoframes from ->inforame_enabled()
5cb3c1a123fc drm/i915: Add the missing HDMI gamut metadata packet stuff
5a80e4a2cd70 drm/i915/query: Split out query item checks
368375107ba4 drm/i915/selftests: Exercise resetting during non-user payloads
b300fde8965f drm/i915: Remove i915_request.global_seqno
8892f47742ea drm/i915: Remove access to global seqno in the HWSP
89531e7d8ee8 drm/i915: Replace global_seqno with a hangcheck heartbeat seqno
37fc7845df7b drm/i915: Call MG_DP_MODE() macro with the right parameters order
656f72bb2ef3 Merge back earlier PM core material for v5.1.
d0aa694b9239 drm/i915/pmu: Always sample an active ringbuffer
0a3317d43dfa drm/i915: Remove unused HAS_PCH_CNP_LP
e0f83eb5a499 drm/i915: Sort newer to older platforms.
9e01d94456be drm/i915: Sort ctx workarounds init from newer to older platforms.
07c100b18733 drm/i915/guc: Flush the residual log capture irq on disabling
1e8b15a1988e drm/i915/gvt: Add in context mmio 0x20D8 to gen9 mmio list
772b5408e3aa drm/i915: remove redundant likely/unlikely annotation
43a8f684b6d1 drm/i915: Reorder struct_mutex-vs-reset_lock in i915_gem_fault()
2a3902bd5c14 drm/i915/icl: Drop redundant gamma mode mask
c5568ed2bfdf drm/i915/hdcp: Silence compiler critics
13bcb80b7ee7 drm/i915/gvt: Fix MI_FLUSH_DW parsing with correct index check
1813ae17fdf0 drm/i915/guc: Calling guc_disable_communication in all suspend paths
e0ad3c64fa1f drm/i915/guc: Splitting CT channel open/close functions
9ce25e72cc77 drm/i915: Prevent user context creation while wedged
207a815d8603 drm/i915: Extend skl+ crc sources with more planes
53039750bf0a drm/i915: Remove the broken DP CRC support for g4x
b49aacc8b9ea drm/i915: Use named initializers for the crc source name array
87c2b659d1c8 drm/i915: Remove the "pf" crc source
2a8862d2f3da drm/i915: Reduce the RPS shock
4509209f8bfe Pull in char-misc-next from Greg
7412826c078b drm/i915: Fix KBL HDCP2.2 encrypt status signalling
cf9cb35ff731 drm/i915: CP_IRQ handling for DP HDCP2.2 msgs
2d4254e50649 drm/i915: Implement the HDCP2.2 support for HDMI
238d3a9ea64f drm/i915: Implement the HDCP2.2 support for DP
dfe4cbc26e40 drm/i915: Handle HDCP2.2 downstream topology change
22ce2d948abf drm/i915: Implement HDCP2.2 link integrity check
d849178e2c9e drm/i915: Implement HDCP2.2 repeater authentication
bd90d7c78353 drm/i915: Implement HDCP2.2 receiver authentication
49a630b00bac drm/i915: Enable and Disable of HDCP2.2
09d56393c1d8 drm/i915: hdcp1.4 CP_IRQ handling and SW encryption tracking
9055aac76589 drm/i915: MEI interface implementation
04707f971636 drm/i915: Initialize HDCP2.2
4c719c256a0f drm/i915: Gathering the HDCP1.4 routines together
c1d1746f6d4b drm/i915: Avoid reset lock in writing fence registers
c41166f9a145 drm/i915: Beware temporary wedging when determining -EIO
d179b88deb3b drm/i915/fbdev: Actually configure untiled displays
47ed55a9bb9e drm/i915: Update DRIVER_DATE to 20190220
b08e776c223c Merge tag 'topic/mei-hdcp-2019-02-19' of git://anongit.freedesktop.org/drm/drm-intel into drm-intel-next-queued
ed47c5cb8ee6 drm/i915/gvt: Refine the combined intel_vgpu_oos_page struct to save memory
f74a6d9a2c42 drm/i915/gvt: Refine the snapshort range of I915 MCHBAR to optimize gvt-g boot time
d0781a89c06f Merge drm/drm-next into drm-intel-next-queued
2f146b78d5a9 drm/i915: Attach colorspace property and enable modeset
7f4127c4839b drm/i915: Use time based guilty context banning
8f54b3c6c921 drm/i915: Trim delays for wedging
370d757da92f drm/i915: Move verify_wm_state() to heap
e179d8e074e0 Merge tag 'topic/component-typed-2019-02-11' of git://anongit.freedesktop.org/drm/drm-intel into drm-misc-next
156b16f9b995 drm/i915: Restore interrupt enabling after a reset
e4106dae0f35 drm/i915/selftests: Make unbannable contexts for reset handling
ba4fda620a5f drm/i915: Optionally disable automatic recovery after a GPU reset
2c7f9a4df9de drm/i915/gvt: Use consist max display pipe numbers as i915 definition
c06de56121e3 Merge v5.0-rc7 into drm-next
83e3a21530d6 drm/i915/selftests: Move local mock_ggtt allocations to the heap
2a4a27540395 drm/i915/selftests: Always free spinner on __sseu_prepare error
d9b308b1f8a1 drm/i915/fbdev: Actually configure untiled displays
c48b86f90edd drm/i915: Wrap plane update/disable hook calls
d64e6078a184 drm/i915: Add overlooked plane disable tracepoint into intel_crtc_disable_planes()
0b2599a43ca9 drm/i915: Add pipe enable/disable tracepoints
5cee6c458771 drm/i915: Add pipe crc tracepoint
9095c86374db drm/i915/selftests: Drop unnecessary struct_mutex around i915_reset()
8605a1366015 drm/i915: enum port definition is moved into i915_drm.h
d9e61b66a5d3 drm/i915: Defer application of request banning to submission
c836eb79c033 drm/i915/selftests: Always use an active engine while resetting
9a3b19a16dc2 drm/i915: Only try to park engines after a failed reset
d31c85fc8642 snd/hda, drm/i915: Track the display_power_status using a cookie
290248c27c93 drm/i915: Implement new w/a for underruns with wm1+ disabled
2ed8e1f560e5 drm/i915: Include "ignore lines" in skl+ wm state
bfe0cd28518d Revert "drm/i915: W/A for underruns with WM1+ disabled on icl"
58106b7d816e drm/i915: Make MG PHY macros semantically consistent
9194e42a1837 drm/i915: Make combo PHY DDI macro definitions consistent for ICL and CNL
5e0b6697651b drm/i915: Assert that VED and ISP are power gated
c11b813f53c9 drm/i915: s/PUNIT_REG_DSPFREQ/PUNIT_REG_DSPSSPM/
62eb3c24b37c drm/i915: Apply rps waitboosting for dma_fence_wait_timeout()
e6ed078d6ddd drm/i915/icl: Add degamma and gamma lut size to gen11 caps
a91de580541c drm/i915/icl: Enable pipe output csc
255fcfbc3c18 drm/i915/icl: Enable ICL Pipe CSC block
13717cef4c1d drm/i915/icl: Add icl pipe degamma and gamma support
8957129cb3b0 drm/i915/glk: Fix degamma lut programming
b3b0391af2af drm/i915: Detect potential i915_reset_trylock() lockups
aeaaa55c7368 drm/i915: Recursive i915_reset_trylock() verboten
16eb0f34cdf4 drm/i915/opregion: rvda is relative from opregion base in opregion 2.1+
fc89a38d99d4 drm/i915/opregion: fix version check
2e7bd10e05af drm/i915: Prevent a race during I915_GEM_MMAP ioctl with WC set
e8a8fedd57fd drm/i915: Block fbdev HPD processing during suspend
d8b879bb2ed2 drm/i915/pmu: Fix enable count array size and bounds checking
ab98e94435ab drm/i915: Dump skl+ watermark changes
ed7dc6777400 drm/i915: Reacquire priolist cache after dropping the engine lock
ed06fddc2203 drm/i915: Include the current timeline seqno for debugging execlists
7c95c10ee993 drm/i915: Use synchronize_srcu_expedited() for resets
785fbda5ba66 drm/i915: Pull sync_scru for device reset outside of wedge_mutex
3b91a9359732 drm/i915/cnl: Fix CNL macros for Voltage Swing programming
9659c1af451a drm/i915/icl: combo port vswing programming changes per BSPEC
a0f52c3d357a drm/i915/opregion: rvda is relative from opregion base in opregion 2.1+
98fdaaca9537 drm/i915/opregion: fix version check
312c4ba1bb71 drm/i915: Protect i915_active iterators from the shrinker
d588100baa28 Merge drm/drm-next into drm-misc-next
5ea3998d5634 Merge tag 'drm-intel-next-2019-02-07' of git://anongit.freedesktop.org/drm/drm-intel into drm-next
c10c78ade57a drm/i915/execlists: Refactor out can_merge_rq()
21182b3c4cbb drm/i915: Don't claim an unstarted request was guilty
72eb16df010a drm/i915: Serialise resets with wedging
15cbf007e4da drm/i915: Wait for old resets before applying debugfs/i915_wedged
13e87536de1a drm/i915: Uninterruptibly drain the timelines on unwedging
0eb6a3f7ef99 drm/i915: Force the GPU reset upon wedging
2caffbf11762 drm/i915: Revoke mmaps and prevent access to fence registers across reset
7ae1940014ef drm/i915: Defer removing fence register tracking to rpm wakeup
8857c7d065e9 i915/snd_hdac: I915 subcomponent for the snd_hdac
73a116be6880 drm/i915: Update DSPCNTR gamma/csc bits during crtc_enable()
02c52f1ed20a drm/i915: Disable pipe gamma when C8 pixel format is used
0593d2cd3813 drm/i915: Turn off pipe CSC when it's not needed
0fc3f8e7540f drm/i915: Turn off pipe gamma when it's not needed
8271b2ef71aa drm/i915: Track pipe csc enable in crtc state
5f29ab23046a drm/i915: Track pipe gamma enable/disable in crtc state
9d5441de28e2 drm/i915: Populate gamma_mode for all platforms
23ec9f52e522 drm/i915/psr: Execute the default PSR code path when setting i915_edp_psr_debug
d0e93599d396 drm/i915: prepare for drmP.h removal from drm_modeset_helper.h
634852d1f468 drm/i915: HDCP state handling in ddi_update_pipe
c09d39166d8a drm/i915: Update DRIVER_DATE to 20190207
051a6d8d3ca0 drm/i915: Move LUT programming to happen after vblank waits
4d8ed54c0447 drm/i915: Split color mgmt based on single vs. double buffered registers
87cefd57c88a drm/i915: Pull GAMMA_MODE write out from haswell_load_luts()
23b03a272c2b drm/i915: Constify the state arguments to the color management stuff
5f4f3e386b36 drm/i915: Precompute gamma_mode
7eb31a0bb2c1 drm/i915: Split the gamma/csc enable bits from the plane_ctl() function
440e84a52ae9 drm/i915: Don't set update_wm_post on g4x+
d6f328bfeb0b drm/i915: Hack and slash, throttle execbuffer hogs
ebfb6977801d drm/i915: Handle vm_mmap error during I915_GEM_MMAP ioctl with WC set
5c4604e757ba drm/i915: Prevent a race during I915_GEM_MMAP ioctl with WC set
6cbb55c086b4 drm/i915: Don't send hotplug in intel_dp_check_mst_status()
6be1cf96bb79 drm/i915: Don't send MST hotplugs during resume
fe5ec65668cd drm/i915: Block fbdev HPD processing during suspend
d7e449a858ec drm/i915: Just use icl+ definition for PLANE_WM blocks field
c7e716b8617e drm/i915: Bump skl+ wm blocks to 11 bits
26a11deea685 drm/i915/pmu: Fix enable count array size and bounds checking
d028a646e84b drm/i915: Try to sanitize bogus DPLL state left over by broken SNB BIOSen
a3d15c4b0ecd drm/dp_mst: Remove port validation in drm_dp_atomic_find_vcpi_slots()
bf002c100740 drm/i915: W/A for underruns with WM1+ disabled on icl
108d14bdaef6 drm/i915: Setup PIPE_CHICKEN for fastsets too
d16221195ae2 drm/i915: Extract icl_set_pipe_chicken()
0aded171e20e drm/i915: Fix wm latency==0 disable on skl+
f81b845f72c3 drm/i915: Push clear_intel_crtc_state() onto the heap
39806c3f11e2 drm/i915: Include register polling in reg_rw traces
ab1ab0eb0cb6 drm/i915: do not return invalid pointers as a *dentry
b2ae318acdca drm/i915: Rename HAS_GMCH
21950ee7cc8f drm/i915: Pull i915_gem_active into the i915_active family
5f5c139d6900 drm/i915: Allocate active tracking nodes from a slabcache
a42375af0a30 drm/i915: Release the active tracker tree upon idling
64d6c500a384 drm/i915: Generalise GPU activity tracking
a21f453c73aa drm/i915/selftests: Exercise some AB...BA preemption chains
2a121030d4ee drm/i915: always return something on DDI clock selection
3e0b69bbed71 drm/i915: Fix skl srckey mask bits
c06ee6ff2cbc drm/i915/selftests: Context SSEU reconfiguration tests
e46c2e99f600 drm/i915: Expose RPCS (SSEU) configuration to userspace (Gen11 only)
7810858412a0 drm/i915: Add timeline barrier support
ec431eae8fc5 drm/i915/perf: lock powergating configuration to default when active
87f1ef225242 drm/i915: Record the sseu configuration per-context & engine
1413b2bc0717 drm/i915: Trim NEWCLIENT boosting
3d7a64b992ea drm/i915: Allow normal clients to always preempt idle priority clients
2cc3b81dfa7f Merge tag 'drm-intel-next-2019-02-02' of git://anongit.freedesktop.org/drm/drm-intel into drm-next
37fdaa3390cf Merge tag 'drm-misc-next-2019-02-01' of git://anongit.freedesktop.org/drm/drm-misc into drm-next
46c0cd8c562b drm/i915: Update DRIVER_DATE to 20190202
1cc9c59569e0 Merge back earlier PM core material for v5.1.
5e0f5a58b167 drm/i915/cfl: Adding another PCI Device ID.
1b4fd5d38c63 Merge tag 'gvt-next-2019-02-01' of https://github.com/intel/gvt-linux into drm-intel-next-queued
7360c9f6b857 drm/i915: Enable fastboot by default on VLV and CHV
0b904c890ac2 drm/i915/icl: restore WaEnableFloatBlendOptimization
ae598b0d6b50 drm/i915: Save some lines of source code in workarounds
69b768f2bc67 drm/i915: Move workaround infrastructure code up
2b34e562361f drm/i915/icl: Work around broken VBTs for port F detection
828ccb31cf41 drm/i915/icl: Add TypeC ports only if VBT is present
8aae2b1cdf44 drm/i915: Pick the first unused PLL once again
ad3e7b824c18 drm/i915: Don't use the second dbuf slice on icl
39c68e87bc50 drm/i915/gvt: add VFIO EDID region
1ca20f33df42 drm/i915/gvt: add hotplug emulation
49220789617b drm/i915/gvt: add functions to get default resolution
e4c0d5314ded drm/i915: Apply LUT validation checks to platforms more accurately (v3)
c0550305fcbd drm/i915: Force background color to black for gen9+ (v2)
d54e5f76d8fe drm/i915: Update DRIVER_DATE to 20190129
717671c610fc drm/i915: Use IS_GEN9_LP() for the linetime w/a check
ff58c11cdbe9 drm/i915: Drop the pointless linetime==0 check
ff61a97499fd drm/i915: Drop the definite article in front of SAGV
60e983ff187f drm/i915: Pass dev_priv to skl_needs_memory_bw_wa()
961d95e09c04 drm/i915: Account for minimum ddb allocation restrictions
b19c9bcaa20e drm/i915: Fix > vs >= mismatch in watermark/ddb calculations
17b16054b111 drm/i915: Fix bits vs. bytes mixup in dbuf block size computation
692927f4e905 drm/i915: Reinstate an early latency==0 check for skl+
b52c273be687 drm/i915: Don't ignore level 0 lines watermark for glk+
5b0bd14dcc6b drm/i915/icl: keep track of unused pll while looping
20fd2ab7be40 drm/i915/icl: remove dpll from clk_sel
7a61a6dec3df drm/i915: always return something on DDI clock selection
584fca111d0c drm/i915/icl: use tc_port in MG_PLL macros
789659f4307a drm/i915: Drop fake breadcrumb irq
52c0fdb25c7c drm/i915: Replace global breadcrumbs with per-context interrupt tracking
3df0bd19193c drm/i915: Remove the intel_engine_notify tracepoint
68e94f62cfbe drm/i915/tv: Bypass the vertical filter if possible
addc80f0bba9 drm/i915/tv: Fix adjusted_mode dotclock for interlaced modes
c9a646228816 drm/i915/execlists: Suppress preempting self
4d97cbe01980 drm/i915: Rename execlists->queue_priority to queue_priority_hint
8547444137ec drm/i915: Identify active requests
06039d98202f drm/i915/selftests: Apply a subtest filter
968bf969b47d drm/i915: Fix skl srckey mask bits
1ff494813baf drm/irq: Ditch DRIVER_IRQ_SHARED
5b38e7475e3d drm/irq: Don't check for DRIVER_HAVE_IRQ in drm_irq_(un)install
3d6535cbed4a drm/i915: Enable fastboot by default on Skylake and newer
9407d3bdb048 drm/i915: Track active timelines
5013eb8cd601 drm/i915: Track the context's seqno in its own timeline HWSP
8ba306a6a362 drm/i915: Share per-timeline HWSP using a slab suballocator
52954edd1f70 drm/i915: Allocate a status page for each timeline
b18fe4be59f2 drm/i915: Enlarge vma->pin_count
3adac4689f58 drm/i915: Introduce concept of per-timeline (context) HWSP
1e345568e3b5 drm/i915: Move list of timelines under its own lock
0ca88ba0d634 drm/i915: Always allocate an object/vma for the HWSP
528cbd17ceff drm/i915: Move vma lookup to its own lock
09d7e46b97c6 drm/i915: Pull VM lists under the VM mutex.
499197dc1696 drm/i915: Stop tracking MRU activity on VMA
7bed8adcd9f8 drm/i915: Try to sanitize bogus DPLL state left over by broken SNB BIOSen
8a920e24f058 drm/i915/tv: Use the scanline counter for timestamps on i965gm TV output
6a2a94041052 drm/i915/tv: Fix return value for intel_tv_compute_config()
ad4062da1397 drm/i915: Wait for a moment before forcibly resetting the device
c5627461490e drm/i915: Disable -Wuninitialized
29214e8cf6ce drm/i915: correct the pitch check for NV12 framebuffer
790cc9941b13 drm/i915: Clean up intel_plane_atomic_check_with_state()
0bb1ffe4eaa4 drm/i915/tv: Filter out >1024 wide modes that would need vertical scaling on gen3
690157f0a9e7 drm/i915/tv: Fix >1024 modes on gen3
e3bb355c7d8b drm/i915/tv: Generate better pipe timings for TV encoder
a0ff6779c75f drm/i915/tv: Add 1080p30/50/60 TV modes
528132a341fc drm/i915/tv: Nuke reported_modes[]
e94390aadaf2 drm/i915/tv: Make TV mode autoselection actually useable
5023520fd372 drm/i915/tv: Use drm_mode_set_name() to name TV modes
65ddf7f968b8 drm/i915/tv: Deobfuscate preferred mode selection
bda5f53206e5 drm/i915/tv: Nuke silly 0 initialzation of xpos/ypos
56f623081181 drm/i915/tv: Use bools where appropriate
4f5037983743 drm/i915/tv: Store the TV oversampling factor in the TV mode
d515282380df drm/i915/tv: Fix tv mode clocks
6801603d3d7d drm/i915/tv: Fix interlaced ysize calculation
32db0b6501d9 drm/i915: Don't try to use the hardware frame counter with i965gm TV output
9b974bde4d4a drm/i915: Issue engine resets onto idle engines
f3dccbdbdd94 drm/i915/selftests: Trim struct_mutex duration for set-wedged selftest
eb8d0f5af4ec drm/i915: Remove GPU reset dependence on struct_mutex
fe62365f9f80 drm/i915/guc: Disable global reset
ade8a0f59844 drm/i915: Make all GPU resets atomic
832a67bdb205 drm/i915: Compute the HWS offsets explicitly
9fa4973e91be drm/i915: Remove manual breadcumb counting
e1a73a54a96e drm/i915: Measure the required reserved size for request emission
8e525cb4a622 drm/i915/execlists: Move RPCS setup to context pin
b3c316b0b869 drm/i915/icl: Define MOCS table for Icelake
5029537f4fbb drm/i915: cache number of MOCS entries
1878fce8de25 drm/i915: keep track of used entries in MOCS table
828f31502045 drm/i915: use a macro to define MOCS entries
66f996052f95 drm/i915/skl: Rework MOCS tables to keep common part in a define
d7a43c3ba607 drm/i915: Simplify MOCS table definition
7f92e6c2aecf drm/i915: initialize unused MOCS entries to PTE
85baa5dbf791 drm/i915: Update DRIVER_DATE to 20190124
ff00d85b4df9 Merge tag 'gvt-next-2019-01-24' of https://github.com/intel/gvt-linux into drm-intel-next-queued
fcd70cd36b9b drm: Split out drm_probe_helper.h
0cdc1d07b461 drm/i915: Make HW readout mark CRTC scaler as in use.
d19f958db23c drm/i915: Enable fastset for non-boot modesets.
5b1ec9ac7ab5 drm/i915/backlight: Fix backlight takeover on LPT, v3.
63a23d245b2c drm/i915/backlight: Restore backlight on resume, v3.
f6626e1d96ed drm/i915: De-inline intel_context_init()
8ca4fd0406b4 Merge tag 'drm-intel-next-2019-01-10' of git://anongit.freedesktop.org/drm/drm-intel into drm-next
b42606b0397d Merge tag 'gvt-fixes-2019-01-24' of https://github.com/intel/gvt-linux into drm-intel-fixes
2b2440815827 drm/i915/execlists: Mark up priority boost on preemption
74d021eaa70a drm/i915/crt: simplify CRT VBT check on pre-VLV/DDI
346073cee660 drm/i915/lvds: simplify gen 2 lvds presence
a5916fd7a1f1 drm/i915: rename has_edp_a() to ilk_has_edp_a()
d6521463897b drm/i915/tv: only call intel_tv_init() on platforms that might have TV
9bedc7edf624 drm/i915/lvds: nuke intel_lvds_supported()
0fafa2269277 drm/i915/lvds: only call intel_lvds_init() on platforms that might have LVDS
63cb4e641af1 drm/i915/crt: split out intel_crt_present() to platform specific setup
85e2d61e4976 drm/i915: Validate userspace-provided color management LUT's (v4)
6e062b60b0b1 drm/i915/execlists: Mark up priority boost on preemption
c25f0c6a0426 drm/i915/icl: do a posting read after irq install
a9dc3395fc8b drm/i915/sdvo: switch to kernel types
0f7555121609 drm/i915/gvt: release shadow batch buffer and wa_ctx before destroy one workload
2e679d48f38c drm/i915/gvt: switch to kernel types
a81f781a3238 drm/i915/debugfs: Print PSR selective update status register values
cc8853f57e00 drm/i915: Add PSR2 selective update status registers and bits definitions
47c6cd54efde drm/i915: Refactor PSR status debugfs
235ca26fc799 drm/i915/psr: Allow PSR2 to be enabled when debugfs asks
f42fb2317ffc Merge drm/drm-next into drm-intel-next-queued
25f9cebd7a52 drm/i915: Show all active engines on hangcheck
0e21834e18c5 drm/i915: Tidy common test_bit probing of i915_request->fence.flags
924090f4237b drm/i915: Refactor out intel_context_init()
1579ab2de914 drm/i915/selftests: Use common mock_engine::advance
e4a8c8130ba3 drm/i915/selftests: Refactor common live_test framework
c95e7ce387f9 drm/i915/selftests: Create a clean GGTT for vma/gtt selftesting
480cd6dd9287 drm/i915/selftests: Track evict objects explicitly
24bf86ccf9f5 drm/i915/dsi: Enable dithering for 6 bpc panels
ca0b04db14a5 drm/i915/dsi: Fix pipe_bpp for handling for 6 bpc pixel-formats
f1e9c9094797 drm/i915: Prevent use of global_seqno=0
d25236a3290c drm/i915/intel_drv.h: switch to kernel types
143c335ad27f drm/i915/i915_drv.h: switch to kernel types
ba3f4d0ad346 drm/i915/display: switch to kernel types
5a01892ae58f drm/i915/csr: switch to kernel types
3d0c5005d3f0 drm/i915/ddi: switch to kernel types
5ce9a6497914 drm/i915/pm: switch to kernel types
129fe7516b23 drm/i915/color: switch to kernel types
209760b7f6ee drm/i915/selftests: Allocate mock ring/timeline per context
bfb0a2cb2b2d drm/i915/dp: remove PANEL_POWER_OFF macro and its use
71fc448c1aaf drm/i915/selftests: Make evict tolerant of foreign objects
293f8c0f2bb4 drm/i915: Use b->irq_enable() as predicate for mock engine
8d714185951b drm/i915/selftests: Query the vm under test for hugepage support
1dfbea041ffd drm/i915/breadcrumbs: Drop assertion that we've already enabled irqs
6ddbb12e3f54 drm/i915: Fix wakeref cookie handling in debugfs/i915_forcewake_user
1b4bd5c4a663 drm/i915: Limit the for_each_set_bit() to the valid range
15c05196ff84 Merge tag 'gvt-fixes-2018-01-17' of https://github.com/intel/gvt-linux into drm-intel-fixes
c4aa2eca319c drm/i915/sprite: switch to kernel types
830de4220a27 drm/i915/dp: switch to kernel types
990290d124d5 drm/i915/dpll_mgr: switch to kernel types
cbe974fb964e drm/i915/cdclk: switch to kernel types
a9c287c94e79 drm/i915/irq: switch to kernel types
e5315213ecd2 drm/i915/debugfs: switch to kernel types
977dcc06c3e9 drm/i915/lspcon: switch to kernel types
c7cc52167541 drm/i915/crt: switch to kernel types
739f3abdbfcf drm/i915: small isolated c99 types to kernel types switch
9f58892ea996 drm/i915: Pull all the reset functionality together into i915_reset.c
18bb2bccb549 drm/i915: Serialise concurrent calls to i915_gem_set_wedged()
204474a6b859 drm/i915: Pass down rc in intel_encoder->compute_config()
9e267d286af5 drm/i915/userptr: Fix error handling of mutex_lock_killable()
0212bdef5a4d drm/i915: Move intel_execlists_show_requests() aside
3b4ed2e2eb55 drm/i915: Move on the new pm runtime interface
96550555a78c drm/i915: Pass down rc in intel_encoder->compute_config()
484d9a844d0d drm/i915/userptr: Avoid struct_mutex recursion for mmu_invalidate_range_start
3f2e9ed0b26d drm/i915/icl: Detect port F presence via VBT
e9d49bb718f3 drm/i915/ddi: Move DDI port detection to the corresponding helper
decd29e6b5fe drm/i915: Only dump GPU state on set-wedged if interesting
6d2438c8233b drm/i915/perf: Annotate i915_perf.wakeref for keneldoc
51b00d8509dc drm/i915/gvt: Fix mmap range check
fed85691b408 drm/i915: Fix the static code analysis warning in debugfs
6c2d0f9976ad drm/i915/gvt: free VFIO region space in vgpu detach
b14c06ec0249 drm/i915/cnl: Fix CNL macros for Voltage Swing programming
8cd999181f8c drm/i915: Prevent concurrent GGTT update and use on Braswell (again)
305dc3f9834c drm/i915: Differentiate between ggtt->mutex and ppgtt->mutex
d8af327087f7 drm/i915: Fix ILK-IVB primary plane enable delays
4a8ab5ea0cde drm/i915: Mark up Ironlake ips with rpm wakerefs
8d761e773e29 drm/i915: Combined gt.awake/gt.power wakerefs
04161d64da09 drm/i915: Complain if hsw_get_pipe_config acquires the same power well twice
69d938200598 drm/i915/dp: Markup pps lock power well
25c896bdb8dc drm/i915: Track the wakeref used to initialise display power domains
0e6e0be4c952 drm/i915: Markup paired operations on display power domains
d4225a535b3b drm/i915: Syntatic sugar for using intel_runtime_pm
c9d08cc3e339 drm/i915/selftests: Mark up rpm wakerefs
2cb2cb5ff41a drm/i915/panel: Track temporary rpm wakeref
6a712a20bff4 drm/i915/hotplug: Track temporary rpm wakeref
1d264d91befc drm/i915/fb: Track rpm wakerefs
538ef96b9dae drm/i915/gem: Track the rpm wakerefs
3055f0cd782f drm/i915/guc: Track the rpm wakeref
00e27cbe4c89 drm/i915/pmu: Track rpm wakeref
6619c0075f78 drm/i915/perf: Track the rpm wakeref
a037121c3c7f drm/i915: Mark up debugfs with rpm wakeref tracking
48d1c8121607 drm/i915: Mark up sysfs with rpm wakeref tracking
183e260ba246 drm/i915: Track the rpm wakerefs for error handling
506d1f62454b drm/i915: Track GT wakeref
16e4dd0342a8 drm/i915: Markup paired operations on wakerefs
bd780f37a361 drm/i915: Track all held rpm wakerefs
ba0a64bcf8fc drm/i915/gvt: Allow F_CMD_ACCESS on mmio 0x21f0
23d19ba06b9c Merge drm/drm-next into drm-misc-next
eceae1472467 drm/dp_mst: Start tracking per-port VCPI allocations
79a47cd36c8d drm/i915: Keep malloc references to MST ports
74256b7ecf77 drm/i915: Update DRIVER_DATE to 20190110
1581b2df4cbf drm/edid: Add display_info.rgb_quant_range_selectable
c3735f5c1f9b drm/i915: Use drm_hdmi_avi_infoframe_quant_range() for SDVO HDMI as well
13d0add333af drm/edid: Pass connector to AVI infoframe functions
9fab8a2ea0d3 drm/i915: Removing polling for struct_mutex from vmap shrinker
3824e41975ae drm/i915: Use mutex_lock_killable() from inside the shrinker
7f9e20ef0f46 drm/i915: Guard error capture against unpinned vma
70e31424eabe drm/i915: init per-engine WAs for all engines
280d479b3102 drm/i915: Unwind failure on pinning the gen7 ppgtt
107c595c2a27 drm/i915: Skip the ERR_PTR error state
1035f4a65f58 drm/i915: Disable PSR in Apple panels
d78a600f703b drm/i915: drop DPF code for gen8+
a60acb223fec drm/i915: init per-engine WAs for all engines
f663b0ca9b7d drm/i915/selftests: recreate WA lists inside the selftest
6c46c2e8c589 drm/i915: Enable gfx virtualization for Coffeelake platform
5807bb4d8dd6 drm/i915/gvt: Refine port select logic for CFL platform
360f864e43aa drm/i915/gvt: Reuse the gmbus pin macro
c3b5a8430daa drm/i915/gvt: Enable gfx virtualiztion for CFL
5cd02703b0a4 drm/i915/gvt: Add mmio handler for CFL
36520ed005e7 drm/i915/gvt: Add coffeelake platform definition
b007065a0aeb drm/i915/gvt: give the cmd parser cmd_info a const treatment
ed8cce30163f drm/i915/gvt: give the cmd parser decode_info a const treatment
ba64bd963934 drm/i915/gvt: remove drmP.h include
d22ba0cb1ffe drm/i915: Reduce i915_request_alloc retirement to local context
4fb6bb892493 drm: i915: Cleanup drm_display_mode print str
8c1a765bc62c Merge tag 'drm-misc-next-2019-01-07-1' of git://anongit.freedesktop.org/drm/drm-misc into drm-next
4e8052af858a drm/i915/intel_dsi_vbt: Add support for PMIC MIPI sequences
2f80d7bd8d93 drm/i915: drop all drmP.h includes
f0e994372518 drm/i915/gvt: Fix workload request allocation before request add
f2bb09b63282 drm/i915: Downgrade scare message for unknown HuC firmware
5852a15cbc94 Ndrm/i915/debugfs: store rotation string buffer on stack
d25f71a162a9 drm/i915: Return immediately if trylock fails for direct-reclaim
3eb0930a425b Merge drm/drm-next into drm-intel-next-queued
d58f0083d39a drm/i915/selftests: Mark the whole mock device as DMA capable
f6e8aa387171 drm/i915: Report the number of closed vma held by each context in debugfs
e4fc69f24b07 drm/i915/hsw: Flush RING_IMR changes before changing the global GT IMR (vecs)
963cc126d32d drm/i915: Fixup kerneldoc for intel_device_info_runtime_init
0fe4e2d5cd93 Merge tag 'drm-next-2019-01-05' of git://anongit.freedesktop.org/drm/drm
b9d126e75b1e drm/i915: Remove partial attempt to swizzle on pread/pwrite
594cc251fdd0 make 'user_access_begin()' do 'access_ok()'
0b2c8f8b6b0c i915: fix missing user_access_end() in page fault exception case
55c15512a9cf drm/i915: Do not allow unwedging following a failed driver initialisation
96d4f267e40f Remove 'type' argument from access_ok() function
55277e1f3107 drm/i915: Always try to reset the GPU on takeover
57428bccdb13 drm/i915: Show machine type in error state
476af9c26063 drm/i915/gen6: Flush RING_IMR changes before changing the global GT IMR
122503683169 drm/i915/selftests: Take a breath during check_partial_mappings()
2cc8376fd350 drm/i915: rename dev_priv info to __info to avoid usage
1787a98439cc drm/i915: drop intel_device_info_dump()
a0f04cc27c50 drm/i915: always use INTEL_INFO() to access device info
1400cc7e0dcd drm/i915: pass dev_priv to intel_device_info_runtime_init()
ed5eb1b78a88 drm/i915/reg: abstract display_mmio_offset access
0258404f9d38 drm/i915: start moving runtime device info to a separate struct
9bdb073464d6 drm/i915/gvt: Change KVMGT as self load module
8e143b90e4d4 Merge tag 'iommu-updates-v4.21' of git://git.kernel.org/pub/scm/linux/kernel/git/joro/iommu
1216e3c3af25 drm/i915: Drop unused engine->irq_seqno_barrier w/a
835051d397b8 drm/i915/ringbuffer: Move irq seqno barrier to the GPU for gen5
1212bd821de8 drm/i915/ringbuffer: Move irq seqno barrier to the GPU for gen7
d9cad2206abf drm/i915/ringbuffer: Remove irq-seqno w/a for gen6 xcs
2f0c733b353c drm/i915/ringbuffer: Remove irq-seqno w/a for gen6/7 rcs
ed2922c025c3 drm/i915: Remove redundant trailing request flush
6bf198172beb drm/i915: Update kerneldoc for intel_wm_need_update()
7012033033da drm/i915/params: document I915_PARAMS_FOR_EACH()
d2167a2c29dd drm/i915: Remove has_pooled_eu static initializer
2ff195cf84a6 drm/i915/params: set i915.enable_hangcheck permissions to 0600
fce43315e834 drm/i915/uc: add dev_priv parameter to intel_uc_is_using_* functions
16cabb12f2cc drm/i915: add a helper to free the members of i915_params
4081cef923e0 drm/i915: add a helper to make a copy of i915_params
769e47094dcc Merge tag 'kconfig-v4.21' of git://git.kernel.org/pub/scm/linux/kernel/git/masahiroy/linux-kbuild
5d6527a784f7 mm/mmu_notifier: use structure for invalidate_range_start/end callback
ca79b0c211af mm: convert totalram_pages and totalhigh_pages variables to atomic
caa5915bb3c1 drm/i915/ringbuffer: Pull the render flush into breadcrumb emission
6a6237293d0c drm/i915/execlists: Pull the render flush into breadcrumb emission
95898ed6856e drm/i915: Drop debugfs/i915_next_seqno
6faf5916e6be drm/i915: Remove HW semaphores for gen7 inter-engine synchronisation
167bc759e823 drm/i915: Restrict PSMI context load w/a to Haswell GT1
b8449c43c95b drm/i915: avoid division by zero on skl_calc_wrpll_link
6879216897b7 drm/intel_dsi_vbt: Remove duplicate header
28e52b98b98a drm/i915: Remove debugfs/i915_ppgtt_info
eb3e1e3383e8 drm/i915: Remove duplicate header from i915_request.h
4971f090aa7f Merge tag 'drm-next-2018-12-14' of git://anongit.freedesktop.org/drm/drm
2ef82327c2c7 drm/i915: DDI: call intel_psr_ and _edp_drrs_enable() on pipe updates (v2)
f69a0d71d49c drm/i915: Allow calling intel_edp_drrs_enable twice
608ed4ab240f drm/i915: Add an update_pipe callback to intel_encoder and call this on fastsets (v2)
d4de753526f4 drm/i915: Unwind failure on pinning the gen7 ppgtt
17960f35f146 drm/i915: Update DRIVER_DATE to 20181221
ce98528b3f61 drm/i915: Update DRIVER_DATE to 20181221
a5b79d34000b drm/i915: don't apply Display WAs 1125 and 1126 to GLK/CNL+
8636a1f9677d treewide: surround Kconfig file paths with double quotes
50c42fc90b7e drm/i915: Disable FBC on fastset if necessary, v2.
03ebe48e235f Merge branches 'iommu/fixes', 'arm/renesas', 'arm/mediatek', 'arm/tegra', 'arm/omap', 'arm/smmu', 'x86/vt-d', 'x86/amd' and 'core' into next
6afe8925a297 drm/i915/dsc: Fix the deadlock in dsc debugfs node
2a041c97c3bc drm/i915/icl: Add fallback detection method for TypeC legacy ports
f6bff60e927b drm/i915/icl: Fix HPD handling for TypeC legacy ports
38b3416f3c2f drm/i915/bios: Parse the VBT TypeC and Thunderbolt port flags
f0236a852cd7 drm/i915/icl: Add a debug print for TypeC port disconnection
060f23225d82 drm/i915: Apply missed interrupt after reset w/a to all ringbuffer gen
b265a2a6255f drm/i915/icl: combo port vswing programming changes per BSPEC
2c5c415c1df6 drm/i915: Update crtc scaler settings when update_pipe is set
a49aa6508ed7 drm/i915/huc: Update the HuC version for BXT
e845f099f1c6 drm/i915/dsc: Add Per connector debugfs node for DSC support/enable
a489334941d4 drm/i915: Fix Cherryview oops on boot
f513ac76530c drm/i915/icl: Mind the SFC units when resetting VD or VEBox engines
57b19d55189b drm/i915/icl: Record the valid VDBoxes with SFC capability
921f3a60e54e drm/i915/selftests: Verify we can perform resets from atomic context
5edd56d394dc drm/i915/selftests: Check we can recover a wedged device
f3ce44a09a15 drm/i915: merge gen checks to use range
cf819eff907a drm/i915: replace IS_GEN<N> with IS_GEN(..., N)
006900087727 drm/i915: Rename IS_GEN to IS_GEN_RANGE
25db2eaf1097 drm/i915: Don't forget to reset blocks when testing lower wm levels
5b2e31201c26 drm/i915: Flush GPU relocs harder for gen3
fe78742d7f84 drm/i915: Allocate a common scratch page
cf66b8a0ba14 drm/i915/execlists: Apply a full mb before execution for Braswell
bea68f4a5ff2 drm/i915: DFSM pipe disable is valid from gen9 onwards (v2)
d8e874980241 drm/i915: Switch to level-based DDB allocation algorithm (v5)
9343bb247bf8 drm/i915: Don't use DDB allocation when choosing gen9 watermark method
ab2cb2cb1a77 drm/i915/hdmi: SCDC Scrambling enable without CTS mode
cb6f4c2c3478 Merge tag 'gvt-next-2018-12-07' of https://github.com/intel/gvt-linux into drm-intel-next-fixes
302da0cdf784 drm/i915: Use intel_ types more consistently for color management code (v2)
cd1d3ee90e5e drm/i915: Use intel_ types more consistently for watermark code (v2)
16bff572cc66 drm/dp-mst-helper: Remove hotplug callback
a2b8419a9e29 drm/i915/gvt: remove unused parameter for hypervisor's host_exit call
2313b1897f57 drm/i915/gvt: mandatory require hypervisor's host_init
0b5b45a61d3f drm/i915: Remove dead update_wm_pre assignment from SKL wm code
f9a954ff02df drm/i915: Remove bogus FIXME from SKL wm computation
099a132bfb65 drm/i915: Use explicit old crtc state in skl_compute_wm()
a889580c087a drm/i915: Flush GPU relocs harder for gen3
e6154e4cb8b0 drm/i915: Skip the ERR_PTR error state
dd847a706974 drm/i915: Compile fix for 64b dma-fence seqno
e8894267cc33 drm/i915: Pipeline PDP updates for Braswell
f2253bd9859b drm/i915/ringbuffer: EMIT_INVALIDATE after switch context
5f5800a765de drm/i915: Push EMIT_INVALIDATE at request start to backends
d8f505311717 drm/i915/icl: Forcibly evict stale csb entries
b312d8ca3a7c dma-buf: make fence sequence numbers 64 bit v2
d1810909d841 drm/i915/gvt: fix spelling mistake "Interupts" -> "Interrupts"
f39a89b8f738 drm/i915/gvt: Fix shadow ctx ppgtt destroy function
77453c9f2b67 drm/i915/gvt: fix a typo: "registeration" -> "registration".
d58b33638c99 drm/i915/gvt: fix typo in two MI cmd annotation
cba5ad62df9c drm/i915/gvt: update force-to-nonpriv register whitelist
e69aa5f9b97f Merge tag 'drm-misc-next-2018-12-06' of git://anongit.freedesktop.org/drm/drm-misc into drm-next
490b8c65b9db drm/i915/execlists: Apply a full mb before execution for Braswell
5a688ee3a224 drm/i915/execlists: Move RCS mmio workaround to new common wa_list
3abd6143f971 drm/i915/selftests: verify_gt_engine_wa() needs rpm wakeref
7e90e8d0c0ea drm/i915: Increase timeout for Encrypt status change
4cf74aafc55b drm/i915: debug log for REPLY_ACK missing
a0ea697a6649 drm/i915: Fix platform coverage for HDCP1.4
083d2a07ee0e drm/i915: Fix GEN9 HDCP1.4 key load process
8d9d005d38ba drm/i915/fbc/cnl: Add GLK and CNL+ hardware tracking area
a1d926527b79 drm/i915: implement EXTENDED_RECEIVER_CAPABILITY_FIELD_PRESENT
467e8a516dcf Merge tag 'drm-intel-next-2018-12-04' of git://anongit.freedesktop.org/drm/drm-intel into drm-next
79960227d93b Makefile: fix mixed tab and spaces
d76b21ebf8ff Merge tag 'gvt-fixes-2018-12-04' of https://github.com/intel/gvt-linux into drm-intel-fixes
90098efacc4c drm/i915: Introduce per-engine workarounds
009367791f31 drm/i915: Record GT workarounds in a list
0b258ed1a219 drm: revert "expand replace_fence to support timeline point v2"
8c0d2c29083d drm/i915/psr: Check if source supports sink specific SU granularity
bef5e5b3bee4 drm/i915/psr: Check if resolution is supported by default SU granularity
227939a1c46d drm/i915: Remove old PSR2 FIXME about frontbuffer tracking
d15f9cdd59ba drm/i915/icl: Do not change reserved registers related to PSR2
98751b8cd608 drm/i915/psr: Enable sink to trigger a interruption on PSR2 CRC mismatch
de570946c0e5 drm/i915/psr: Set PSR CRC verification bit in sink inside PSR1 block
60cae44251e8 drm/i915/psr: Don't tell sink that main link will be active while is active PSR2
7c5c641a930e drm/i915: Disable PSR in Apple panels
0819936247c5 drm/i915: Dial down workaround debug messages
8f98d4baf0dd drm/i915/selftests: Reorder request allocation vs vma pinning
4377d4e0d3d5 drm/i915: Update DRIVER_DATE to 20181204
0716931a82b4 drm/i915/icl: fix transcoder state readout
517974992593 drm/i915: Allocate a common scratch page
4d8d9fc70501 drm/i915: Trim unused workaround list entries
452420d22d5b drm/i915: Fuse per-context workaround handling with the common framework
69bcdecf1af5 drm/i915: Move register white-listing to the common workaround framework
28d6ccce73be drm/i915/selftests: Add tests for GT and engine workaround verification
094304beb4e1 drm/i915: Verify GT workaround state after GPU init
4a15c75c4246 drm/i915: Introduce per-engine workarounds
25d140faaa25 drm/i915: Record GT workarounds in a list
635b3bc6f514 drm/i915: change i915_sw_fence license to MIT
3800960afe15 drm/i915: Complete the fences as they are cancelled due to wedging
0ce611c906bf drm/i915/dp: Fix inconsistent indenting
d53db442db36 drm/i915: Move display device info capabilities to its own struct
e1bf094b3c75 drm/i915: Add HAS_DISPLAY() and use it
ae9e7ced4f7b drm/i915/dp: Fix link compute m_n calc for DSC
e1215de823ca drm/i915/sysfs: make attrs arrays const
46592892e1a6 drm/i915/vgpu: Disallow loading on old vGPU hosts
26af893184e5 drm/i915/breadcrumbs: Reduce missed-breadcrumb false positive rate
949fc52af19e drm/i915/icl: add pll mapping for DSI
1026bea00381 drm/i915/icl: Ungate DSI clocks
32250c8e0ef9 drm/i915/icl: Gate clocks for DSI
690c318ed8e0 drm/i915/icl: add dummy DSI GPIO element execution function
56b7b1aa13b9 drm/i915/icl: Define display GPIO pins for DSI
f4ff2120301d drm/i915/icl: Define Panel power ctrl register
05f2f03dd206 drm/i915/icl: Define missing bitfield for shortplug reg
2eae5d6bfa5f drm/i915/icl: Get pipe timings for DSI
2ca711caeca2 drm/i915/icl: Consider DSI for getting transcoder state
5a8507b5aa84 drm/i915/icl: Configure DSI Dual link mode
d04afb150172 drm/i915/icl: Add DSI encoder compute config hook
ab8411483a3e drm/i915/icl: Get HW state for DSI encoder
8327af281d29 drm/i915/icl: Add get config functionality for DSI
c5f9c934936e drm/i915/icl: Allocate DSI hosts and imlement host transfer
972d607c59ed drm/i915/icl: Fill DSI ports info
95f2f4dbb19f drm/i915/icl: Use the same pll functions for dsi
e27580487321 drm/i915/icl: Allocate DSI encoder/connector
70a057b7d425 drm/i915/icl: Calculate DPLL params for DSI
1dd07e56a3f1 drm/i915/icl: Sanitize DDI port clock gating for DSI ports
3b8c0d5bc9f4 drm/i915/icl: push pll to port mapping/unmapping to ddi encoder hooks
f81ff31cb471 drm/i915/selftests: Terminate hangcheck sanitycheck forcibly
f36c071f6344 drm/i915/ringbuffer: Clear semaphore sync registers on ring init
a40fa231bb64 drm/i915/gvt: Fix tiled memory decoding bug on BDW
f0ad62a631e0 drm/i915/psr: Get pipe id following atomic guidelines
b9f78d675230 drm/i915/selftests: Fix live_workarounds to actually do resets
8d2f6e2f2721 drm/i915/selftests: Extract spinner code
f545425a0145 drm/i915/icl: Remove Wa_1604302699
a2538cbc989c drm/i915: Remove whitelist application from ringbuffer backend
5a756aadf5f7 drm/i915: Fixup stub definitions for intel_opregion_suspend|resume
d6a09cee2458 drm/i915/fec: Disable FEC state.
5c44b938629a i915/dp/fec: Configure the Forward Error Correction bits.
a322b97589a6 drm/i915/fec: Set FEC_READY in FEC_CONFIGURATION
240999cf339f i915/dp/fec: Add fec_enable to the crtc state.
a24c62f94be1 drm/i915/dsc: Enable and disable appropriate power wells for VDSC
a600622c09dd drm/i915/dp: Disable DSC in source by disabling DSS CTL bits
a311b0b5d209 drm/i915/dp: Configure Display stream splitter registers during DSC enable
5b1ea77228f9 drm/i915/dp: Populate DSC PPS SDP and send PPS infoframes
4c614831d59b drm/i915/dp: Use the existing write_infoframe() for DSC PPS SDPs
7182414e2530 drm/i915/dp: Configure i915 Picture parameter Set registers during DSC enabling
91ba2c8be4b7 drm/i915/dsc: Add a power domain for VDSC on eDP/MIPI DSI
2279298dbf36 drm/i915/dp: Enable/Disable DSC in DP Sink
27998631458a drm/i915/dsc: Compute Rate Control parameters for DSC
168243c18010 drm/i915/dsc: Define & Compute VESA DSC params
8228c42fc0ee drm/i915/dp: Do not enable PSR2 if DSC is enabled
a4a157777c80 drm/i915/dp: Compute DSC pipe config in atomic check
7b610f1fbed2 drm/i915/dp: Add DSC params and DSC config to intel_crtc_state
b3cf5c06ca50 drm/i915: Decouple SKL stride units from intel_fb_stride_alignment()
70bbe53c6eac drm/i915: Make sure fb gtt offsets stay within 32bits
bfeb122d3080 Merge tag 'drm-intel-next-2018-11-22' of git://anongit.freedesktop.org/drm/drm-intel into drm-next
1fdee7582cce drm/i915: Pass the plane to icl_program_input_csc_coeff()
45bee430b843 drm/i915: Rename the confusing 'plane_id' to 'color_plane'
5f2e511205bb drm/i915: Commit skl+ planes in an order that avoids ddb overlaps
ff43bc379e16 drm/i915: Move ddb/wm programming into plane update/disable hooks on skl+
51de9c6d2559 drm/i915: Don't pass dev_priv around so much
8315847bf4df drm/i915: Clean up skl+ vs. icl+ watermark computation
6a3c910b081d drm/i915: Pass the entire skl_plane_wm to skl_compute_transition_wm()
14a43062b903 drm/i915: Remove some useless zeroing on skl+ wm calculations
ce110ec311e9 drm/i915: Fix latency==0 handling for level 0 watermark on skl+
0dd14be30d4c drm/i915: Pass the new crtc_state to ->disable_plane()
afbd8a722bd6 drm/i915: Introduce crtc_state->update_planes bitmask
019575a58c84 drm/i915: Move single buffered plane register writes to the end
83234d13f9fd drm/i915: Reorganize plane register writes to make them more atomic
1aca96cc5455 drm/i915: Mark up early pre-production Kabylakes
39e84937b5b4 drm/i915: Skip engine serialisation for no-op seqno reset
b7f21899276a drm/i915/ringbuffer: 2-step restart
2455facbb700 Merge tag 'gvt-fixes-2018-11-26' of https://github.com/intel/gvt-linux into drm-intel-fixes
0e39037b3165 drm/i915: Cache the error string
16c36c4cb84d drm/i915/hsw: Drop the stereo 3D enabled check in psr_compute_config()
888bf84dba3d drm/i915: Keep PSR disabled after a driver reload after a PSR error
183b8e676db2 drm/i915: Disable PSR when a PSR aux error happen
50a12d8fc9a0 drm/i915: Do not enable PSR in the next modeset after a error
2f8e7ea974c1 drm/i915: Check PSR errors instead of retrain while PSR is enabled
2bb06265cfd4 drm/i915: Avoid a full port detection in the first eDP short pulse
6fc5d789512f drm/i915: Synchronize hpd work in i915_hpd_storm_ctl_show()
17e8fd119f82 drm/i915: Eliminate the horrendous format check code
b4bf44d2dcbd drm/i915: Update DRIVER_DATE to 20181122
835cb5c500b1 drm/i915: Update DRIVER_DATE to 20181122
95fd94a645f7 drm/i915: avoid rebuilding i915_gpu_error.o on version string updates
b239499f927f Merge tag 'drm-misc-next-2018-11-21' of git://anongit.freedesktop.org/drm/drm-misc into drm-next
aa6a65daca11 drm/i915: Show waiter's status on engine dump
f559156c399c drm/i915: Add rotation readout for plane initial config
c773058dde9a drm/i915: Force a LUT update in intel_initial_commit()
f43348a3db89 drm/i915: Add rotation readout for plane initial config
fa6af5145b4e drm/i915: Force a LUT update in intel_initial_commit()
8f19b401a6fc drm/i915: Make CHICKEN_TRANS reg not depend on enum value
8f78df90d84a drm/i915: Add code comment on assumption of pipe==transcoder
c0871805ce1c drm/i915: Make EDP PSR flags not depend on enum values
931f54920ba8 drm/i915: Make pipe/transcoder offsets not depend on enum values
7513edbc096a drm/i915/gvt: Avoid use-after-free iterating the gtt list
3c64ea8c98ee drm/i915: fix spelling mistake "reserverd" -> "reserved"
f8577fb3c273 drm/i915: Write GPU relocs harder with gen3
78abd9e2c8f4 drm/i915: Downgrade unknown CSR firmware warnings
02c07b76af5a drm/i915: allow to load DMC firmware on next gen
cab870b7fdf3 drm/i915/ilk: Fix warning when reading emon_status with no output
e32c8d3caefb drm/i915/selftests: Hold task reference to reset worker
2ac5e38ea420 Merge drm/drm-next into drm-intel-next-queued
f48cc647f3e1 drm/i915/fixed: cosmetic cleanup
f1eea8910bfe drm/i915/fixed: simplify is_fixed16_zero()
e7a238169131 drm/i915/fixed: simplify FP_16_16_MAX definition
3122b9c52705 drm/i915/fixed: prefer kernel types over stdint types
2d332ee12396 drm/i915: extract fixed point math to i915_fixed.h
7fa28e146994 drm/i915: Write GPU relocs harder with gen3
8830f26bcd3c drm/i915: Prevent machine hang from Broxton's vtd w/a and error capture
fb6f0b64e455 drm/i915: Prevent machine hang from Broxton's vtd w/a and error capture
21556350ade3 drm/i915: Disable LP3 watermarks on all SNB machines
31579ba22c0c drm/i915: Hide enable_gvt modparam when not compiled in
6b671c27ff57 Revert "drm/i915/perf: Fix warning in documentation"
fe841686470d Revert "drm/i915/perf: add a parameter to control the size of OA buffer"
d7563c55ef9f Merge tag 'drm-misc-next-2018-11-07' of git://anongit.freedesktop.org/drm/drm-misc into drm-next
9e180d9991dc drm/i915: Downgrade unknown firmware warnings
03981c6ebec4 drm/i915: Disable LP3 watermarks on all SNB machines
f911e7234f83 drm/i915/selftests: Workaround an issue with unused lockdep subclass
56d4eac0a1eb drm/i195: spell out reverse on for_each macros
c6e1f8cc8858 drm/i915/icl: reverse uninit order
6233016484c0 drm/i915/icl: replace check for combo phy
0a8853811dd6 drm/i915/bios: make the aux channel macros private to the vbt parser
629ad5ee1fcc drm/i915: remove unused DDC PIN macros
3905308940b8 drm/i915/bios: rename intel_aux_ch() to intel_bios_port_aux_ch()
fc3660533fef drm/i915/hdmi: Reorder structure to match specification
6e8adf6f4a4f drm/i915: Account for scale factor when calculating initial phase
27971d613fcb drm/i915: Clean up skl_program_scaler()
2a2777990a34 drm/i915: Move programming plane scaler to its own function.
05e0b4bf4613 drm/i915: remove excess line continuation backslashes
87b94026ff31 drm/i915: Fix plane allocation/free functions
fa96ed1f564c drm/i915: Remove special case for power well 1/MISC_IO state verification
285cf66d5220 drm/i915: Use proper bool bitfield initializer in power well descs
cb8ef723ab81 drm/i915/gen9_bc: Work around DMC bug zeroing power well requests
a22612301ae6 drm/i915/icl: Drop spurious register read from icl_dbuf_slices_update
6a67a20366f8 drm/i915: fix broadwell EU computation
745aa6cdee6b drm/i915: Fix icl workarounds whitespaces
85f04aa569ad drm/i915: Deduplicate register definition for GAMW_ECO_DEV_RW_IA
8577c319b651 drm/i915/icl: Drop spurious register read from icl_dbuf_slices_update
704e504bd616 drm/i915: add ICP support to cnp_rawclk() and kill icp_rawclk()
228a5cf381f7 drm/i915: rename CNP_RAWCLK_FRAC to CNP_RAWCLK_DEN
af4de6adb499 drm/i915/cnp+: update to the new RAWCLK_FREQ recommendations
c1cd5b24d6ce drm/i915: Determine DSI panel orientation from VBT
86ef615fa11b drm/i915: Fix the VLV/CHV DSI panel orientation hw readout
f255c624c11a drm/i915: Move skip_intermediate_wm handling into ilk_compute_intermediate_wm()
e7a278a329dd drm/i915: Account for scale factor when calculating initial phase
ca0026790efa drm/i915: Always write both TILEOFF and LINOFF plane registers
6bd36e0822ca drm/i915: Switch LSPCON to PCON mode if it's in LS mode
0ea0397a3a12 Merge remote-tracking branch 'drm/drm-next' into drm-misc-next
63ac3328f0d1 drm/i915: fix broadwell EU computation
913240696ec6 drm/syncobj: Fix compilation following partial revert
44a7276b30c3 drm/i915: Fix hpd handling for pins with two encoders
0a823e8fd4fd drm/i915/execlists: Force write serialisation into context image vs execution
c4f224076d00 drm/i915/icl: Fix power well 2 wrt. DC-off toggling order
541ff7e96c13 drm/i915: Fix NULL deref when re-enabling HPD IRQs on systems with MST
7c4512300cfa drm/i915: Fix possible race in intel_dp_add_mst_connector()
fb5bbae9b133 drm/i915/ringbuffer: Delay after EMIT_INVALIDATE for gen4/gen5
daedaa33d9c5 iommu/vtd: Cleanup dma_remapping.h header
bcce8d8633ff drm/i915: Clean up the baseline bpp computation
d26592c601ec drm/i915: Remove pointless goto fail
8e2b4dffeca0 drm/i915: Handle -EDEADLK from ironlake_check_fdi_lanes()
f3be657d96b0 drm/i915/gvt: ensure gpu is powered before do i915_gem_gtt_insert
def40774f63a drm/i915/gvt: not to touch undefined MOCS registers
eef4670eadcf drm/i915/query: fix subslice length
cf303a41d97e drm/i915: fix subslice mask array size
2ee936e3a2f0 drm/i915/psr: Move intel_psr_disable_source() code to intel_psr_disable_locked()
62819dfd859e drm/i915/icl: Reset PSR interruptions
b2fc2252ce41 drm/i915/psr: Always wait for idle state when disabling PSR
26f9ec9a9a4a drm/i915/psr: Use intel_psr_exit() in intel_psr_disable_source()
53cc68803668 drm/i915: Generalize skl_ddb_allocation_overlaps()
07464c7c0cf7 drm/i915: Clean up skl+ PLANE_POS vs. scaler handling
7b012bd62db9 drm/i915: Polish the skl+ plane keyval/msk/max register setup
89d67d172dea drm/i915: Remove the PS_PWR_GATE write from skl_program_scaler()
ca401e967401 drm/i915/mst: Drop pre_pll_enable null check
bad46f2f33eb drm/i915: Release DDI power well references in MST ports
6423382247e0 drm/i915: Reuse the aux_domain cached
3aefb67f8496 drm/i915: Sanitize PCH port transcoder select on IBX
5a3aeca97af1 drm/i915: Fix hpd handling for pins with two encoders
30f5ccfa8c8a drm/i915/icl: Fix PLL mapping sanitization for DP ports
9199c322ec83 drm/i915/ddi: Add more sanity check to the encoder HW readout
a1db9c54eb29 drm/i915: Track rcu_head for our idle worker
8811d616dfaa drm/i915: Initialise the obj->rcu head
58db08a73b75 drm/i915: Keep overlay functions naming consistent
a8147d0cd49f drm/i915: Move intel_init_ipc() call to i915_load_modeset_init()
acde44b50086 drm/i915: Move FBC init and cleanup calls to modeset functions
8d3bf1a3959f drm/i915: Move drm_vblank_init() to i915_load_modeset_init()
eeba5b5cdeac drm/i915: remove padding from struct skl_wm_level
5fc2805b3e88 drm/i915: Set MI_INVALIDATE_BSD for all video-decode engines
602438ead302 drm/i915/icl: Fix port B combo PHY context loss after DC transitions
bc458c1174e3 drm/i915/icl: Skip init for an already enabled combo PHY
eef519e2d07d drm/i915/cnl+: Verify combo PHY HW state during PHY uninit
c45198b163fb drm/i915/cnl+: Move the combo PHY init/uninit code to a new file
1e0e9c8a85af drm/i915/icl: Fix combo PHY uninit
987abd5c62f9 drm/i915/execlists: Force write serialisation into context image vs execution
a33e1ece7779 drm/i915/icl: Fix power well 2 wrt. DC-off toggling order
9a64c65083b9 drm/i915: Add short HPD IRQ storm detection for non-MST systems
0759af9e75ca drm/i915: Clarify flow for disabling IRQs on storms
a4af7889eb31 drm/i915: Fix threshold check in intel_hpd_irq_storm_detect()
fee61deecb1d drm/i915: Fix NULL deref when re-enabling HPD IRQs on systems with MST
66a5ab1034be drm/i915: Fix possible race in intel_dp_add_mst_connector()
d0105af93976 drm/i915: Clean up skl_program_scaler()
e69b348a7adb drm/i915: Nuke posting reads from plane update/disable funcs
b598a88ebb97 drm/i915/csr: fix spelling mistake "firmare" -> "firmware"
55f99bf2a9c3 drm/i915/ringbuffer: Delay after EMIT_INVALIDATE for gen4/gen5
64e3d12f769d mm, drm/i915: mark pinned shmemfs pages as unevictable
214782da8fe8 Merge tag 'gvt-fixes-2018-11-07' of https://github.com/intel/gvt-linux into drm-intel-fixes
df5e31c204b3 drm/i915: Fix ilk+ watermarks when disabling pipes
6a8915d0f8cf drm/i915: Don't oops during modeset shutdown after lpe audio deinit
0014868b9c3c drm/i915: Mark pin flags as u64
e528c2affcf2 drm/i915/icl: Fix the macros for DFLEXDPMLE register bits
f42f34388701 drm/i915: Fix error handling for the NV12 fb dimensions check
76271ef2638c drm/i915: Fix VIDEO_DIP_CTL bit shifts
2c2f6e30d5f2 drm/i915/glk: Remove 99% limitation.
085603287452 drm/i915: Compare user's 64b GTT offset even on 32b
c58281056a8b drm/i915: Mark up GTT sizes as u64
6503493145cb drm/i915/hdmi: Add HDMI 2.0 audio clock recovery N values
18354b422ce4 drm/i915: Don't apply the 16Gb DIMM wm latency w/a to BXT/GLK
f45a7977d114 drm/i915: Don't oops during modeset shutdown after lpe audio deinit
e6db7f4d7c50 drm/i915: Break long iterations for get/put shmemfs pages
bfe60a0272dd drm/i915/icl: Enable Plane Input CSC for YUV to RGB Conversion
6a255da783c6 drm/i915/icl: Define Plane Input CSC Coefficient Registers
a748faea3bfd drm/i915: Fix ilk+ watermarks when disabling pipes
34b2f8da9d41 drm/i915/gen9_lp: Fix DMC DC counter debugfs output
93b662d329d6 drm/i915/icl: Configure MG DP mode for HDMI ports too
cb9ff519439b drm/i915/icl: Configure MG PHY gating for HDMI ports too
08cadae8e157 i915/dp/fec: Cache the FEC_CAPABLE DPCD register
83b466b1dc5f drm/i915: Mark pin flags as u64
bc6080ae38b3 Merge tag 'drm-next-2018-11-02' of git://anongit.freedesktop.org/drm/drm
a6576a8d715a drm/i915/fia: FIA registers offset implementation.
f1a1217222a2 drm/i915: Allow "max bpc" property to limit pipe_bpp
5468a5434096 drm/i915: Update DRIVER_DATE to 20181102
a7c0149f1678 drm/i915: also group device info array helper macros with others
8d97b4a93646 drm/i915: reorder and reindent the register choosing helper wrappers
2fcc2fd0d60a drm/i915: define _MMIO_PLANE() in terms of _PLANE() not _MMIO_PIPE()
74c1e826427a drm/i915: remove palette_offsets from device info in favor of _PICK()
7a085c3aad94 Merge drm/drm-next into drm-intel-next-queued
18cde299df33 drm/i915/icl: Fix DSS_CTL register names
70332ac539c5 drm/i915/icl+: Sanitize port to PLL mapping
c7375d9542f1 drm/i915: Configure AUX_CH_CTL when enabling the AUX power domain
8e4a3ad9b81b drm/i915: Enable AUX power for HDMI DDI/TypeC main link too
bdaa29b6bea7 drm/i915: Enable AUX power earlier
337837ac3a75 drm/i915: Use a helper to get the aux power domain
ac897d6bd703 drm/i915: Init aux_ch for HDMI ports too
563d22a03948 drm/i915: Move aux_ch to intel_digital_port
15d248ae374a drm/i915: Move intel_aux_ch() to intel_bios.c
f57f9371e285 drm/i915/icl: WaAllowUMDToModifySamplerMode
6a00b8feb86d drm/i915/icl: WaAllowUMDToModifyHalfSliceChicken7
22dae8a0cc53 drm/i915/icl: Implement Display WA_1405510057
622b3f68139e drm/i915/icl: Add WaEnable32PlaneMode
1347d3ce5bbb drm/i915: Remove CNL from WA 827
d521361755c2 drm/i915: Define WA 0870 and kill dead code.
28b2f4e19600 drm/i915: Kill WA 0826
efb818f10539 drm/i915: Kill WA 0528
3b6ac43b4857 drm/i915/icl: Fix DC9 Suspend for ICL.
8b1b558d690a drm/i915/icl: Add DSS_CTL Registers
f968c85bcef1 drm/i915/icl: Don't wait for empty FIFO
bf4d57ff4110 drm/i915/icl: Find DSI presence for ICL
808517e2c378 drm/i915/icl: Add DSI packet payload/header registers
03ad7d8821ec drm/i915/ICL: Add pre_pll_enable hook for ICL and set DFLEXDPMLE in this hook
b4335ec0a3ee drm/i915/icl: Fix the macros for DFLEXDPMLE register bits
17a3b15ac6af drm/i915/icl: Fix crash when getting DPLL of a MST encoder in TC ports
36b80aa36b63 drm/i915: Initialize panel_vdd_work only for eDP ports
d1b5973c8778 drm/i915/icl: Set TC type to unknown when a sudden disconnection happen
b298ba5f51fc drm/i915/icl: Set TC type to unknown in the disconnection flow
3e037f9b0ab7 drm/i915/debugfs: Do not print cached information of a disconnected sink
3b90946fcb6f drm/i915: Fix error handling for the NV12 fb dimensions check
328f75bb0db7 drm/i915: Use intel_panel_actually_set_backlight() to disable PWM backlight
6cfd04b018f0 drm/i915/dp: Validate modes using max Output BPP and slice count when DSC supported
d9218c8f6cf4 drm/i915/dp: Add helpers for Compressed BPP and Slice Count for DSC
93ac092f054b drm/i915/dp: Cache the DP/eDP DSC DPCD register set on Hotplug/eDP Init
35b876db4a42 drm/i915/dsc: Add slice_row_per_frame in DSC PPS programming
5a4712f472bf drm/i915/icl: Program HS_TX_TIMEOUT/LP_RX_TIMEOUT/TA_TIMEOUT registers
8bffd204ded8 drm/i915/icl: Define DSI timeout registers
0f0fe8497d96 drm/i915/icl: Disable DSI IO power
019cec36f372 drm/i915/icl: Disable DSI ports
9c83ab1bb384 drm/i915/icl: Disable portsync mode
7aa32f7c47c9 drm/i915/icl: Disable DDI function
4769b598b943 drm/i915/icl: Put DSI link in ULPS
522cc3f717ac drm/i915/icl: Power down DSI panel
4e123bd3039d drm/i915/icl: Disable DSI transcoders
d9d996b6ca43 drm/i915/icl: Turn OFF panel backlight
208013157a68 drm/i915/icl: Turn ON panel backlight
32bbc3d450dc drm/i915/icl: Wait for header/payload credits release
77c8fdae2563 drm/i915/ringbuffer: change header SPDX identifier to MIT
c2661638e886 drm/i915/icl: Power on DSI panel
bfee32bfca82 drm/i915/icl: Set max return packet size for DSI panel
0d90c61ab9b0 drm/i915/dsi: move connector mode functions to common file
8e54d4fe79f0 drm/i915/icl: Move dsi host init code to common file
5e7154ff5e8e drm/i915/gvt: Handle values of EDP_PSR_IMR and EDP_PSR_IIR
606a745944bc drm/i915/gvt: correct mask setting for CSFE_CHICKEN1
bc0686ff5fad drm/i915/gvt: support inconsecutive partial gtt entry write
79c03caac2ff drm/i915/selftest: test aligned offsets for 64K
e5ee4956f2fd drm/i915/gtt: Revert "Disable read-only support under GVT"
3e68928b7d4c drm/i915/icl: Enable DC9 as lowest possible state during screen-off
a950adc6c343 drm/i915: Stop calling intel_opregion unregister/register in suspend/resume
b379e30629c0 drm/i915/gtt: Reuse the read-only 64KiB scratch page and directories
daf3dc0f9b00 drm/i915/gtt: Record the scratch pte
4c8d351d0b49 drm/i915: Switch the order of function parameters
77cac774b2fa drm/i915: Do not program aux plane offsets on gen11+
2a11b1b4b689 drm/i915: Add function to check for linear surfaces
a670be330501 drm/i915: Move VIDEO_DIP_CTL definitions to their right place.
09209662618f drm/i915: Fix VIDEO_DIP_CTL bit shifts
1ca2b067d07b drm/i915: Simplify has_sagv function
c5def85c0847 drm/i915/selftests: Test vm isolation
42882336e62a drm/i915/glk: Remove 99% limitation.
5bc0e89ff1be drm/i915: Kill GEN_FOREVER
9e7833758b9f drm/i915: Prefer IS_GEN<n> check with bitmask.
3ab0a6ed4ce5 drm/i915: Define Intel HDCP2.2 registers
10ff7b11cf02 drm/i915: Reassigning log level for HDCP failures
d3dacc70797b drm/i915: wrapping all hdcp var into intel_hdcp
53b3b6bbfde6 Merge tag 'drm-next-2018-10-24' of git://anongit.freedesktop.org/drm/drm
746bb4ed6d62 Merge tag 'vla-v4.20-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/kees/linux
dad4f140edaa Merge branch 'xarray' of git://git.infradead.org/users/willy/linux-dax
47164e0b0df8 drm/i915/hdmi: Detect HDMI 2.0 monitors using multiple EDID capabilities
1e016a869336 drm/i915: Park signaling thread while wrapping the seqno
8dd0f8d37eae drm/i915/selftests: Check for hangs mid context execution tests
9213e4f54444 drm/i915/icl: Store available engine masks in INTEL_INFO
6fc4e48f9ed4 drm/i915: Compare user's 64b GTT offset even on 32b
9125963a9494 drm/i915: Mark up GTT sizes as u64
5a400aa3c562 drm/i915/hdmi: Add HDMI 2.0 audio clock recovery N values
aef9f33b7658 drm/i915: Ensure proper HDA suspend/resume ordering with a device link
ca05359f1e64 dma-buf: allow reserving more than one shared fence slot
6542e9adc0da Merge drm/drm-next into drm-misc-next
b5a209ca183f drm/i915: Mark skl_update_plane and skl_disable_plane as static
9fa6e2f7609f drm/i915/perf: Fix warning in documentation
5d6f36b27d27 drm/i915: Don't apply the 16Gb DIMM wm latency w/a to BXT/GLK
f9776280c29e drm/i915/dp: Restrict link retrain workaround to external monitors
49af5d95b9b3 drm/i915/dp: Fix link retraining comment in intel_dp_long_pulse()
26ee5bc39011 drm/i915/gen11: Expose planar format support on gen11, v2.
1e364f9008a7 drm/i915/gen11: Program the Y and UV plane for planar mode correctly, v3.
cb2458baf8b5 drm/i915/gen11: Program the chroma upsampler for HDR planes.
b1554e23ccb6 drm/i915/gen11: Program the scalers correctly for planar formats, v3.
b048a00b3d96 drm/i915/gen11: Handle watermarks correctly for separate Y/UV planes, v2.
1ab554b0099b drm/i915/gen11: Link nv12 Y and UV planes in the atomic state, v5.
6711bd730b38 drm/i915/gen11: Enable 6 sprites on gen11
24719e94ca2a drm/i915: Fix unsigned overflow when calculating total data rate, v2.
3aae21fc2ed4 drm/i915: Move the DDC/AUX failure msgs to debug log
bdc93fe0eb82 drm/i915/debugfs: hdcp capability of a sink
342ac601df64 drm/i915: hdcp_check_link only on CP_IRQ
f106d1005ac7 drm/i915: Pullout the bksv read and validation
fbffc5a3b877 drm/i915/guc: Propagate the fw xfer timeout
7b5543015bbd drm/i915/sdvo: Utilize intel_panel for fixed_mode
52fb7d295cfe drm/i915: Move the SKL+ zero constant alpha handling
1f6f92a3d50f drm/i915: Relocate SKL+ NV12 src width w/a
cd956bfcd0f5 drm/i915/perf: add a parameter to control the size of OA buffer
5728de2f4f6a drm/i915/perf: pass stream to vfuncs when possible
784b1a8435da drm/i915/perf: remove redundant oa buffer initialization
816c37159ca2 drm/i915/perf: update generated files headers
42e90a687e76 drm/i915/guc: remove unneeded goto from selftest
caef29cd072d drm/i915/guc: fix comment about fallback to execlists
fb0c37f67010 drm/i915/guc: doorbell checking cleanup
bfeabcc87ae0 drm/i915/guc: reserve the doorbell before selecting the cacheline
6f1312e6e046 drm/i915/guc: rename __create/destroy_doorbell
ac128918482d drm/i915: uncore_fw_domains_init sort platforms newer-to-older
fb72deaefe59 drm/i915: power_domains_init sort platforms newer-to-older
210126bd807d drm/i915: digital_port_connected sort platforms newer-to-older
36c1f02875c1 drm/i915: compute_min_voltage_level sort platforms newer-to-older
fdec4df43ca5 drm/i915: ddi_clock_get sort platforms newer-to-older.
60230aacd528 drm/i915/icl: Define DSI panel programming registers
303e347cebc3 drm/i915/icl: Enable DSI transcoders
372610f3c814 drm/i915/icl: Define TRANS_CONF register for DSI
d1aeb5f399d9 drm/i915/icl: Configure DSI transcoder timings
7b56caf36376 drm/i915/icl: Define DSI transcoder timing registers
70f4f502c47e drm/i915/icl: Program TRANS_DDI_FUNC_CTL registers
49edbd49786e drm/i915/icl: Define TRANS_DDI_FUNC_CTL DSI registers
9128b1024954 drm/i915/guc: Limit number of scratch registers used for H2G
d364dc66e2d5 drm/i915/icl: Configure DSI transcoders
5ffce2546233 drm/i915/icl: Define TRANS_DSI_FUNC_CONF register
292272ee7e9e drm/i915/icl: Add macros for MMIO of DSI transcoder registers
ca8fc99f2ac1 drm/i915/icl: Get DSI transcoder for a given port
5fea8645585f drm/i915/icl: Program TA_TIMING_PARAM registers
e72cce531017 drm/i915/icl: Program DSI clock and data lane timing params
b687c1984c4f drm/i915/icl: Make common DSI functions available
9ec9a87b1ee8 drm/i915/dsi: abstract intel_dsi_tlpx_ns()
4f15665ccbba drm/i915: Add ppgtt to GVT GEM context
de9f8eea5a44 drm/atomic_helper: Stop modesets on unregistered connectors harder
73f522bad179 drm/i915: Use i915_gem_object_get_dma_address() to populate rotated vmas
198a2a2f1aea drm/i915: Drop rpm wakeref on error in debugfs/i915_drop_caches_set
e346a991f42c drm/i915/guc: drop negative doorbell alloc selftest
67551a703544 drm/i915/dsi: abstract dphy parameter init
2bf3f59daeee drm/i915/dsi: refactor bitrate calculations in intel_dsi_vbt_init()
c84c6fe30302 drm/i915: make encoder enable and disable hooks optional
48197bc564c7 drm: add syncobj timeline support v9
27a981b614d5 drm/i915/quirks: pass dev_priv instead of drm dev to quirk code
1a49f537c504 drm/i915/huc: Normalize HuC status returned by I915_PARAM_HAS_HUC
bbb8a9d7e000 drm/i915: GEM_WARN_ON considered harmful
835fe6d75d14 firmware/dmc/icl: Add missing MODULE_FIRMWARE() for Icelake.
b4ec5f39e4a0 drm/i915/icl: Fix signal_levels
83db37385306 drm/i915/icl: Fix DDI/TC port clk_off bits
a9b84b449277 drm/i915/icl: create function to identify combophy port
d9a515867bdb drm/i915/gen9+: Fix initial readout for Y tiled framebuffers
ab0d6a141843 drm/i915: Large page offsets for pread/pwrite
e3118a038dfd drm/i915/selftests: Disable shrinker across mmap-exhaustion
041444458835 drm/i915/dp: Link train Fallback on eDP only if fallback link BW can fit panel's native mode
4bbf0d4749e7 drm/i915: Fix intel_dp_mst_best_encoder()
c02ba4ef16ee drm/i915: Skip vcpi allocation for MSTB ports that are gone
80c188695a77 drm/i915: Don't unset intel_connector->mst_port
708ea872601e drm/i915: Only reset seqno if actually idle
9b27390139db drm/i915: Use the correct crtc when sanitizing plane mapping
7cada4d0b7a0 drm/i915: Restore vblank interrupts earlier
3f6d5ba173da drm/i915: Check fb stride against plane max stride
61cdfb9e194d drm/i915/icl: Fix signal_levels
39b50c603878 drm/atomic_helper: Stop modesets on unregistered connectors harder
20fd60009975 drm/i915/guc: fix GuC suspend/resume
138bdac89183 drm/i915: Remove crtc->config dereference from drrs_ctl
914a4fd8cd28 drm/i915/gen9+: Fix initial readout for Y tiled framebuffers
ad52fcc97c2a drm/i915/guc: Fix Gen9 GuC loading workarounds
593a21a04f99 drm/i915: split out display quirks to a new file
410ed5731a65 drm/i915: Ensure intel_engine_init_execlist() builds with Clang
7b3e51dd439b drm/i915: Ensure _print_param() builds with Clang
046c9bca3d82 drm/i915: rename and move intel_get_pipe_from_connector()
bb1c7edc6d4d drm/i915/icl: Fix DDI/TC port clk_off bits
4e53840fdfdd drm/i915/icl: Introduce new macros to get combophy registers
d72e84ccba20 drm/i915/icl: Combine all port/combophy macros at one place
a54270d3a917 drm/i915/icl: Refactor icl pll functions
8ea59e673990 drm/i915/icl: Use helper functions to classify the ports
cb6caf7e3993 drm/i915/icl: Refactor get_ddi_pll using helper func
c0aa834404b3 drm/i915/icl: use combophy/TC helper functions during display detection
176597a12d61 drm/i915/icl: create function to identify combophy port
ffd7e32d95db drm/i915/icl: apply Display WA #1178 to fix type C dongles
b0b62d845e44 drm/i915: Pass crtc_state to ivybridge_update_fdi_bc_bifurcation
c5b36facfad8 drm/i915: Pass crtc_state to lpt_program_iclkip
91d781976296 drm/i915: Remove crtc->config dereferences in intel_modeset_setup_hw_state
1b52ad46162d drm/i915: Remove crtc->config dereferences in intel_sanitize_crtc
f2bdd112685c drm/i915: Pass crtc_state to update_scanline_offset
4207c8b9914f drm/i915: Always read out M2_N2 in intel_cpu_transcoder_get_m_n, v2.
92d54b078fe2 drm/i915: Remove crtc->config references in vlv_prepare_pll
4c35475485c1 drm/i915: Make intel_dp_set_m_n take crtc_state
81067b71c1d9 drm/i915/icl: Disable master intr before reading
95b0e7c14c50 drm/i915/icl: No need to ack intr through master control
4376b9c965c0 drm/i915/gen8: Disable master intr before reading
04c388d42956 drm/i915/icl: enable SAGV for ICL platform
9d3eb2c33f03 drm/i915: Hold rpm wakeref for debugfs/i915_drop_caches_set
668b6c176c33 drm/i915: Add YCBCR 4:2:0/4:4:4 support for LSPCON
799a964ffe0b drm/i915: Write AVI infoframes for Parade LSPCON
7cbf19fd54ff drm/i915: Write AVI infoframes for MCA LSPCON
06c812d7c591 drm/i915: Add AVI infoframe support for LSPCON
96e35598cead drm/i915: Check LSPCON vendor OUI
8c79f844c6d2 drm/i915: Add CRTC output format YCBCR 4:4:4
33b7f3ee6e00 drm/i915: Add CRTC output format YCBCR 4:2:0
d9facae6afe1 drm/i915: Introduce CRTC output format
a5e856a5348f drm/i915: Large page offsets for pread/pwrite
27d7aaae0fd7 drm/i915/csr Added DC5 and DC6 counter register for ICL in debugfs entry.
b9117149fefd drm/i915: promote ddb update message to DRM_DEBUG_KMS
9e44b180f81b drm/i915: don't write PLANE_BUF_CFG twice every time
cbacc79db6ac drm/i915: transition WMs ask for Selected Result Blocks
077b5820af74 drm/i915: fix the watermark result selection on glk/gen10+
91961a850d31 drm/i915: fix the transition minimums for gen9+ watermarks
ef51e0a3eb9e drm/i915: DRM_FORMAT_C8 is not possible with Yf tiling
645ff9e37171 drm/i915: Inject load failure inside intel_engines_init_mmio
c5b083a1a174 drm/i915: Fix i915_driver_init_mmio error path
c0c46ca461f1 drm/i915/aml: Add new Amber Lake PCI ID
0bb95f80a38f Makefile: Globally enable VLA warning
0b4bf7ca9be8 drm/i915/selftests: Disable shrinker across mmap-exhaustion
41c43f9e0276 drm/i915: Inject a failure point when registering a connector
1c21348d1f3c drm/i915: move intel connector specific functions to intel_connector.c
360fa66ae857 drm/i915: rename intel_modes.c to intel_connector.c
aee7d9bee2db drm/i915: nuke the intel_lvds_connector
65404c89e953 drm/i915: Show the DPCD read error inline
1e712535c51a drm/i915/dp: Link train Fallback on eDP only if fallback link BW can fit panel's native mode
d4b26e4f438f drm/i915: add a common connector type independent destroy hook
a9f9ca33d1fe drm/i915: Fix intel_dp_mst_best_encoder()
f67207d78cea drm/i915: Skip vcpi allocation for MSTB ports that are gone
6ed5bb1fbad3 drm/i915: Don't unset intel_connector->mst_port
bc3213c44415 drm/i915: Drop the eDP check from intel_dp_connector_destroy()
19dfe5726bab drm/i915: Do intel_panel_destroy_backlight() later
71ffd49cc9b9 drm/i915/icl:Add Wa_1606682166
0c7d2aedf51b drm/i915/icl: Add Wa_1406609255
f53a70bd93f6 drm/i915: Fixup kernel doc for param name changes
881440a89ae1 drm/i915: Rename variables in intel_primary_plane_create()
a86d2590bafb drm/i915: s/intel_plane/plane/ in sprite init
b7c806007559 drm/i915: Extract skl_universal_plane_init()
c539b579b6c7 drm/i915: Introduce intel_plane_alloc()
2d72dc8b7c15 drm/i915: Move plane_state->scaler_id initialization into intel_create_plane_state()
97ee97b9782e drm/i915: Add missing pixel formats for skl+ "sprites"
37a411e2118b drm/i915: Disallow plane scaling with specific pixel formats
934882db2961 drm/i915: Allow horizontal mirroring for cnl+ "sprite" planes
ee6e0496de1f drm/i915: Don't populate plane->i9xx_plane for sprites
deb196895f84 drm/i915: Populate possible_crtcs for primary/cursor planes
679bfe847b62 drm/i915: Constify all plane_funcs structs
f42259ef810c drm/i915/gvt: invalidate old ggtt page when update ggtt entry
3a465b84ea38 drm/i915/psr: Remove alpm from i915_psr
66231d14e74a drm/i915/psr: Use WA to force HW tracking to exit PSR2
4755717b0ca8 drm/i915/psr: Remove PSR2 TODO error handling
fc6ff9dc9ecf drm/i915/psr: Make MASK_DISP_REG_WRITE reserved in PSR_MASK for ICL
bf80928fbf06 drm/i915/psr: Share PSR and PSR2 exit mask
00e5d8b1eb47 firmware/dmc/icl: Add missing MODULE_FIRMWARE() for Icelake.
443d5e3973e8 drm/i915/icl: MBUS B credit change
dfdaa566b7d4 drm/i915: Apply correct ddi translation table for AML device
ab2da3f8cd97 drm/i915: Add new AML_ULX support list
8e7a4424b996 drm/i915: Fix ILK-IVB sprite enable delays
6f405638c2ab drm/i915: Get rid of intel_crtc->config in crtc_enable/disable functions, v2.
958bb4528d16 drm/i915: Get rid of crtc->config in chv_data_lane_soft_reset
f56f6648404b drm/i915: Get rid of crtc->config dereference in intel_dp_retrain_link
6e3d9dd0ae0a drm/i915: Use crtc->state in intel_fbdev_init_bios
0e5fa64610f6 drm/i915: Get rid of crtc->config from icl_pll_to_ddi_pll_sel
5e1cdf541b24 drm/i915: Make ironlake_pch_transcoder_set_timings take crtc_state
65c307fd08dd drm/i915: Make shared dpll functions take crtc_state, v3.
b2354c78b125 drm/i915: Make pll functions take crtc_state, v2.
15cbe5d0926f drm/i915: Make skl_detach_scalers take crtc_state
7efd90fb4886 drm/i915: Use crtc_state in ironlake_enable_pch_transcoder
44fe7f35528c drm/i915: Make intel_set_pipe_timings/src_size take a pointer to crtc_state
b2562712d7de drm/i915: Make panel fitter functions take state
fdf73510ca81 drm/i915: Remove dereferences of crtc->config in set_pipeconf/misc functions, v2.
33373258cf02 drm/i915: Remove the global cache shrink & rcu barrier on allocation failure
88a83f3c2d7a drm/i915: Only reset seqno if actually idle
7a4a2a460458 drm/i915: Clean up early plane debugs
62358aa4ee86 drm/i915: Use the correct crtc when sanitizing plane mapping
68bc30deac62 drm/i915: Restore vblank interrupts earlier
9dbf5a4efd8a drm/i915: Provide more clues as to why MST is/is not used
0fc645f338e3 drm/i915/guc: Don't clear the cookie on doorbell destroy
48b426a9b9ab drm/i915/guc: init GuC descriptors after GuC load
4c9613ce556f drm/i915: Handle incomplete Z_FINISH for compressed error states
bc2477f7d3f3 drm/i915/execlists: Flush the CS events before unpinning
8f5c6fe46d6c drm/i915: Clear the error PTE just once on finish
83bc0f5b432f drm/i915: Handle incomplete Z_FINISH for compressed error states
5ec244f4afd0 drm/i915/selftests: Hold task_struct ref for smoking kthread
598c6cfe0690 drm/i915/psr: Enable PSR1 on gen-9+ HW
2ddcc982bdc5 drm/i915: fix wrong error number report
c0a6aa7ec2c3 drm/i915: Show actual alongside requested frequency in debugfs/i915_rps_boost_info
89d5efcc311c drm/i915: Replace some open-coded i915_coherent_map_type()
b20815255693 drm/i915: Add plane alpha blending support, v2.
7569bf95310e drm/i915/csr: Added ICL Stepping info
e9eaf82d97a2 drm/i915: Priority boost for waiting clients
e2f3496e93be drm/i915: Pull scheduling under standalone lock
b16c765122f9 drm/i915: Priority boost for new clients
790ea70c5eb5 drm/i915: Pass intel_encoder to infoframe functions
121f0ff52f77 drm/i915: Use memmove() for punching the hole into infoframes
4ca8ca9fe7dc drm/i915: Avoid compiler warning for maybe unused gu_misc_iir
bda6b1c95751 drm/i915: Do not redefine the has_csr parameter.
85f5e1f385b7 drm/i915: Combine multiple internal plists into the same i915_priolist bucket
7651a4452ddf drm/i915: Reserve some priority bits for internal use
567a60570589 drm/i915/selftests: Include arbitration points in preemption smoketest
992d2098ef0b drm/i915/selftests: Split preemption smoke test into threads
3159f943aafd xarray: Replace exceptional entries
7769db588384 drm/i915/dp: optimize eDP 1.4+ link config fast and narrow
9844bc87cb7a drm/i915/dp: Fix duplication of DEVICE_SERVICE_IRQ handling
cbfa8ac835cb drm/i915/dp: Kill intel_dp->detect_done flag
47658556da85 drm/i915/dp: Do not grab crtc modeset lock in intel_dp_detect()
d5acd97f5571 drm/i915/dp: Use a local variable for intel_encoder *
f24f6eb95807 drm/i915/dp: Restrict link retrain workaround to external monitors
9ebd8202393d drm/i915/dp: Fix link retraining comment in intel_dp_long_pulse()
db9825c95498 Merge tag 'drm-intel-next-2018-09-21' of git://anongit.freedesktop.org/drm/drm-intel into drm-next
a2bf92e8cc16 drm/i915/execlists: Avoid kicking priority on the current context
7fe78985cd08 drm/i915/csr: restructure CSR firmware definition macros
9531221df8f0 drm/i915: Check for panel orientation quirks on eDP panels
4bdafb9ddfa4 drm/i915: Remove i915.enable_ppgtt override
c5f6d578956a drm/i915: Log HWS seqno consistently
f8e57863f81f drm/i915: Trim partial view sg lists
dee4a0f8e70d drm/i915/selftests: Smoketest preemption
e7351a8474d2 drm/i915/csr: bypass firmware request on i915.dmc_firmware_path=""
d8a5b7d79fb7 drm/i915/csr: keep max firmware size together with firmare name and version
180e9d230efe drm/i915/csr: keep firmware name and required version together
bf78296ab1cb BackMerge v4.19-rc5 into drm-next
029c33add915 drm/i915: Remove duplicated definition of intel_update_rawclk
c9b818d3f9f4 drm/i915: Move IPC WA #1141 to init_ipc()
6323113b7af6 drm/i915: Move SKL IPC WA to HAS_IPC()
fd847b8e60e0 drm/i915: Do not modifiy reserved bit in gens that do not have IPC
6edafc4eb3e4 drm/i915: Unset reset pch handshake when PCH is not present in one place
7c86828d5645 drm/i915/runtime_pm: Share code to enable/disable PCH reset handshake
35c37ade79cd drm/i915/icl: Define TA_TIMING_PARAM registers
33868a91c1d9 drm/i915/icl: Define data/clock lanes dphy timing registers
7a90938332d8 drm/i915: Avoid compiler warning for maybe unused gu_misc_iir
74f6e183913b drm/i915: Convert to BITS_PER_TYPE
2863b00941bc Merge drm/drm-next into drm-intel-next-queued
fc3fed5d297b drm/i915: Check fb stride against plane max stride
0a3c561da12b drm/i915: Enable RGB565 90/270 plane rotation for gen11 onwards.
4a3d3f6785be drm/i915: Match code to comment and enforce ppgtt for execlists
570b16b559be drm/i915: use for_each_pipe loop to assign crtc_mask
8db05f594713 drm/i915/execlists: Assert the queue is non-empty on unsubmitting
70a7b83628fa drm/i915/icl: Program T_INIT_MASTER registers
ba3df888be90 drm/i915/icl: Enable DDI Buffer
3f4b9d9d02c6 drm/i915/icl: DSI vswing programming sequence
fc41001d9708 drm/i915/icl: Configure lane sequencing of combo phy transmitter
945ac78928fa drm/i915: Force planar YUV coordinates to be a multiple of 2, v2.
ab5c60bf7675 drm/i915: Move programming plane scaler to its own function.
0aaf29b35f93 drm/i915: Clean up scaler setup, v2.
6c246b81f938 drm/i915: Replace call to commit_planes_on_crtc with internal update, v2.
f59e9701dbdc drm/i915: Make intel_crtc_disable_planes() use active planes mask.
62ef0dd3cc0c drm/i915: Unconditionally clear plane visibility, v2.
c249c5f64336 drm/i915: Handle cursor updating active_planes correctly, v2.
a1cccdcf330e drm/i915: Clean up casts to crtc_state in intel_atomic_commit_tail()
448626103dad drm/i915: Update DRIVER_DATE to 20180921
8169671ababf drm/i915: Update DRIVER_DATE to 20180921
b2164e481556 drm/i915/execlists: Onion unwind for logical_ring_init() failure
8e1cb32d515b drm/i915: Park the GPU on module load
b8bdd9cc6049 drm/i915/selftests: Live tests emit requests and so require rpm
8c01903c171d drm/i915: pass dev_priv to i915_gem_cleanup_stolen
c6d22ab61bfd drm/i915: don't assume struct page in i915_sg_trim
8fcd86baab77 drm/i915/guc: Restore preempt-context across S3/S4
a47cd45a37c9 drm/i915/selftests: Basic stress test for rapid context switching
82c7c4fcbf84 drm/i915/selftests: Free the batch along the contexts error path
795241040a91 Merge tag 'drm-misc-next-2018-09-19' of git://anongit.freedesktop.org/drm/drm-misc into drm-next
53ca2edcf033 drm: Change limited M/N quirk to constant N quirk.
9e3b5ce948f6 drm/i915/psr: Enable AUX-A IO power well on ICL for PSR
aa2b88074a56 drm/i915/sdvo: Fix multi function encoder stuff
1ee516ffa731 drm/i915: Fix logic fumble in rotation vs. ccs check
a530bf948ab7 Merge tag 'gvt-fixes-2018-09-18' of https://github.com/intel/gvt-linux into drm-intel-fixes
21c62a9d1625 drm/i915: Replace some PAGE_SHIFTs with I915_GTT_PAGE_SIZE
7759ca3aac79 drm/i915/gvt: clear ggtt entries when destroy vgpu
a1ac5f094301 drm/i915/gvt: request srcu_read_lock before checking if one gfn is valid
d817de3bc186 drm/i915/gvt: Add GEN9_CLKGATE_DIS_4 to default BXT mmio handler
db7c8f1e5f1c drm/i915/gvt: Init PHY related registers for BXT
8e3ffa8d0275 drm/i915: Limit number of capture objects
8db601f09127 drm/i915/execlists: Reset CSB pointers on canceling requests (wedging)
5791bad4bc1f drm/i915: Include fence-hint for timeout warning
666424abfb86 drm/i915/execlists: Use coherent writes into the context image
37d7c9cc2eb6 drm/i915: Check engine->default_state mapping on module load
dee60ca1f352 drm/i915/execlists: Delay updating ring register state after resume
22495b68f954 drm/i915: Flush the tasklet when checking for idle
11abf0c5a021 drm/i915: Limit the backpressure for i915_request allocation
430317881795 drm/i915: Mark up a couple of KMS debug messages as such
2dc7bad71cd3 Merge tag 'drm-misc-next-2018-09-13' of git://anongit.freedesktop.org/drm/drm-misc into drm-next
8a6c5447635c drm/i915/kbl+: Enable IPC only for symmetric memory configurations
f361912aa9bf drm/i915/skl+: don't trust IPC value set by BIOS
86b592876cb6 drm/i915: Implement 16GB dimm wa for latency level-0
5771caf885ae drm/i915/skl+: Decode memory bandwidth and parameters
cbfa59d4b331 drm/i915/bxt: Decode memory bandwidth and parameters
4445930f1c4a firmware/dmc/icl: load v1.07 on icelake.
4e05047d3e00 drm/i915: Fix a potential integer overflow with framebuffers extending past 4 GiB
f6e35cda6614 drm/i915: Replace some PAGE_SIZE with I915_GTT_PAGE_SIZE
1feb64c49d7f drm/i915: Clear DRIVER_ATOMIC on a per-device basis
722f3de39e03 i915/oa: Simplify updating contexts
fce8d235e2ef drm/i915: Extract intel_cursor_check_surface()
25721f820beb drm/i915: Move chv rotation checks to plane->check()
7326659513fa drm/i915: Move display w/a #1175
e21c2d331018 drm/i915: Move skl plane fb related checks into a better place
4e0b83a567e2 drm/i915: Extract per-platform plane->check() functions
fd6e3c6c21f4 drm/i915: Nuke plane->can_scale/min_downscale
5d2a19507cb6 drm/i915: s/int plane/int color_plane/
f5929c5309a6 drm/i915: Store ggtt_view in plane_state
df79cf441910 drm/i915: Store the final plane stride in plane_state
c11ada0776b9 drm/i915: Rename the plane_state->main/aux to plane_state->color_plane[]
645d91f6060c drm/i915: Use pipe A primary plane .max_stride() as the global stride limit
ddd5713d6e56 drm/i915: Add .max_stride() plane hook
6d19a44ccee6 drm/i915: s/tile_offset/aligned_offset/ etc.
35e882a4441e drm/i915: Reorder execobject[] to insert non-48b objects into the low 4G
e2a13d1b2407 drm/i915/ringbuffer: Reload PDs harder on byt/bcs
d3f3e5e438d3 drm/i915: Nuke struct_mutex from context_setparam
146cdf3fad9c drm/i915/icl: Define T_INIT_MASTER registers
17dc7af70e89 drm/i915/overlay: Allocate physical registers from stolen
f9055e74f897 drm/i915/overlay: Use the ioctl parameters directly
c8124d399224 drm/i915/overlay: Allocate physical registers from stolen
c59d2da8ec18 drm/i915/chv: Update csc coefficient matrix during modeset
b1c1566822ab Merge tag 'drm-intel-next-2018-09-06-2' of git://anongit.freedesktop.org/drm/drm-intel into drm-next
50cbc03e5096 Merge tag 'gvt-fixes-2018-09-10' of https://github.com/intel/gvt-linux into drm-intel-fixes
b84d9ab0b723 drm/i915/guc: Update GuC power domain states
92a680314946 drm/i915/bdw: Increase IPS disable timeout to 100ms
72fdb40c1a4b drm: extract drm_atomic_uapi.c
d78aa650670d drm: Add drm/drm_util.h header file
5f521722a2a2 drm/i915: Missed interrupt simulation is no more, tell the world
f5169a17af4e Merge tag 'drm-misc-next-2018-09-05' of git://anongit.freedesktop.org/drm/drm-misc into drm-next
a28957b8f10b drm/i915: Update DRIVER_DATE to 20180906
5781cf82553c Merge tag 'gvt-next-2018-09-04' of https://github.com/intel/gvt-linux into drm-intel-next-queued
d4da8a4d4004 drm/i915: Update DRIVER_DATE to 20180906
01a84c11a5e6 drm/i915: Update DRIVER_DATE to 20180906
9a09a42369a4 drm: expand replace_fence to support timeline point v2
792fab2c0d45 drm/i915/gvt: Fix the incorrect length of child_device_config issue
31962ca6a260 drm/i915: Move final cleanup of drm_i915_private to i915_driver_destroy
55ac5a1614f9 drm/i915: Attach the pci match data to the device upon creation
acb3ef0ee40e drm/i915/bdw: Increase IPS disable timeout to 100ms
288f1ced5e24 drm/i915: Reduce context HW ID lifetime
9d3f8d2ff777 drm/i915: Be defensive and don't assume PSR has any commit to sync against
a167b1e1319c drm/i915: Pull intel_uncore_arm_unclaimed_mmio_detection() under the spinlock
b212f0a470ee drm/i915/icl: Fix context RPCS programming
06348d3086a3 drm/i915/ringbuffer: Move double invalidate to after pd flush
7ef4ac6ed9ed drm/i915: Double check we didn't miss an unclaimed register access
9f9d594d952a drm/i915: Fix ICL+ HDMI clock readout
0a1b60d76b0a drm/i915/gvt: Fix life cycle reference on KVM mm
2b82435cb90b drm/i915/dp_mst: Fix enabling pipe clock for all streams
4fe967912ee8 drm/i915/dsc: Fix PPS register definition macros for 2nd VDSC engine
399334708b4f drm/i915: Re-apply "Perform link quality check, unconditionally during long pulse"
d6acae363e63 drm/i915: Use a cached mapping for the physical HWS
a0e731f4e26c drm/i915: Combine cleanup_status_page()
46223993c2e4 drm/i915: Fix up FORCE_GPU_RELOC (debug) to flush CPU write domains
34f89904b01e drm/i915: Update DRIVER_DATE to 20180903
6b048706f407 drm/i915: Forcibly flush unwanted requests in drop-caches
e0ff7a7cddef drm/i915: Early rejection of buffer allocations larger than RAM
fddcd00a49e9 drm/i915: Force the slow path after a user-write error
aae7c06b34e4 drm/i915: Flag any possible writes for a GTT fault
2bfbf6fed1a0 drm/i915: Do a full device reset after being wedged
4f2c7337af63 drm/i915: Determine uses-full-ppgtt from context for execbuf
54ff01fd0d44 drm/i915/gvt: Give new born vGPU higher scheduling chance
48e905048f39 drm/i915: Explicitly mark Global GTT address spaces
2b5cf4ef541f drm/i915/dp_mst: Fix enabling pipe clock for all streams
35ab4fd2b98b drm/i915/perf: reuse intel_lrc ctx regs macro
1c71bc565cdb drm/i915/perf: simplify configure all context function
a64f88874930 drm/i915/intel_csr.c Fix DMC FW Loading issue on ICL.
3f51b7e1f36a drm/i915/selftests: Add a simple exerciser for suspend/hibernate
4a477651033e drm/i915: Keep physical cursors pinned while in use
70b73f9ac113 drm/i915/ringbuffer: Delay after invalidating gen6+ xcs
096055487115 drm/i915: clear error registers after error capture
381116d327b5 drm/i915: Update DRIVER_DATE to 20180830
6e4adef7e4b0 drm/i915: Update DRIVER_DATE to 20180830
b244ffa15c8b drm/i915/gvt: Fix drm_format_mod value for vGPU plane
b2b599fb54f9 drm/i915/gvt: move intel_runtime_pm_get out of spin_lock in stop_schedule
b9b824a55876 drm/i915/gvt: Handle GEN9_WM_CHICKEN3 with F_CMD_ACCESS.
c8ab5ac30ccc drm/i915/gvt: Make correct handling to vreg BXT_PHY_CTL_FAMILY
9174c1d6196d drm/i915/gvt: emulate gen9 dbuf ctl register access
80ab316901bc drm/i915/audio: Hook up component bindings even if displays are disabled
299c2a904b1e drm/i915: Increase LSPCON timeout
f013027e2665 drm/i915: Stop holding a ref to the ppgtt from each vma
9e4fa01221b3 drm/i915/execlists: Flush tasklet directly from reset-finish
d8c5d29f21bf drm/i915: Don't check power domains state in intel_power_domains_init_hw()
5df52391ddbe drm/i915/dsc: Fix PPS register definition macros for 2nd VDSC engine
1b1b1162745e drm/i915: Free write_buf that we allocated with kzalloc.
5b2695fd4b20 drm/i915: Fix glk/cnl display w/a #1175
b45649fbd5bf drm/i915: Do not advertize support for NV12 on ICL yet.
18563409b132 drm/i915: Clean up skl_plane_has_planar()
0d45db9c7a02 drm/i915: Reject compressed Y/Yf with interlaced modes
eb0f50441056 drm/i915: Don't pass plane to .check_plane()
ed11e4158451 drm/i915: Fix gtt_view asserts
1895759ee932 drm/i915: Use dp_to_i915 on intel_psr.c
de25eb7f3075 drm/i915: introduce dp_to_i915() helper
5382bed38f09 drm/i915/selftests: ring all doorbells in igt_guc_doorbells
65df9c7947d7 drm/i915/psr: Rewrite comments in intel_psr_wait_for_idle()
fd255f6e3704 drm/i915/psr: Remove wait_for_idle() for PSR2
bc537a9cc47e Merge drm/drm-next into drm-misc-next
3cf71bc9904d drm/i915: Re-apply "Perform link quality check, unconditionally during long pulse"
f7480b2f6591 drm/i915: move lookup_power_well() up
0229bfd42bbe drm/i915: use for_each_power_well in lookup_power_well()
99da0b35396f drm/i915: WARN() if we can't lookup_power_well()
39d1e234e1e1 drm/i915/icl: implement the tc/legacy HPD {dis,}connect flows
62d3a8deaa10 drm/i915: Free write_buf that we allocated with kzalloc.
a61d904fd6fa drm/i915: Simplify condition to keep DMC active during S0ix
815f0ddb346c include/linux/compiler*.h: make compiler-*.h mutually exclusive
53867b46fa84 drm/i915: Rename PLANE_CTL_DECOMPRESSION_ENABLE
63eaf9acc00d drm/i915: Add a small wrapper to check for CCS modifiers.
0577ab482f46 drm/i915/psr: Add PSR mode/revision to debugfs
93065ac753e4 mm, oom: distinguish blockable mode for mmu notifiers
c0811a7d5bef drm/crc: Cleanup crtc_crc_open function
b1f1c2c11fc6 drm/i915: Fix glk/cnl display w/a #1175
1aeb1b5fa069 drm/i915/psr: Mask PSR irq bits when re-enabling interrupts.
9844d4bf3eb4 drm/i915/psr: Add missing check for I915_PSR_DEBUG_IRQ bit
63ec132d5b60 drm/i915/psr: Print PSR_STATUS when PSR idle wait times out.
df4f94e810fc drm/i915: Correct CSB probing for engine state dumper
532c2b926dda Merge tag 'mfd-next-4.19' of git://git.kernel.org/pub/scm/linux/kernel/git/lee/mfd
